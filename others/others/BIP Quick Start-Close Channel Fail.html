<html>
<head>
  <title>BIP Quick Start-Close Channel Fail</title>
  <basefont face="Microsoft YaHei" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/301769 (zh-CN); Windows/6.3.9600 (Win64);"/>
  <meta name="application-data:corenote-hostUUID" content="A20A072C-3573-4EC8-B3CF-3C90E272CC71"/>
  <meta name="application-data:corenote-localUUID" content="5C07C59A-0D54-4F68-990A-8F264D5ECDA9"/>
  <style>
    body, td {
      font-family: Microsoft YaHei;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2490"/>
<h1>BIP Quick Start-Close Channel Fail</h1>

<div><span><br/><div style="font-size: 16px"><div style="box-sizing:border-box;font-family:RionaSans, Helvetica, 微軟雅黑, 'Microsoft YaHei', Song, PMingLiU, sans-serif;font-size:11pt;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);line-height:1.6em;color:rgb(53, 54, 48);"><div style="background-size:cover;box-sizing:border-box;overflow:auto;color:rgb(53, 54, 48);font-size:14px;background-color:rgb(255, 255, 255);font-family:RionaSans, Helvetica, 微軟雅黑, 'Microsoft YaHei', Song, PMingLiU, sans-serif;background-repeat:no-repeat;line-height:1.42857143;word-break:keep-all;background-image:url(https://onlinesso.mediatek.com/_layouts/15/1033/styles/Themable/corev15.css?rev=ox%2BqLd6WTqhn6d%2FMqf2BMw%3D%3D);height:100%;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;background-color:rgba(255, 255, 255, 0.85098);overflow:visible;height:547px;width:1265px;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;overflow:auto;"><span style="display:table;"> </span>
             <h3 style="box-sizing:border-box;margin:auto;font-family:RionaSans, Helvetica, 微軟雅黑, 'Microsoft YaHei', Song, PMingLiU, sans-serif;color:rgb(53, 54, 48);line-height:1.1;margin-top:20px;margin-bottom:10px;font-weight:bold;font-size:24px;text-transform:uppercase;">Quick Start</h3>
		     <hr style="box-sizing:content-box;border-top-style:solid;border-top-color:rgb(238, 238, 238);height:0.1875em;margin:0px 0.1875em;border:0px none;background-color:rgb(0, 161, 222);"/>
             <div style="box-sizing:border-box;text-align:center;font-size:18px;color:rgb(0, 153, 204);padding:32px;">
	             
	             <span style="box-sizing:border-box;">BIP测试快速入门</span>
	         </div>
	     
             <div style="box-sizing:border-box;margin-right:-15px;margin-left:-15px;"><span style="display:table;"> </span>
				   <div style="box-sizing:border-box;">
					 <div style="box-sizing:border-box;position:relative;min-height:1px;padding-right:15px;padding-left:15px;float:left;width:25%;"><ul style="box-sizing:border-box;list-style:none;margin:0px;padding:0px;">
						 
									<div style="box-sizing:border-box;">
										 <div style="box-sizing:border-box;text-align:center;line-height:40px;background:rgb(0, 153, 204);cursor:default;">
											<span style="box-sizing:border-box;color:rgb(255, 255, 255);font-weight:700;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:180px;">Common Knowledge</span>
										</div>
										
									</div>
									
												<li style="border-right-style:solid;box-sizing:border-box;border-right-color:rgb(187, 187, 187);cursor:pointer;border-bottom-style:solid;border-bottom-color:rgb(222, 222, 222);border-right-width:1px;line-height:30px;border-bottom-width:1px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(187, 187, 187);margin:0px;background:rgb(248, 248, 248);">
													 <a href="https://onlinesso.mediatek.com/_layouts/15/mol/topic/ext/TopicRichTextRedirect.aspx?Id=1118" style="box-sizing:border-box;background-color:transparent;color:rgb(76, 76, 76);text-decoration:none;">
														<div style="box-sizing:border-box;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:90%;padding-left:9px;padding-right:9px;">
															<span style="box-sizing:border-box;font-size:20px;padding-right:3px;">1</span>BIP简介
															<b style="box-sizing:border-box;font-weight:700;position:absolute;right:30px;margin-top:15px;"><i style="box-sizing:border-box;position:absolute;display:block;height:0px;width:0px;border-color:transparent transparent transparent rgb(102, 102, 102);border-style:dashed dashed dashed solid;border-width:4px 0px 4px 4px;"></i></b>
														</div>
														
													</a> 
												 </li>
											 
								
									<div style="box-sizing:border-box;">
										 <div style="box-sizing:border-box;text-align:center;line-height:40px;background:rgb(0, 153, 204);cursor:default;">
											<span style="box-sizing:border-box;color:rgb(255, 255, 255);font-weight:700;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:180px;">BIP测试必读</span>
										</div>
										
									</div>
									
												<li style="border-right-style:solid;box-sizing:border-box;border-right-color:rgb(187, 187, 187);cursor:pointer;border-bottom-style:solid;border-bottom-color:rgb(222, 222, 222);border-right-width:1px;line-height:30px;border-bottom-width:1px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(187, 187, 187);margin:0px;background:rgb(248, 248, 248);">
													 <a href="https://onlinesso.mediatek.com/_layouts/15/mol/topic/ext/TopicRichTextRedirect.aspx?Id=1119" style="box-sizing:border-box;background-color:transparent;color:rgb(76, 76, 76);text-decoration:none;">
														<div style="box-sizing:border-box;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:90%;padding-left:9px;padding-right:9px;">
															<span style="box-sizing:border-box;font-size:20px;padding-right:3px;">2</span>注意事项
															<b style="box-sizing:border-box;font-weight:700;position:absolute;right:30px;margin-top:15px;"><i style="box-sizing:border-box;position:absolute;display:block;height:0px;width:0px;border-color:transparent transparent transparent rgb(102, 102, 102);border-style:dashed dashed dashed solid;border-width:4px 0px 4px 4px;"></i></b>
														</div>
														
													</a> 
												 </li>
											
												<li style="border-right-style:solid;box-sizing:border-box;border-right-color:rgb(187, 187, 187);cursor:pointer;border-bottom-style:solid;border-bottom-color:rgb(222, 222, 222);border-right-width:1px;line-height:30px;border-bottom-width:1px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(187, 187, 187);margin:0px;background:rgb(248, 248, 248);">
													 <a href="https://onlinesso.mediatek.com/_layouts/15/mol/topic/ext/TopicRichTextRedirect.aspx?Id=1134" style="box-sizing:border-box;background-color:transparent;color:rgb(76, 76, 76);text-decoration:none;">
														<div style="box-sizing:border-box;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:90%;padding-left:9px;padding-right:9px;">
															<span style="box-sizing:border-box;font-size:20px;padding-right:3px;">3</span>Patch List
															<b style="box-sizing:border-box;font-weight:700;position:absolute;right:30px;margin-top:15px;"><i style="box-sizing:border-box;position:absolute;display:block;height:0px;width:0px;border-color:transparent transparent transparent rgb(102, 102, 102);border-style:dashed dashed dashed solid;border-width:4px 0px 4px 4px;"></i></b>
														</div>
														
													</a> 
												 </li>
											 
								
									<div style="box-sizing:border-box;">
										 <div style="box-sizing:border-box;text-align:center;line-height:40px;background:rgb(0, 153, 204);cursor:default;">
											<span style="box-sizing:border-box;color:rgb(255, 255, 255);font-weight:700;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:180px;">BIP常见问题</span>
										</div>
										
									</div>
									
												<li style="border-right-style:solid;box-sizing:border-box;border-right-color:rgb(187, 187, 187);cursor:pointer;border-bottom-style:solid;border-bottom-color:rgb(222, 222, 222);border-right-width:1px;line-height:30px;border-bottom-width:1px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(187, 187, 187);margin:0px;background:rgb(248, 248, 248);">
													 <a href="https://onlinesso.mediatek.com/_layouts/15/mol/topic/ext/TopicRichTextRedirect.aspx?Id=1135" style="box-sizing:border-box;background-color:transparent;color:rgb(76, 76, 76);text-decoration:none;">
														<div style="box-sizing:border-box;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:90%;padding-left:9px;padding-right:9px;">
															<span style="box-sizing:border-box;font-size:20px;padding-right:3px;">4</span>OPEN CHANNEL失败
															<b style="box-sizing:border-box;font-weight:700;position:absolute;right:30px;margin-top:15px;"><i style="box-sizing:border-box;position:absolute;display:block;height:0px;width:0px;border-color:transparent transparent transparent rgb(102, 102, 102);border-style:dashed dashed dashed solid;border-width:4px 0px 4px 4px;"></i></b>
														</div>
														
													</a> 
												 </li>
											
												<li style="border-right-style:solid;box-sizing:border-box;border-right-color:rgb(187, 187, 187);cursor:pointer;border-bottom-style:solid;border-bottom-color:rgb(222, 222, 222);margin:0px;line-height:30px;border-bottom-width:1px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(187, 187, 187);border-right-width:0px;background:rgb(255, 255, 255);">
													 <a href="https://onlinesso.mediatek.com/_layouts/15/mol/topic/ext/TopicRichTextRedirect.aspx?Id=1136" style="box-sizing:border-box;background-color:transparent;text-decoration:none;color:rgb(0, 153, 204);font-weight:700;">
														<div style="box-sizing:border-box;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:90%;padding-left:9px;padding-right:9px;">
															<span style="box-sizing:border-box;font-size:20px;padding-right:3px;">5</span>CLOSE CHANNEL失败
															<b style="box-sizing:border-box;font-weight:700;position:absolute;right:30px;margin-top:15px;"><i style="box-sizing:border-box;position:absolute;display:block;height:0px;width:0px;border-style:dashed dashed dashed solid;border-width:4px 0px 4px 4px;border-color:transparent transparent transparent rgb(0, 153, 204);"></i></b>
														</div>
														
													</a> 
												 </li>
											
												<li style="border-right-style:solid;box-sizing:border-box;border-right-color:rgb(187, 187, 187);cursor:pointer;border-bottom-style:solid;border-bottom-color:rgb(222, 222, 222);border-right-width:1px;line-height:30px;border-bottom-width:1px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(187, 187, 187);margin:0px;background:rgb(248, 248, 248);">
													 <a href="https://onlinesso.mediatek.com/_layouts/15/mol/topic/ext/TopicRichTextRedirect.aspx?Id=1138" style="box-sizing:border-box;background-color:transparent;color:rgb(76, 76, 76);text-decoration:none;">
														<div style="box-sizing:border-box;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:90%;padding-left:9px;padding-right:9px;">
															<span style="box-sizing:border-box;font-size:20px;padding-right:3px;">6</span>时序问题
															<b style="box-sizing:border-box;font-weight:700;position:absolute;right:30px;margin-top:15px;"><i style="box-sizing:border-box;position:absolute;display:block;height:0px;width:0px;border-color:transparent transparent transparent rgb(102, 102, 102);border-style:dashed dashed dashed solid;border-width:4px 0px 4px 4px;"></i></b>
														</div>
														
													</a> 
												 </li>
											 
								
									<div style="box-sizing:border-box;">
										 <div style="box-sizing:border-box;text-align:center;line-height:40px;background:rgb(0, 153, 204);cursor:default;">
											<span style="box-sizing:border-box;color:rgb(255, 255, 255);font-weight:700;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:180px;">相关FAQ</span>
										</div>
										
									</div>
									
												<li style="border-right-style:solid;box-sizing:border-box;border-right-color:rgb(187, 187, 187);cursor:pointer;border-bottom-style:solid;border-bottom-color:rgb(222, 222, 222);border-right-width:1px;line-height:30px;border-bottom-width:1px;border-left-width:1px;border-left-style:solid;border-left-color:rgb(187, 187, 187);margin:0px;background:rgb(248, 248, 248);">
													 <a href="https://onlinesso.mediatek.com/_layouts/15/mol/topic/ext/TopicOtherUrlRedirect.aspx?Id=1137" style="box-sizing:border-box;background-color:transparent;color:rgb(76, 76, 76);text-decoration:none;">
														<div style="box-sizing:border-box;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:90%;padding-left:9px;padding-right:9px;">
															<span style="box-sizing:border-box;font-size:20px;padding-right:3px;">7</span>相关FAQ
															<b style="box-sizing:border-box;font-weight:700;position:absolute;right:30px;margin-top:15px;"><i style="box-sizing:border-box;position:absolute;display:block;height:0px;width:0px;border-color:transparent transparent transparent rgb(102, 102, 102);border-style:dashed dashed dashed solid;border-width:4px 0px 4px 4px;"></i></b>
														</div>
														
													</a> 
												 </li>
											 
								
					  </ul></div><div style="box-sizing:border-box;position:relative;min-height:1px;padding-right:15px;padding-left:15px;float:left;width:75%;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221, 221, 221);"><div style="box-sizing:border-box;overflow:hidden;padding-right:10px;position:relative;word-wrap:break-word;word-break:break-all;display:block;">




     
	

    




     <div style="box-sizing:border-box;">
<div style="box-sizing:border-box;">


</div>




         
	    <span style="box-sizing:border-box;"><div style="box-sizing:border-box;">
<div style="box-sizing:border-box;">
<h3 style="box-sizing:border-box;margin:13pt 0cm;font-family:RionaSans, Helvetica, 微軟雅黑, 'Microsoft YaHei', Song, PMingLiU, sans-serif;color:rgb(53, 54, 48);line-height:1.1;margin-top:20px;margin-bottom:10px;font-weight:bold;font-size:24px;text-transform:uppercase;"><font size="5" style="box-sizing:border-box;"><span style="box-sizing:border-box;font-family:宋体;">问题</span><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">7.<span style="box-sizing:border-box;">  </span>BIP</font></span><span style="box-sizing:border-box;font-family:宋体;">流程测试时，</span><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">CLOSE CHANNEL fail</font></span><span style="box-sizing:border-box;font-family:宋体;">。</span></font></h3>
<p style="box-sizing:border-box;margin:6pt 0cm;"><b style="box-sizing:border-box;font-weight:700;"><span lang="EN-US" style="box-sizing:border-box;color:#0000cc;line-height:115%;"><font face="Calibri" style="box-sizing:border-box;">[</font></span></b><b style="box-sizing:border-box;font-weight:700;"><span style="box-sizing:border-box;color:#0000cc;line-height:115%;font-family:宋体;">分析结论</span></b><font face="Calibri" style="box-sizing:border-box;"><b style="box-sizing:border-box;font-weight:700;"><span lang="EN-US" style="box-sizing:border-box;color:#0000cc;line-height:115%;">]<span style="box-sizing:border-box;">  </span></span></b><b style="box-sizing:border-box;font-weight:700;"><span lang="EN-US" style="box-sizing:border-box;line-height:115%;"><span style="box-sizing:border-box;">  </span></span></b></font></p>
<p style="box-sizing:border-box;margin:6pt 0cm;line-height:normal;"><span style="box-sizing:border-box;font-family:宋体;">当</span><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">TcpReceiverThread</font></span><span style="box-sizing:border-box;font-family:宋体;">获取从</span><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;"> network </font></span><span style="box-sizing:border-box;font-family:宋体;">发来的数据时，如果得到的数据长度</span><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;"> &lt; 0</font></span><span style="box-sizing:border-box;font-family:宋体;">，则认为</span><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">socket connection is lost</font></span><span style="box-sizing:border-box;font-family:宋体;">，并直接</span><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;"> close channel</font></span><span style="box-sizing:border-box;font-family:宋体;">和清空相关信息，导致后续的</span><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;"> CLOSE CHANNEL </font></span><span style="box-sizing:border-box;font-family:宋体;">命令执行时返回</span><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;"> fail</font></span><span style="box-sizing:border-box;font-family:宋体;">的问题。</span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><b style="box-sizing:border-box;font-weight:700;"><span lang="EN-US" style="box-sizing:border-box;color:#0000cc;line-height:115%;"><font face="Calibri" style="box-sizing:border-box;">[LOG</font></span></b><b style="box-sizing:border-box;font-weight:700;"><span style="box-sizing:border-box;color:#0000cc;line-height:115%;font-family:宋体;">分析</span></b><b style="box-sizing:border-box;font-weight:700;"><span lang="EN-US" style="box-sizing:border-box;color:#0000cc;line-height:115%;"><font face="Calibri" style="box-sizing:border-box;">]<span style="box-sizing:border-box;">  </span><span style="box-sizing:border-box;">  </span></font></span></b></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">//</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">当得到的</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">network</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">发来的数据长度是</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;"> -1 </font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">时，错误地判定为</span><span style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;"> <span lang="EN-US" style="box-sizing:border-box;">socket</span></font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">连接断开，就做了 </span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">close channel</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">，</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">remove channel</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">相关的信息等动作，以下是一些关键</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">log</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">：</span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">02-06 17:40:30.269119   871  2066 D CAT     : [BIP]: <span style="box-sizing:border-box;background:yellow;">[TCP]</span><b style="box-sizing:border-box;font-weight:700;"><span style="box-sizing:border-box;color:red;">RecTr: recvLen</span></b>:<b style="box-sizing:border-box;font-weight:700;"><span style="box-sizing:border-box;color:red;">-1</span></b></font></span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">02-06 17:40:30.269216   871  2066 E CAT     : String: <span style="box-sizing:border-box;background:yellow;">[TCP]</span><b style="box-sizing:border-box;font-weight:700;"><span style="box-sizing:border-box;color:red;">RecTr: socket connection is lost.</span></b></font></span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">02-06 17:40:30.269259   871  2066 D CAT     : [BIP]: <span style="box-sizing:border-box;background:yellow;">[TCP]closeChannel</span>.</font></span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">02-06 17:40:30.269312   871  2066 D CAT     : [BIP]: requestStop: true</font></span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">02-06 17:40:30.270498   871  2066 D CAT     : [BIP]: BCM-<span style="box-sizing:border-box;background:yellow;">removeChannel</span>:1</font></span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">//SEND DATA </font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">上报后，手机</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;"> send data </font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">是失败的。</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">sendData</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">相关的</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">trace</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">中</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">Enter</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">后直接就</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">Leave</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">了，正常情况下，</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">Leave</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">的</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">trace</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">后还会有发送多少数据的</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;"> trace</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">打印出来。且</span><span style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;"> </font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">回复的</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">TR </font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">中也含有</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;"> BIP ERROR </font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">的信息：</span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">02-06 17:40:30.418560   514   533 D AT      : RIL_URC_READER:+STKPCI: 0,&quot;D030810301430182028121362515030100203BE5C0BE68DAB1756D90CAC20126533B7C93F28A54FCA682FFA0239CF2DC20A7&quot;</font></span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">02-06 17:40:30.668851   871   871 D CAT     : [BIP]: sendData: Enter</font></span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">02-06 17:40:30.668885   871   871 D CAT     : [BIP]: SendDataThread Init</font></span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">02-06 17:40:30.673641   871   871 D CAT     : [BIP]: sendData: Leave</font></span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">02-06 17:40:30.681883   514   521 D AT      : AT&gt; AT+STKTR=&quot;81030143018202828183023a03&quot;</font></span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">// CLOSE CHANNEL</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">上报后，手机</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;"> close channel </font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">是失败的。</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">closeChannel</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">的</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">log</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">中</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;"> enter </font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">后直接就是</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;"> exit</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">了。正常情况下，</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">closeChannel</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">还有其他</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">trace</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">打印出来，比如</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;"> remove</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">等。另外，回复的</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;">TR </font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">中也包含了</span><span lang="EN-US" style="box-sizing:border-box;background:lime;"><font face="Calibri" style="box-sizing:border-box;"> BIP ERROR (3a)</font></span><span style="box-sizing:border-box;background:lime;font-family:宋体;">的信息：</span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">02-06 17:40:30.693410   514   533 D AT      : RIL_URC_READER:+STKPCI: 0,&quot;D009810301410082028121&quot;</font></span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">02-06 17:40:30.697902   871   871 D CAT     : [BIP]: new closeChannel, mCloseCid: 1</font></span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">02-06 17:40:30.697998   871   871 D CAT     : [BIP]: BM-<span style="box-sizing:border-box;background:yellow;">closeChannel</span>: enter</font></span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">02-06 17:40:30.698296   871   871 D CAT     : [BIP]: BM-closeChannel: exit</font></span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span lang="EN-US" style="box-sizing:border-box;"><font face="Calibri" style="box-sizing:border-box;">02-06 17:40:30.715569   514   521 D AT      : AT&gt; AT+STKTR=&quot;810301410082028281<span style="box-sizing:border-box;background:yellow;">8302<b style="box-sizing:border-box;font-weight:700;"><span style="box-sizing:border-box;color:red;">3a</span></b>02</span>&quot;</font></span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><b style="box-sizing:border-box;font-weight:700;"><span lang="EN-US" style="box-sizing:border-box;color:#0000cc;line-height:115%;"><font face="Calibri" style="box-sizing:border-box;">[</font></span></b><b style="box-sizing:border-box;font-weight:700;"><span style="box-sizing:border-box;color:#0000cc;line-height:115%;font-family:宋体;">解决方法</span></b><b style="box-sizing:border-box;font-weight:700;"><span lang="EN-US" style="box-sizing:border-box;color:#0000cc;line-height:115%;"><font face="Calibri" style="box-sizing:border-box;">]<span style="box-sizing:border-box;">   </span></font></span></b></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span style="box-sizing:border-box;font-size:12pt;line-height:115%;font-family:宋体;">当</span><font face="Calibri" style="box-sizing:border-box;"><span style="box-sizing:border-box;font-size:12pt;line-height:115%;"> </span><b style="box-sizing:border-box;font-weight:700;"><span lang="EN-US" style="box-sizing:border-box;color:red;">recvLen </span></b></font><b style="box-sizing:border-box;font-weight:700;"><span style="box-sizing:border-box;color:red;font-family:宋体;">为</span><span lang="EN-US" style="box-sizing:border-box;color:red;"><font face="Calibri" style="box-sizing:border-box;"> -1 </font></span></b><span style="box-sizing:border-box;font-size:12pt;line-height:115%;font-family:宋体;">时，</span><span lang="EN-US" style="box-sizing:border-box;font-size:12pt;line-height:115%;"><font face="Calibri" style="box-sizing:border-box;">ME</font></span><span style="box-sizing:border-box;font-size:12pt;line-height:115%;font-family:宋体;">不再去主动</span><span lang="EN-US" style="box-sizing:border-box;font-size:12pt;line-height:115%;"><font face="Calibri" style="box-sizing:border-box;"> close channel</font></span><span style="box-sizing:border-box;font-size:12pt;line-height:115%;font-family:宋体;">和</span><span lang="EN-US" style="box-sizing:border-box;font-size:12pt;line-height:115%;"><font face="Calibri" style="box-sizing:border-box;"> remove channel</font></span><span style="box-sizing:border-box;font-size:12pt;line-height:115%;font-family:宋体;">相关的信息。</span><span lang="EN-US" style="box-sizing:border-box;font-size:12pt;line-height:115%;"></span></p>
<p style="box-sizing:border-box;margin:6pt 0cm;"><span style="box-sizing:border-box;font-size:12pt;line-height:115%;font-family:宋体;">基本所有版本都已有对应的</span><span lang="EN-US" style="box-sizing:border-box;font-size:12pt;line-height:115%;"><font face="Calibri" style="box-sizing:border-box;"> patch</font></span><span style="box-sizing:border-box;font-size:12pt;line-height:115%;font-family:宋体;">。</span><span lang="EN-US" style="box-sizing:border-box;font-size:12pt;line-height:115%;"></span></p></div></div></span>
        <span style="box-sizing:border-box;"></span>
    


</div>


</div></div>
					 
				  </div>
             <span style="display:table;clear:both;"> </span></div>
         <span style="display:table;clear:both;"> </span></div></div></div></div></div></div></div></div></div></div></div></div><br/></span>
</div></body></html> 