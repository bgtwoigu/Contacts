<html>
<head>
  <title>Java进阶2 —— 使用Object的通用方法</title>
  <basefont face="Microsoft YaHei" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/301769 (zh-CN); Windows/6.3.9600 (Win64);"/>
  <style>
    body, td {
      font-family: Microsoft YaHei;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1356"/>
<h1>Java进阶2 —— 使用Object的通用方法</h1>

<div>
<span><div style="box-sizing: border-box; position: relative; z-index: 3; color: rgb(51, 51, 51); font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><h1 style="box-sizing: border-box; font-size: 36px; margin: 0px; font-family: inherit; font-weight: 500; color: inherit; float: left;"><a href="https://segmentfault.com/" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; float: left; display: block; height: 54px; width: 188px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/logo-b.svg) 0% 50% / auto 32px no-repeat;">SegmentFault</a></h1><ul style="box-sizing: border-box; margin: 12px 0px 0px 23px; float: left !important; padding-left: 0px; list-style: none;"><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/questions" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">问答</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/blogs" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">文章</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/user/note" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">笔记</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/jobs" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">职位</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/events" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">活动</a></li></ul><ul style="box-sizing: border-box; margin: 12px 0px 0px; float: right !important; padding-left: 0px; list-style: none;"><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px; vertical-align: middle; color: rgb(102, 102, 102); width: 36px; height: 30px;"><a href="https://segmentfault.com/tour" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;" target="_blank"><span style="box-sizing: border-box; position: absolute; width: 1px; height: 1px; margin: -1px; padding: 0px; overflow: hidden; clip: rect(0px 0px 0px 0px); border: 0px;">消息</span></a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/user/login" style="box-sizing: border-box; color: rgb(255, 255, 255); text-decoration: none; outline: 0px; margin-left: 10px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; box-shadow: rgba(0, 0, 0, 0.2) 0px 1px 2px; background: rgb(0, 154, 97);">注册 · 登录</a></li></ul></div><div style="box-sizing: border-box; box-shadow: rgba(0, 0, 0, 0.239216) 0px 1px 2px 0px; color: rgb(51, 51, 51); font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(0, 95, 60);"><div style="box-sizing: border-box; margin-right: auto; margin-left: auto; padding-left: 15px; padding-right: 15px; width: 1140px;"><ul style="box-sizing: border-box; margin: 0px; height: 34px; overflow: hidden; list-style: none; padding: 0px;"><li style="box-sizing: border-box; display: inline-block; padding: 0px;"><a href="https://segmentfault.com/" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px 10px 10px 0px; white-space: nowrap; background: transparent;">home</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px;"><a href="https://segmentfault.com/timeline" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">feed</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px;"><a style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;"></a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/javascript" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">javascript</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/php" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">php</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/python" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">python</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/java" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">java</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/mysql" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">mysql</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/ios" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">ios</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/android" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">android</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/node.js" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">node.js</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/html5" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">html5</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/linux" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">linux</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/c%2B%2B" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">c++</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/css3" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">css3</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/git" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">git</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/golang" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">golang</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/ruby" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">ruby</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/vim" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">vim</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/docker" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">docker</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/mongodb" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">mongodb</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: absolute; top: 0px; right: 0px; height: 34px; width: 34px; background-color: rgb(0, 95, 60);"><a href="https://segmentfault.com/tags" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;"></a></li></ul></div></div><div style="box-sizing: border-box; padding-bottom: 30px; position: relative; color: rgb(51, 51, 51); font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding: 20px 0px; background: rgb(246, 246, 246);"><div style="box-sizing: border-box; margin-right: auto; margin-left: auto; padding-left: 15px; padding-right: 15px; width: 1140px;"><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 855px;"><span style="box-sizing: border-box; vertical-align: top; text-align: center; display: block; float: left; border: 1px solid rgb(0, 154, 97); border-radius: 50%; font-size: 16px; padding: 4px; width: 28px; height: 28px; color: rgb(0, 154, 97); font-weight: 400; margin-right: 10px; background: rgba(0, 154, 96, 0);">文</span><div style="box-sizing: border-box; color: rgb(153, 153, 153); margin-left: 40px; margin-bottom: -5px;"><h1 style="box-sizing: border-box; font-size: 24px; margin: 0px 0px 15px; font-family: inherit; font-weight: 500; color: inherit;"><a href="https://segmentfault.com/a/1190000004420059" style="box-sizing: border-box; color: rgb(51, 51, 51); text-decoration: none; outline: 0px; background: transparent;">Java进阶2 —— 使用Object的通用方法</a></h1><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; display: inline-block; margin-right: 10px; list-style: none; padding: 0px; font-size: 0px;"><li style="box-sizing: border-box; margin-bottom: 5px; padding: 0px; font-size: 13px; display: inline-block; margin-right: 0px;"><a href="https://segmentfault.com/t/java/blogs" style="box-sizing: border-box; color: rgb(1, 126, 102); text-decoration: none; outline: 0px; display: inline-block; padding: 0px 8px; height: 24px; font-weight: 400; font-size: 13px; text-align: center; background: rgba(1, 126, 102, 0.0784314);">java</a></li></ul>
 
<div style="box-sizing: border-box; display: inline-block;"><a href="https://segmentfault.com/u/enjiex" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 5px; background: transparent;"><strong style="box-sizing: border-box; font-weight: 700;">牧曦之晨</strong></a> 2月6日发布</div></div></div><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 285px;"><ul style="box-sizing: border-box; margin: 0px; padding-left: 0px; list-style: none; color: rgb(153, 153, 153);"><li style="box-sizing: border-box; margin-top: 0px;"> <strong style="box-sizing: border-box; font-weight: 700; color: rgb(51, 51, 51);">1</strong> 推荐</li><li style="box-sizing: border-box; margin-top: 10px;"> <strong style="box-sizing: border-box; font-weight: 700; color: rgb(51, 51, 51);">17</strong> 收藏，<strong style="box-sizing: border-box; font-weight: 400; color: rgb(51, 51, 51);">391</strong> 浏览</li></ul></div></div></div></div><div style="box-sizing: border-box; margin-right: auto; margin-left: auto; padding-left: 15px; padding-right: 15px; width: 1140px; margin-top: 30px;"><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 855px;"><div style="box-sizing: border-box; word-wrap: break-word;"><blockquote style="box-sizing: border-box; padding: 10.5px 21px; margin: 0px 0px 1.5em; font-size: 1em; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(0, 154, 97); color: rgb(85, 85, 85); background: rgb(246, 246, 246);"><p style="box-sizing: border-box; margin: 0px;">原文链接：<a href="http://www.javacodegeeks.com/2015/09/using-methods-common-to-all-objects.html" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">http://www.javacodegeeks.com/2015/09/using-methods-common-to-all-objects.html</a></p></blockquote><p style="box-sizing: border-box; margin: 1.5em 0px;">本文是Java进阶课程的第二篇。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">本课程的目标是帮你更有效的使用Java。其中讨论了一些高级主题，包括对象的创建、并发、序列化、反射以及其他高级特性。本课程将为你的精通Java的旅程提供帮助。</p><h4 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px; font-size: 1.25em;">内容提纲</h4><ol style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px;"><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">引言</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">equals和hashCode方法</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">toString方法</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">clone方法</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">equals方法与&quot;==&quot;操作符</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">有用的帮助类</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">源码下载</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">下章概要</a></p></li></ol><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">1. 引言</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">从前面一篇<a href="https://segmentfault.com/a/1190000004390247" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">对象的创建与销毁</a>中，我们知道Java是一种面向对象编程语言(尽管不是纯粹的面向对象)。Java类层次结构的顶层是<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Object</code>类，所有的其他类都隐式的继承于它。因此，所有的类也都从<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Object</code>中继承了方法，其中最重要的几个方法如下表：</p><div style="box-sizing: border-box; overflow-x: auto;"><table style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; margin: 1.5em 0px; width: 825px; background-color: transparent;"><thead style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><th style="box-sizing: border-box; padding: 5px 8px; text-align: left; border: 1px solid rgb(230, 230, 230); word-break: normal; background: rgb(243, 243, 243);">方法</th><th style="box-sizing: border-box; padding: 5px 8px; text-align: left; border: 1px solid rgb(230, 230, 230); word-break: normal; background: rgb(243, 243, 243);">描述</th></tr></thead><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">protected Object clone()</code></td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">创建并返回当前对象的一份拷贝</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">protected void finalize()</code></td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">当垃圾回收器判断出该对象不再被引用时，就会调用finalize()方法。在<a href="https://segmentfault.com/a/1190000004390247" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">对象的创建与销毁</a>中有对finalizers的介绍。</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">boolean equals(Object obj)</code></td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">判断另外一个对象是否与当前对象相等</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">int hasCode()</code></td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">返回当前对象的哈希值</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">String toString()</code></td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">返回一个表示当前对象的字符串</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">void notify()</code></td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">唤醒一个等待当前对象的锁监视器的线程。我们将会在第9篇文章<strong style="box-sizing: border-box; font-weight: 700;">并发最佳实践</strong>中详细介绍此方法</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">void notifyAll()</code></td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">唤醒所有等待当前对象的锁监视器的线程。我们将会在第9篇文章<strong style="box-sizing: border-box; font-weight: 700;">并发最佳实践</strong>中详细介绍此方法</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">void wait()</code> <br style="box-sizing: border-box;"/><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">void wait(long timeout)</code> <br style="box-sizing: border-box;"/><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">void wait(long timeout, int nanos)</code></td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">使当前线程进入等待状态直到其他线程调用了当前对象的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">notify()</code>或<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">notifyAll()</code>方法。我们将会在第9篇文章<strong style="box-sizing: border-box; font-weight: 700;">并发最佳实践</strong>中详细介绍此方法</td></tr></tbody></table></div><p style="box-sizing: border-box; margin: 1.5em 0px;"><strong style="box-sizing: border-box; font-weight: 700;">表1</strong></p><p style="box-sizing: border-box; margin: 1.5em 0px;">在本篇文章中我们将重点介绍<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">equals</code>、<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">hashCode</code>、<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">toString</code>和<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">clone</code>方法。通过本章节的学习，需要对这几个方法的用法及重要的使用限制了然于胸。</p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">2. equlas和hashCode方法</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">默认情况下，Java 中任何两个对象引用(或类实例引用)只有指向相同的内存地址时才认为是相等的(引用相等)。但是Java允许通过重载<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Object</code>的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">equals()</code>方法给类自定义判等规则。听起来这是个很强大的概念，然而在适当的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">equals()</code>方法实现需要满足以下几个规则限制：</p><ul style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px;"><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><strong style="box-sizing: border-box; font-weight: 700;">自反性</strong>：对象<strong style="box-sizing: border-box; font-weight: 700;">x</strong>必须与其自身相等，<strong style="box-sizing: border-box; font-weight: 700;">equals(x)</strong>返回<strong style="box-sizing: border-box; font-weight: 700;">true</strong></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><strong style="box-sizing: border-box; font-weight: 700;">对称性</strong>：如果<strong style="box-sizing: border-box; font-weight: 700;">equals(y)</strong>为<strong style="box-sizing: border-box; font-weight: 700;">true</strong>，则<strong style="box-sizing: border-box; font-weight: 700;">y.equals(x)</strong>也要返回<strong style="box-sizing: border-box; font-weight: 700;">true</strong></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><strong style="box-sizing: border-box; font-weight: 700;">传递性</strong>：如果<strong style="box-sizing: border-box; font-weight: 700;">equals(y)</strong>为<strong style="box-sizing: border-box; font-weight: 700;">true</strong>，并且<strong style="box-sizing: border-box; font-weight: 700;">y.equals(z)</strong>也为<strong style="box-sizing: border-box; font-weight: 700;">true</strong>，则<strong style="box-sizing: border-box; font-weight: 700;">x.equals(z)</strong>也要为<strong style="box-sizing: border-box; font-weight: 700;">true</strong></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><strong style="box-sizing: border-box; font-weight: 700;">一致性</strong>：多次调用<strong style="box-sizing: border-box; font-weight: 700;">equals()</strong>方法应该返回相同值，除非对用于判等的任何一个属性进行了修改</p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><strong style="box-sizing: border-box; font-weight: 700;">与null判等</strong>：<strong style="box-sizing: border-box; font-weight: 700;">equals(null)</strong>总是要返回<strong style="box-sizing: border-box; font-weight: 700;">false</strong></p></li></ul><p style="box-sizing: border-box; margin: 1.5em 0px;">不幸的是Java编译器并不会在编译时对以上规则进行检查。然而，不遵守上述规则时可能会引入非常怪异并难以解决的问题。通用的建议是：如果需要重写<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">equals()</code>方法，请至少思考两次重写的必要性。遵循以上规则，我们为<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Person</code>类重写一个简单的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">equals()</code>实现。</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.objects;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Person</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> String firstName;
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> String lastName;
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> String email;
    
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">Person</span><span style="box-sizing: border-box;">( <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> String firstName, <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> String lastName, <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> String email )</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">this</span>.firstName = firstName;
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">this</span>.lastName = lastName;
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">this</span>.email = email;
    }
    
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> String <span style="box-sizing: border-box; color: rgb(38, 139, 210);">getEmail</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> email;
    }
    
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> String <span style="box-sizing: border-box; color: rgb(38, 139, 210);">getFirstName</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> firstName;
    }
    
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> String <span style="box-sizing: border-box; color: rgb(38, 139, 210);">getLastName</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> lastName;
    }

    <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Step 0: Please add the @Override annotation, it will ensure that your</span>
    <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// intention is to change the default implementation.</span>
    <span style="box-sizing: border-box;">@Override</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">boolean</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">equals</span><span style="box-sizing: border-box;">( Object obj )</span> </span>{
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Step 1: Check if the 'obj' is null</span>
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">if</span> ( obj == <span style="box-sizing: border-box; color: rgb(133, 153, 0);">null</span> ) {
            <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">false</span>;
        }
        
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Step 2: Check if the 'obj' is pointing to the this instance</span>
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">if</span> ( <span style="box-sizing: border-box; color: rgb(133, 153, 0);">this</span> == obj ) {
            <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">true</span>;
        }
        
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Step 3: Check classes equality. Note of caution here: please do not use the </span>
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// 'instanceof' operator unless class is declared as final. It may cause </span>
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// an issues within class hierarchies.</span>
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">if</span> ( getClass() != obj.getClass() ) {
            <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">false</span>;
        }
        
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Step 4: Check individual fields equality</span>
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> Person other = (Person) obj;
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">if</span> ( email == <span style="box-sizing: border-box; color: rgb(133, 153, 0);">null</span> ) {
            <span style="box-sizing: border-box; color: rgb(133, 153, 0);">if</span> ( other.email != <span style="box-sizing: border-box; color: rgb(133, 153, 0);">null</span> ) {
                <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">false</span>;
            } 
        } <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">else</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">if</span><span style="box-sizing: border-box;">( !email.equals( other.email )</span> ) </span>{
            <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">false</span>;
        }
        
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">if</span> ( firstName == <span style="box-sizing: border-box; color: rgb(133, 153, 0);">null</span> ) {
            <span style="box-sizing: border-box; color: rgb(133, 153, 0);">if</span> ( other.firstName != <span style="box-sizing: border-box; color: rgb(133, 153, 0);">null</span> ) {
                <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">false</span>;
            } 
        } <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">else</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">if</span> <span style="box-sizing: border-box;">( !firstName.equals( other.firstName )</span> ) </span>{
            <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">false</span>;
        }
            
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">if</span> ( lastName == <span style="box-sizing: border-box; color: rgb(133, 153, 0);">null</span> ) {
            <span style="box-sizing: border-box; color: rgb(133, 153, 0);">if</span> ( other.lastName != <span style="box-sizing: border-box; color: rgb(133, 153, 0);">null</span> ) {
                <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">false</span>;
            }
        } <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">else</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">if</span> <span style="box-sizing: border-box;">( !lastName.equals( other.lastName )</span> ) </span>{
            <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">false</span>;
        }
        
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">true</span>;
    }        
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">在此部分介绍<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">hashCode()</code>方法并不是偶然的，至少要记住下面这条规则：任何时候重载<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">equals()</code>方法时，需要一并重载<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">hashCode()</code>方法。如果两个对象通过<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">equals()</code>方法判等时返回<strong style="box-sizing: border-box; font-weight: 700;">true</strong>，则每个对象的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">hashCode()</code>方法需要返回相同的整数值（反过来并没有限制：如果两个对象通过<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">equals()</code>方法返回<strong style="box-sizing: border-box; font-weight: 700;">false</strong>，则<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">hashCode()</code>方法可以返回相同或不同的整数值）。下面看一下<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Person</code>类的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">hashCode()</code>方法：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Please add the @Override annotation, it will ensure that your</span><span style="box-sizing: border-box; color: rgb(147, 161, 161);">// intention is to change the default implementation.</span><span style="box-sizing: border-box;">@Override</span><span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">int</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">hashCode</span><span style="box-sizing: border-box;">()</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">int</span> prime = <span style="box-sizing: border-box; color: rgb(42, 161, 152);">31</span>;
        
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">int</span> result = <span style="box-sizing: border-box; color: rgb(42, 161, 152);">1</span>;
    result = prime * result + ( ( email == <span style="box-sizing: border-box; color: rgb(133, 153, 0);">null</span> ) ? <span style="box-sizing: border-box; color: rgb(42, 161, 152);">0</span> : email.hashCode() );
    result = prime * result + ( ( firstName == <span style="box-sizing: border-box; color: rgb(133, 153, 0);">null</span> ) ? <span style="box-sizing: border-box; color: rgb(42, 161, 152);">0</span> : firstName.hashCode() );
    result = prime * result + ( ( lastName == <span style="box-sizing: border-box; color: rgb(133, 153, 0);">null</span> ) ? <span style="box-sizing: border-box; color: rgb(42, 161, 152);">0</span> : lastName.hashCode() );
        
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> result;
}      </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">为了避免得到不可预期的结果，尽可能在实现<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">equals()</code>和<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">hashCode()</code>方法时使用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">final</code>字段，从而保证方法的结果不会受到字段变化的影响(尽管真实场景中未必发生)。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">最后，要确保在实现<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">equals()</code>和<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">hashCode()</code>方法是使用相同的字段，以确保在不可预期的字段调整时保证这两个方法行为的一致性。</p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">3. toString方法</h2><p style="box-sizing: border-box; margin: 1.5em 0px;"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">toString()</code>是最让人感兴趣的方法，并且被重载的频率也更高。此方法的目的是提供对象(类实例)的字符串表现。如果对<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">toString()</code>方法重载恰当，能极大的简化debug难度和分析解决问题的过程。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">默认情况下，<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">toString()</code>的结果仅仅返回以<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">@</code>符分隔的全类名与对象哈希值串，然而这个结果在大多场景下并没什么用途。如下：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: initial; overflow-wrap: normal; word-break: break-word; background: none;">com.javacodegeeks.advanced.objects.Person<span style="box-sizing: border-box; color: rgb(38, 139, 210);">@6104e2ee</span></code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">我们来通过重写<strong style="box-sizing: border-box; font-weight: 700;">Person</strong>和<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">toString()</code>方法以使其输出更有用，下面是其中一种实例：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Please add the @Override annotation, it will ensure that your</span><span style="box-sizing: border-box; color: rgb(147, 161, 161);">// intention is to change the default implementation.</span><span style="box-sizing: border-box;">@Override</span><span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> String <span style="box-sizing: border-box; color: rgb(38, 139, 210);">toString</span><span style="box-sizing: border-box;">()</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> String.format( <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;%s[email=%s, first name=%s, last name=%s]&quot;</span>, 
        getClass().getSimpleName(), email, firstName, lastName );
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">现在我们在<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">toString()</code>方法中包含了<strong style="box-sizing: border-box; font-weight: 700;">Person</strong>的所有字段，然后执行下面的代码片段：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;">final Person person = <span style="box-sizing: border-box; color: rgb(133, 153, 0);">new</span> Person( <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;John&quot;</span>, <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;Smith&quot;</span>, <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;john.smith@domain.com&quot;</span> );
System.<span style="box-sizing: border-box; color: rgb(133, 153, 0);">out</span>.println( person.toString() );</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">控制台中将输出以下结果：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: initial; overflow-wrap: normal; word-break: break-word; background: none;">Person[email=john.smith<span style="box-sizing: border-box; color: rgb(181, 137, 0);">@domain</span>.com, first name=John, <span style="box-sizing: border-box; color: rgb(133, 153, 0);">last</span> name=Smith]</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">遗憾的是在Java标准库中对<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">toString()</code>方法实现的支持有限，不过还是有几个有用的方法：<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Objects.toString()</code>, <code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Arrays.toString() / Arrays.deepToString()</code>。下面看一下<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Office</code>类以及其<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">toString()</code>的实现。</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.objects;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">import</span> java.util.Arrays;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Office</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> Person[] persons;

    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">Office</span><span style="box-sizing: border-box;">( Person ... persons )</span> </span>{
         <span style="box-sizing: border-box; color: rgb(133, 153, 0);">this</span>.persons = Arrays.copyOf( persons, persons.length );
    }
    
    <span style="box-sizing: border-box;">@Override</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> String <span style="box-sizing: border-box; color: rgb(38, 139, 210);">toString</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> String.format( <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;%s{persons=%s}&quot;</span>, 
            getClass().getSimpleName(), Arrays.toString( persons ) );
    }
    
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> Person[] getPersons() {
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> persons;
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">相应的控制台输出如下(同时也有<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Person</code>实例的字符串值)：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: initial; overflow-wrap: normal; word-break: break-word; background: none;">Office{persons=[Person[email=john.smith<span style="box-sizing: border-box; color: rgb(181, 137, 0);">@domain</span>.com, first name=John, <span style="box-sizing: border-box; color: rgb(133, 153, 0);">last</span> name=Smith]]}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">Java社区实例了大量有用的类库以简化<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">toString()</code>的实现。其中广泛使用的有<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Google Guava</code>的<a href="http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Objects.ToStringHelper.html" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">Objects.toStringHelper</a>和<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Apache Commons Lang</code>的<a href="http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/ToStringBuilder.html" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">ToStringBuilder</a></p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">4. clone方法</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">如果举出Java中最声名狼藉的方法，当属<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">clone()</code>无疑。<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">clone()</code>方法的目的很简单——返回对象实例的拷贝，然而有一堆理由可证明其使用并不像听起来那么轻而易举。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">首先，实现自定义的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">clone()</code>方法时需要遵守<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#clone(" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">Java文档</a>)中列出的一系列约定。其次，在<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Object</code>类中<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">clone()</code>方法被声明为<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">protected</code>，所以为了提高方法的可见性，在重载时需要声明为<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">public</code>并把返回值类型调整为重载类自身类型。再次，重载类需要实现<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Cloneable</code>接口(尽管该接口作为一种声明，并未提供任何方法定义)，否则将会抛出<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">CloneNotSupportedException</code>异常。最后，在实现<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">clone()</code>方法时要先调用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">super.clone()</code>然后再执行其他需要的动作。下面看一下<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Person</code>类中的实现：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Person</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">implements</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Cloneable</span> </span>{
    <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Please add the @Override annotation, it will ensure that your</span>
    <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// intention is to change the default implementation.</span>
    <span style="box-sizing: border-box;">@Override</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> Person <span style="box-sizing: border-box; color: rgb(38, 139, 210);">clone</span><span style="box-sizing: border-box;">()</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">throws</span> CloneNotSupportedException </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> ( Person )<span style="box-sizing: border-box; color: rgb(133, 153, 0);">super</span>.clone();
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">上面的实现看起来简单直接，然而却隐藏着错误。当类实例的clone动作被执行时，未调用任何构造方法，后果将导致预料外的数据泄露。下面再看下<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Office</code>类中的定义：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.objects;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">import</span> java.util.Arrays;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Office</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">implements</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Cloneable</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> Person[] persons;

    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">Office</span><span style="box-sizing: border-box;">( Person ... persons )</span> </span>{
         <span style="box-sizing: border-box; color: rgb(133, 153, 0);">this</span>.persons = Arrays.copyOf( persons, persons.length );
    }

    <span style="box-sizing: border-box;">@Override</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> Office <span style="box-sizing: border-box; color: rgb(38, 139, 210);">clone</span><span style="box-sizing: border-box;">()</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">throws</span> CloneNotSupportedException </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> ( Office )<span style="box-sizing: border-box; color: rgb(133, 153, 0);">super</span>.clone();
    }
    
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> Person[] getPersons() {
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> persons;
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">在这个实现中，<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Office</code>实例克隆出来的所有对象都将共享相同的person数组，然而这并不是我们预期的行为。为了让<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">clone()</code>实现正确的行为，我们还要做一些额外的工作：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;">@Override
<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> Office <span style="box-sizing: border-box; color: rgb(133, 153, 0);">clone</span>() throws CloneNotSupportedException {
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> Office <span style="box-sizing: border-box; color: rgb(133, 153, 0);">clone</span> = ( Office )super.<span style="box-sizing: border-box; color: rgb(133, 153, 0);">clone</span>();
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">clone</span>.persons = persons.<span style="box-sizing: border-box; color: rgb(133, 153, 0);">clone</span>();
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">clone</span>;
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">看起来是正确了，但如果对persons字段声明为<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">final</code>就将破坏这种正确性，因此<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">final</code>字段不能被重新赋值，从而导致数据再次被共享。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">总之，当需要类实例的拷贝时，尽可能避免使用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">clone()</code> / <code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Cloneable</code>，相反可以选择其他更简单的替代方案(例如：C++程序员熟悉的复制构造方法，或者工厂方法——在<a href="https://segmentfault.com/a/1190000004390247" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">对象的创建与销毁</a>中讨论过的一种有用的构造模式)。</p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">5. equals方法与&quot;==&quot;操作符</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">在Java中，<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">==</code>操作符与<strong style="box-sizing: border-box; font-weight: 700;">equals()</strong>方法有种奇怪的关系，却会引入大量的问题与困惑。大多数情况下(除比较基本数据类型)，<strong style="box-sizing: border-box; font-weight: 700;">==</strong>操作符执行的是引用相等：只要两个引用指向同一个对象时为<strong style="box-sizing: border-box; font-weight: 700;">true</strong>，否则返回<strong style="box-sizing: border-box; font-weight: 700;">false</strong>。下面举例说明二者的区别：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;">final String str1 = <span style="box-sizing: border-box; color: rgb(133, 153, 0);">new</span> String( <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;bbb&quot;</span> );
System.<span style="box-sizing: border-box; color: rgb(133, 153, 0);">out</span>.println( <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;Using == operator: &quot;</span> + ( str1 == <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;bbb&quot;</span> ) );
System.<span style="box-sizing: border-box; color: rgb(133, 153, 0);">out</span>.println( <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;Using equals() method: &quot;</span> + str1.equals( <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;bbb&quot;</span> ) );</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">从我们人类的视角来看，str1 == &quot;bbb&quot; 和 str1.equals(&quot;bbb&quot;)并无区别：str1仅仅是&quot;bbb&quot;的一个引用，所以结果应该是相同的；但对于Java来说却不尽然：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;">Using == <span style="box-sizing: border-box; color: rgb(133, 153, 0);">operator</span>: <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">false</span>
Using <span style="box-sizing: border-box; color: rgb(38, 139, 210);">equals</span><span style="box-sizing: border-box;">()</span> method: <span style="box-sizing: border-box; color: rgb(133, 153, 0);">true</span></span></code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">尽管两个字符串看起来完全一样，但事实上却是两个不同的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">String</code>实例。作为建议，在处理对象引用时要使用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">equals()</code>或<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Objects.equals()</code>进行判等，除非你真的是要判断两个引用是否指向同一个实例。</p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">6. 有用的帮助类</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">从Java 7发布以来，一批有用的帮助类加入到了标准Java库中，<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Objects</code>便是其中之一。具体来说，以下三个方法可以简化你的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">equals()</code>和<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">hashCode()</code>方法实现。</p><div style="box-sizing: border-box; overflow-x: auto;"><table style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; margin: 1.5em 0px; width: 825px; background-color: transparent;"><thead style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><th style="box-sizing: border-box; padding: 5px 8px; text-align: left; border: 1px solid rgb(230, 230, 230); word-break: normal; background: rgb(243, 243, 243);">方法</th><th style="box-sizing: border-box; padding: 5px 8px; text-align: left; border: 1px solid rgb(230, 230, 230); word-break: normal; background: rgb(243, 243, 243);">描述</th></tr></thead><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">static boolean equals(Object a, Object b)</code></td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">当参数中的两个对象相等时返回<strong style="box-sizing: border-box; font-weight: 700;">true</strong>，否则返回<strong style="box-sizing: border-box; font-weight: 700;">false</strong></td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">static int hash(Object...values)</code></td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">为参数列表生成哈希值</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">static int hashCode(Object o)</code></td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">为非null参数生成哈希值，如果参数为null返回0</td></tr></tbody></table></div><p style="box-sizing: border-box; margin: 1.5em 0px;">如果使用上面的方法来重写<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Person</code>的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">equals()</code>和<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">hashCode()</code>实现，代码量将会大大缩减，同时代码的可读性也将大大增强。</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box;">@Override</span><span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">boolean</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">equals</span><span style="box-sizing: border-box;">( Object obj )</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">if</span> ( obj == <span style="box-sizing: border-box; color: rgb(133, 153, 0);">null</span> ) {
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">false</span>;
    }
        
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">if</span> ( <span style="box-sizing: border-box; color: rgb(133, 153, 0);">this</span> == obj ) {
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">true</span>;
    }
        
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">if</span> ( getClass() != obj.getClass() ) {
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">false</span>;
    }
        
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> PersonObjects other = (PersonObjects) obj;
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">if</span>( !Objects.equals( email, other.email ) ) {
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">false</span>;
    } <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">else</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">if</span><span style="box-sizing: border-box;">( !Objects.equals( firstName, other.firstName )</span> ) </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">false</span>;            
    } <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">else</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">if</span><span style="box-sizing: border-box;">( !Objects.equals( lastName, other.lastName )</span> ) </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">false</span>;            
    }
        
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">true</span>;
}
        
<span style="box-sizing: border-box;">@Override</span><span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">int</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">hashCode</span><span style="box-sizing: border-box;">()</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> Objects.hash( email, firstName, lastName );
}      </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">7. 源码下载</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">可以从这里下载本文中的源码：<a href="http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/uploads/2015/09/advanced-java-part-2.zip" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">advanced-java-part-2</a></p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">8. 下章概要</h2><p style="box-sizing: border-box; margin: 1.5em 0px 0px;">在本章中，我们学习了作为Java面向对象基础的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Object</code>类，以及自定义的类如何通过自己的判等规则重载<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Object</code>的相关方法。下一章中，我们将会把视线暂时从代码实现上收起，转向去讨论如何设计合适的类和接口。</p></div><div style="box-sizing: border-box; margin-top: 10px;"><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10.5px; float: left !important; padding-left: 0px; list-style: none; margin-left: -5px;"><li style="box-sizing: border-box; display: inline-block; padding-left: 5px; padding-right: 5px;"><a href="https://segmentfault.com/a/1190000004420059" style="box-sizing: border-box; color: rgb(119, 119, 119); text-decoration: none; outline: 0px; background: transparent;">2月6日发布</a></li></ul></div><div style="box-sizing: border-box; text-align: center; margin-top: 10px;"> </div><div style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); margin-top: 40px; margin-bottom: 30px; padding-top: 30px;"><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 570px;"><h4 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin-top: 0px; margin-bottom: 10.5px; font-size: 18px;">你可能感兴趣的文章</h4><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10.5px; padding-left: 0px; list-style: none;"><li style="box-sizing: border-box; margin-bottom: 8px;"><a href="https://segmentfault.com/a/1190000002568954" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 6px; word-break: break-word; background: transparent;" title="java 集合list和map的用法">java 集合list和map的用法 </a><small style="box-sizing: border-box; font-size: 13px; color: rgb(119, 119, 119); display: inline-block;">2 收藏，3.7k 浏览</small></li><li style="box-sizing: border-box; margin-bottom: 8px;"><a href="https://segmentfault.com/a/1190000000642249" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 6px; word-break: break-word; background: transparent;" title="Java动态调用方法">Java动态调用方法</a> <small style="box-sizing: border-box; font-size: 13px; color: rgb(119, 119, 119); display: inline-block;">2 收藏，1.9k 浏览</small></li><li style="box-sizing: border-box; margin-bottom: 8px;"><a href="https://segmentfault.com/a/1190000002726956" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 6px; word-break: break-word; background: transparent;" title="Object的hashCode方法与equals方法的关系">Object的hashCode方法与equals方法的关系</a> <small style="box-sizing: border-box; font-size: 13px; color: rgb(119, 119, 119); display: inline-block;">284 浏览</small></li></ul></div><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 284.984px;"><div style="box-sizing: border-box;"><div style="box-sizing: border-box; color: rgb(119, 119, 119);">本文采用 <a href="http://creativecommons.org/licenses/by/3.0/cn" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">知识共享署名 3.0 中国大陆许可协议</a>，可自由转载、引用，但需署名作者且注明文章出处 。</div></div></div></div></div><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin-top: 10.5px; margin-bottom: 15px; font-size: 18px; padding-top: 20px; border-top-width: 2px; border-top-style: solid; border-top-color: rgb(204, 204, 204);">讨论区</h2><div style="box-sizing: border-box; list-style: none; margin: 0px 0px 15px; font-size: 13px; color: rgb(102, 102, 102); padding: 10px; border-radius: 2px; background-color: rgb(246, 246, 246);"><div style="box-sizing: border-box; margin-bottom: 10px; transition-duration: 1s; background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAYAAAD5PA/NAAAAEUlEQVQIHWO4e/fufxBmgAIAWVEHLYEgi9EAAAAASUVORK5CYII=) 50% 100% repeat-x;"><div style="box-sizing: border-box; position: relative; text-align: center; float: left; margin: 5px 10px 0px 0px; width: 20px; height: 30px; font-size: 12px; box-shadow: none; background: transparent;"><span style="box-sizing: border-box;"> </span></div><div style="box-sizing: border-box; word-break: break-all; overflow: auto;"><div style="box-sizing: border-box; word-wrap: break-word; font-size: 13px;"><p style="box-sizing: border-box; margin: 0px 0px 10px;">在软件开发中存在这样一种需求：两个对象虽然不是同一个类的实例（getClass()返回不同的值），但是他们是相等的（互相调用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre-wrap; background-color: rgb(249, 242, 244);">equals()</code>返回<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre-wrap; background-color: rgb(249, 242, 244);">true</code>），举个例子，<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre-wrap; background-color: rgb(249, 242, 244);">java.util</code>中的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre-wrap; background-color: rgb(249, 242, 244);">ArrayList</code>和<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre-wrap; background-color: rgb(249, 242, 244);">LinkedList</code>就是这样的关系。Person这个类以后有可能被继承，所以在<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre-wrap; background-color: rgb(249, 242, 244);">equals</code>方法中，用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre-wrap; background-color: rgb(249, 242, 244);">instanseOf</code>比用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre-wrap; background-color: rgb(249, 242, 244);">getClass</code>更好。</p></div><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(153, 153, 153);"><a href="https://segmentfault.com/c/1050000004421563" style="box-sizing: border-box; color: rgb(119, 119, 119); text-decoration: none; outline: 0px; background: transparent;"></a> <a href="https://segmentfault.com/u/zhangchaoo" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"><strong style="box-sizing: border-box; font-weight: 700;">zhangchaoo</strong></a> · <span style="box-sizing: border-box;">2月7日</span><span style="box-sizing: border-box; float: right !important; visibility: hidden; transition-delay: 0.4s;"><a href="https://segmentfault.com/a/1190000004420059#" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 5px; background: transparent;"></a><a href="https://segmentfault.com/a/1190000004420059#911" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-left: 10px; background: transparent;" title="举报"></a></span></p></div></div><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 835px;">请先 <a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">登录</a> 后评论</div></div></div></div><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 285px;"><div style="box-sizing: border-box;"><div style="box-sizing: border-box;"><ins style="box-sizing: border-box;"><a href="https://sponsor.segmentfault.com/ck.php?oaparams=2__bannerid=8__zoneid=2__cb=c2d4d79645__oadest=http%3A%2F%2Fclick.aliyun.com%2Fm%2F4199%2F" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank"><img border="0" height="165" src="https://sf-sponsor.b0.upaiyun.com/ffac41177fb10928e7400657819f00a0.jpg" style="box-sizing: border-box; border: 0px; vertical-align: middle; margin-bottom: 25px;" width="255"></img></a><div style="box-sizing: border-box; position: absolute; left: 0px; top: 0px; visibility: hidden;"><ins style="box-sizing: border-box;"><ins style="box-sizing: border-box;"><img height="0" src="https://sponsor.segmentfault.com/lg.php?bannerid=8&amp;campaignid=1&amp;zoneid=2&amp;loc=https%3A%2F%2Fsegmentfault.com%2Fa%2F1190000004420059&amp;referer=http%3A%2F%2Fweibo.com%2F1746493725%2Fprofile%3Ftopnav%3D1%26wvr%3D6%26is_all%3D1%26sudaref%3Dpassport.weibo.com&amp;cb=c2d4d79645" style="box-sizing: border-box; border: 0px; vertical-align: middle; width: 0px; height: 0px;" width="0"></img></ins></ins></div></ins></div></div><div style="box-sizing: border-box; margin: 0px 0px 25px; padding-top: 0px; border: none;"><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(119, 119, 119);">本文隶属于专栏</p><h4 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin-top: 10.5px; margin-bottom: 10.5px; font-size: 16px;"><a href="https://segmentfault.com/blog/utopiar" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">牧曦之晨</a></h4><p style="box-sizing: border-box; margin: 0px 0px 10.5px; word-break: break-word;">Life is too short to wait !</p><div style="box-sizing: border-box;"><a href="https://segmentfault.com/u/enjiex" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; background: transparent;"><img alt="牧曦之晨" src="https://sfault-avatar.b0.upaiyun.com/331/867/3318674943-56b963b872cdc_big64" style="box-sizing: border-box; border: 0px; vertical-align: middle; border-radius: 50%; width: 40px; height: 40px; float: left; margin-right: 10px;"></img><span style="box-sizing: border-box;">牧曦之晨</span></a><span style="box-sizing: border-box; color: rgb(119, 119, 119);">作者</span></div></div><div style="box-sizing: border-box; margin: 0px 0px 25px; padding-top: 25px; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(238, 238, 238);"><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 0px 0px 20px; font-size: 16px;">系列文章</h2><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10.5px; padding-left: 0px; list-style: none;"><li style="box-sizing: border-box; margin-bottom: 8px;"><a href="https://segmentfault.com/a/1190000004390247" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 6px; word-break: break-word; background: transparent;" title="Java进阶1 —— 对象的创建与销毁">Java进阶1 —— 对象的创建与销毁</a><small style="box-sizing: border-box; font-size: 13px; color: rgb(119, 119, 119); display: inline-block;">20 收藏， 695 浏览</small></li><li style="box-sizing: border-box; margin-bottom: 8px;"><a href="https://segmentfault.com/a/1190000004454893" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 6px; word-break: break-word; background: transparent;" title="Java进阶3 —— 类和接口设计原则">Java进阶3 —— 类和接口设计原则</a><small style="box-sizing: border-box; font-size: 13px; color: rgb(119, 119, 119); display: inline-block;">13 收藏， 409 浏览</small></li></ul></div><div style="box-sizing: border-box; margin-bottom: 20px;"><div style="box-sizing: border-box; margin-bottom: 10px;">分享扩散：</div><div style="box-sizing: border-box; float: left; color: rgb(153, 153, 153); font-size: 13px; display: block;"><ul style="box-sizing: border-box; margin: 0px; list-style: none; display: inline; padding: 0px; vertical-align: text-bottom;"><li style="box-sizing: border-box; display: inline-block; margin-right: 5px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: inline-block; width: 28px; height: 28px; vertical-align: middle; border-radius: 2px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/social-icons/icon-sn.svg) -56px -28px / auto 56px no-repeat transparent;">新浪微博</a></li><li style="box-sizing: border-box; display: inline-block; margin-right: 5px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: inline-block; width: 28px; height: 28px; vertical-align: middle; border-radius: 2px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/social-icons/icon-sn.svg) -252px -28px / auto 56px no-repeat transparent;">微信</a></li><li style="box-sizing: border-box; display: inline-block; margin-right: 5px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: inline-block; width: 28px; height: 28px; vertical-align: middle; border-radius: 2px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/social-icons/icon-sn.svg) -112px -28px / auto 56px no-repeat transparent;">Twitter</a></li><li style="box-sizing: border-box; display: inline-block; margin-right: 5px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: inline-block; width: 28px; height: 28px; vertical-align: middle; border-radius: 2px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/social-icons/icon-sn.svg) -140px -28px / auto 56px no-repeat transparent;">Facebook</a></li></ul></div><a style="box-sizing: border-box; color: rgb(255, 255, 255); text-decoration: none; outline: 0px; display: inline-block; margin-bottom: 0px; font-weight: 400; text-align: center; vertical-align: middle; cursor: pointer; border: none; white-space: nowrap; padding: 0px; font-size: 12px; border-radius: 3px; box-shadow: none; background: none transparent;" type="button"></a></div><div style="box-sizing: border-box; display: block; padding: 10px 0px; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(238, 238, 238); width: 255px; top: 0px; background: rgb(255, 255, 255);"><div style="box-sizing: border-box; margin: 0px; border: none; border-radius: 3px; box-shadow: rgb(255, 255, 255) 0px 0px 0px; top: 0px; position: relative; max-width: 250px; background-color: rgb(255, 255, 255);"><div style="box-sizing: border-box; padding: 8px 12px; border: none; border-top-right-radius: 2px; border-top-left-radius: 2px; color: rgb(51, 51, 51); font-weight: 700; cursor: initial; font-size: 16px; background-color: rgb(255, 255, 255);">文章目录</div><div style="box-sizing: border-box; padding: 0px 0px 10px; max-height: inherit; overflow: hidden; transition: all 0.2s ease; position: relative; z-index: 2;"><div style="box-sizing: border-box; position: relative; padding: 0px 12px; top: 0px;"><ul style="box-sizing: border-box; margin: 0px; position: relative; z-index: 2; padding-left: 18px; list-style-type: square;"><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004420059#articleHeader0" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">1. 引言</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004420059#articleHeader1" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">2. equlas和hashCode方法</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004420059#articleHeader2" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">3. toString方法</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004420059#articleHeader3" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">4. clone方法</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004420059#articleHeader4" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">5. equals方法与&quot;==&quot;操作符</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004420059#articleHeader5" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">6. 有用的帮助类</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004420059#articleHeader6" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">7. 源码下载</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004420059#articleHeader7" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">8. 下章概要</a></li></ul></div></div></div></div></div></div></div></div><div style="box-sizing: border-box; margin-right: auto; margin-left: auto; padding-left: 15px; padding-right: 15px; width: 1140px;"><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 190px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">网站相关</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/about" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">关于我们</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/tos" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">服务条款</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/faq" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">帮助中心</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/repu" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">声望与权限</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/markdown" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">编辑器语法</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://weekly.segmentfault.com/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">每周精选</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/app" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">App 下载</a></dd></dl><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 190px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">联系合作</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/contact" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">联系我们</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/hiring" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">加入我们</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/link" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">合作伙伴</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/press" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">媒体报道</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://board.segmentfault.com/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">建议反馈</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="http://pan.baidu.com/share/link?shareid=604288&amp;uk=839272106" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">Logo 下载</a></dd></dl><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 190px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">常用链接</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://chrome.google.com/webstore/detail/segmentfault-%E7%AC%94%E8%AE%B0/pjklfdmleagfaekibdccmhlhellefcfo" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">笔记插件: Chrome</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://addons.mozilla.org/zh-CN/firefox/addon/sf-note-ext/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">笔记插件: Firefox</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;">订阅：<a href="https://segmentfault.com/feeds" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">问答</a> / <a href="https://segmentfault.com/feeds/blogs" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">文章</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://mirrors.segmentfault.com/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">SF 文档镜像</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/interview" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">SF 社区访谈</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/d-day" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">技术沙龙D-DAY</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/hackathon" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">黑客马拉松Hackathon</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://namebeta.com/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">域名搜索注册</a></dd></dl><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 190px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">关注我们</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://github.com/SegmentFault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">Github</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://twitter.com/segment_fault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">Twitter</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://weibo.com/segmentfault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">新浪微博</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/segmentfault_team" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">SF 团队日志</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/segmentfault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">产品技术日志</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/community_admin" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">社区运营日志</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/segmentfault_news" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">市场运营日志</a></dd></dl><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 379.984px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">内容许可</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;">除特别说明外，用户内容均采用 <a href="http://creativecommons.org/licenses/by-sa/3.0/cn/" rel="license" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">知识共享署名-相同方式共享 3.0 中国大陆许可协议</a> 进行许可</dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;">本站由 <a href="https://www.upyun.com/?utm_source=segmentfault&amp;utm_medium=link&amp;utm_campaign=upyun&amp;md=segmentfault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">又拍云</a> 提供 CDN 存储服务</dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://mixpanel.com/f/partner" rel="nofollow" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;"><img alt="Mobile Analytics" height="24" src="https://cdn.mxpnl.com/site_media/images/partner/badge_light.png" style="box-sizing: border-box; border: 0px; vertical-align: middle;"></img></a></dd></dl></div><div style="box-sizing: border-box; text-align: center; font-size: 13px;">Copyright © 2011-2016 SegmentFault. 当前呈现版本 16.03.22<br style="box-sizing: border-box;"/><a href="http://www.miibeian.gov.cn/" rel="nofollow" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">浙ICP备15005796号-2</a></div><p style="box-sizing: border-box; margin: 0px 0px 10.5px; text-align: center;"></p></div><div style="box-sizing: border-box; right: 40px; bottom: 40px; border: 1px solid rgb(221, 221, 221); width: 36px; text-align: center; border-radius: 2px; z-index: 1000; color: rgb(51, 51, 51); font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: rgb(255, 255, 255);position:relative;"><div style="box-sizing: border-box; position: relative;"><div><br/></div></div></div></span>
</div></body></html> 