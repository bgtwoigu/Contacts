<html>
<head>
  <title>理解 Android Build 系统</title>
  <basefont face="Microsoft YaHei" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/301769 (zh-CN); Windows/6.3.9600 (Win64);"/>
  <style>
    body, td {
      font-family: Microsoft YaHei;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1670"/>
<h1>理解 Android Build 系统</h1>

<div>
<span><div style="margin: 0px; padding: 0px; border-width: 1px 0px; border-top-style: dotted; border-bottom-style: dotted; border-top-color: grey; border-bottom-color: grey; outline: 0px; font-size: medium; vertical-align: baseline; font-family: Arial, sans-serif; min-height: 40px; height: 40px; position: fixed; top: 0px; z-index: 1000; width: 1903px; color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; opacity: 1; background-image: url(https://dw1.s81c.com/developerworks/i/regbar_bluemix_background_40.png); background-color: rgb(65, 82, 90); background-size: contain; background-repeat: no-repeat;"><div style="margin: 0px auto; padding: 0px 10px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; width: 960px; overflow: hidden;"><div style="margin: 0px auto; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: none; display: table;"><span style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.35em; vertical-align: baseline; font-family: Helvetica, Arial, sans-serif !important; color: rgb(74, 178, 220);">IBM <strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">Bluemix</strong></span><span style="margin: 0px; padding: 0px 0px 0px 20px; border: 0px; outline: 0px; font-size: 1.215em; vertical-align: baseline; font-family: Helvetica, Arial, sans-serif !important; color: rgb(255, 255, 255); font-weight: normal;">点击按钮，开始云上的开发！</span><p style="margin: 0px; padding: 0px 0px 0px 9px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both; display: inline; float: right;"><a href="https://developer.ibm.com/sso/bmregistration?lang=zh_CN&amp;ca=dwchina-_-bluemix-_-os-cn-android-build-_-regbar-article" style="margin: 7px 0px 0px 15px; padding: 2px 15px !important; border: 1px solid rgb(204, 103, 0); outline: 0px; font-size: 0.8em; vertical-align: baseline; color: rgb(255, 255, 255); font-family: Helvetica, Arial, sans-serif !important; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.4) 0px 2px 3px; display: block; font-weight: bold; min-width: 80px; text-align: center; text-decoration: none; text-shadow: none; white-space: nowrap; width: auto; float: left; background: linear-gradient(rgb(255, 153, 0) 0%, rgb(204, 103, 0) 100%);">开始您的试用</a></p></div></div><span style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><a style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(0, 100, 157); font-family: Arial, sans-serif;"></a></span></div><div style="margin: 42px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: medium; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: rgb(255, 255, 255);"><div style="margin: 0px; padding: 0px; border-width: 0px 0px 2px; border-bottom-style: solid; border-bottom-color: rgba(255, 255, 255, 0.8); outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; width: 1903px; min-width: 980px; left: 0px; top: 0px; position: relative; z-index: 900;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; width: 1903px; height: 22px; background-color: rgb(21, 23, 36);"><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px; float: right; width: 1903px; height: 22px;"><li style="margin: 0px; padding: 0px; border-width: 0px 0px 0px 1px; border-left-style: solid; border-left-color: rgb(2, 5, 14); outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: right; height: 22px;"><a href="http://www.ibm.com/developerworks/cn/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.75em; vertical-align: baseline; color: rgb(161, 162, 167); font-family: Arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0"><img src="理解 Android Build 系统 [2]_files/Image.png" type="image/png" alt="dW" height="22" style="cursor: default; height: auto;" width="43"/></a></li><li style="margin: 0px; padding: 0px; border-width: 0px 0px 0px 1px; border-left-style: solid; border-left-color: rgb(2, 5, 14); outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: right;"><div style="margin: 0px; padding: 0px 24px; border-width: 0px 1px 0px 0px; border-right-style: solid; border-right-color: rgb(43, 45, 57); outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px;"><a href="https://www.ibm.com/developerworks/dwwi/jsp/ssologin.jsp?d=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F&amp;lang=zh_CN&amp;a=dwmav" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.75em; vertical-align: baseline; color: rgb(161, 162, 167); font-family: Arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="2">登录</a> <span style="margin: 0px; padding: 0px 5px; border: 0px; outline: 0px; font-size: 0.75em; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(85, 85, 85); font-weight: normal;">|</span> <a href="https://www.ibm.com/developerworks/dwwi/jsp/ssoregister.jsp?d=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F&amp;lang=zh_CN&amp;a=dwmav" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.75em; vertical-align: baseline; color: rgb(161, 162, 167); font-family: Arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="3">注册</a></div></li><li style="margin: 0px 0px 0px 20px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; height: 22px;"><a href="http://www.ibm.com/cn/zh/" style="margin: 2px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.8em; vertical-align: baseline; color: rgb(238, 238, 238); font-family: Arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="1">IBM</a></li></ul></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; width: 1903px; height: 52px; background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(rgb(89, 92, 100)), to(rgb(27, 27, 28)));"><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px;"><li style="margin: 0px; padding: 9px 14px 0px 20px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://www.ibm.com/developerworks/cn/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif;"><img src="理解 Android Build 系统 [2]_files/Image [1].png" type="image/png" alt="developerWorks®" height="28" style="cursor: default; height: auto;" width="225"/></a></li></ul><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px;"><li style="margin: 0px; padding: 0px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; height: 52px;"><a href="http://www.ibm.com/developerworks/cn/topics/" style="margin: 0px; padding: 14px 13px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(204, 204, 204); font-family: Arial, sans-serif; display: block; letter-spacing: 0px; text-decoration: none; text-shadow: rgb(0, 0, 0) 0px -1px 0px; font-weight: 300; height: 38px;" tabindex="0">技术主题</a></li><li style="margin: 0px; padding: 0px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; height: 52px;"><a href="http://www.ibm.com/developerworks/cn/downloads/" style="margin: 0px; padding: 14px 13px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(204, 204, 204); font-family: Arial, sans-serif; display: block; letter-spacing: 0px; text-decoration: none; text-shadow: rgb(0, 0, 0) 0px -1px 0px; font-weight: 300; height: 38px;" tabindex="0">软件下载</a></li><li style="margin: 0px; padding: 0px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; height: 52px;"><a href="http://www.ibm.com/developerworks/community/?lang=zh" style="margin: 0px; padding: 14px 13px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(204, 204, 204); font-family: Arial, sans-serif; display: block; letter-spacing: 0px; text-decoration: none; text-shadow: rgb(0, 0, 0) 0px -1px 0px; font-weight: 300; height: 38px;" tabindex="0">社区</a></li><li style="margin: 0px; padding: 0px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; height: 52px;"><a href="https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=6d7f9e5d-5f89-4767-a006-a81b8d186370&amp;lang=zh" style="margin: 0px; padding: 14px 13px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(204, 204, 204); font-family: Arial, sans-serif; display: block; letter-spacing: 0px; text-decoration: none; text-shadow: rgb(0, 0, 0) 0px -1px 0px; font-weight: 300; height: 38px;" tabindex="0">技术讲座</a></li></ul><p style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><span style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; position: absolute; left: -3000px; width: 500px;">搜索 developerWorks</span></p></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; position: fixed; top: 160px; right: 0px; z-index: 500; width: 25px; display: block;"><ul style="border-width: 1px 0px 1px 1px; border-top-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(255, 255, 255); border-bottom-color: rgb(255, 255, 255); border-left-color: rgb(255, 255, 255); outline: 0px; font-size: inherit; vertical-align: baseline; list-style: none; margin: 0px; padding: 3px 6px 3px 3px; width: 15px; box-shadow: rgb(136, 136, 136) 0px 0px 5px; float: right; opacity: 0.8; transition-property: opacity; transition-duration: 0.5s; background-color: rgb(255, 255, 255);"><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#" rel="print" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://1.www.s81c.com/i/v17/icons/sprites-pt-all.png) -52px -130px no-repeat;" tabindex="0" title="打印本页面">打印本页面</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#" rel="email" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://1.www.s81c.com/i/v17/icons/sprites-pt-all.png) -52px -52px no-repeat;" tabindex="-1" title="用电子邮件发送本页面">用电子邮件发送本页面</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://service.weibo.com/share/share.php?title=%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F&amp;url=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F&amp;language=zh_cn" rel="新浪微博" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://1.www.s81c.com/i/v17/icons/sprites-pt-cn.png) -52px -78px no-repeat;" tabindex="-1" title="新浪微博">新浪微博</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://share.renren.com/share/buttonshare?title=%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F&amp;link=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F" rel="人人网" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://1.www.s81c.com/i/v17/icons/sprites-pt-cn.png) -52px -26px no-repeat;" tabindex="-1" title="人人网">人人网</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://v.t.qq.com/share/share.php?title=%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F&amp;url=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F" rel="腾讯微博" style="margin: 0px; padding: 0px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://www.ibm.com/developerworks/css/dw-mf/v17/sprites-new.png) -52px 0px no-repeat scroll transparent;" tabindex="-1" title="腾讯微博">腾讯微博</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://t.sohu.com/third/post.jsp?title=%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F%20&amp;link=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F" rel="搜狐微博" style="margin: 0px; padding: 0px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://www.ibm.com/developerworks/css/dw-mf/v17/sprites-new.png) -52px -26px no-repeat scroll transparent;" tabindex="-1" title="搜狐微博">搜狐微博</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://t.163.com/article/user/checkLogin.do?info=%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F%20https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F" rel="网易微博" style="margin: 0px; padding: 0px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://www.ibm.com/developerworks/css/dw-mf/v17/sprites-new.png) -52px -52px no-repeat scroll transparent;" tabindex="-1" title="网易微博">网易微博</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://digg.com/submit?phase=2&amp;url=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F&amp;title=%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F" rel="digg" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://1.www.s81c.com/i/v17/icons/sprites-pt-all.png) -52px -26px no-repeat;" tabindex="-1" title="Digg">Digg</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://www.facebook.com/sharer.php?u=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F&amp;t=%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F" rel="facebook" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://1.www.s81c.com/i/v17/icons/sprites-pt-all.png) -52px -78px no-repeat;" tabindex="-1" title="Facebook">Facebook</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://twitter.com/?status=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F%20-%20%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F" rel="twitter" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://1.www.s81c.com/i/v17/icons/sprites-pt-all.png) -52px -156px no-repeat;" tabindex="-1" title="Twitter">Twitter</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://delicious.com/post?url=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F&amp;title=%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F" rel="delicious" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://1.www.s81c.com/i/v17/icons/sprites-pt-all.png) -52px 0px no-repeat;" tabindex="-1" title="Delicious">Delicious</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F&amp;title=%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F" rel="linkedin" style="margin: 0px; padding: 0px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://1.www.s81c.com/i/v17/icons/sprites-pt-all.png) -52px -104px no-repeat;" tabindex="-1" title="Linked In">Linked In</a></li></ul></div></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 0px; padding: 0px; border-width: 0px 0px 1px; border-bottom-style: solid; border-bottom-color: rgb(229, 229, 229); outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; display: block; clear: both; background-image: none; background-attachment: initial; background-color: rgb(249, 249, 249) !important; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><div style="margin: 0px auto; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; width: 940px; position: relative; min-height: 0px;"><ul style="border: 0px; outline: 0px; font-size: 0.7em !important; vertical-align: baseline; list-style: none; margin: 0px; padding: 15px 0px 0px; height: 0px; text-shadow: rgb(255, 255, 255) 0px 1px 0px;"><li style="margin: 0px; padding: 0px 16px 0px 2px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; display: inline; float: left; clear: none; background: url(https://1.www.s81c.com/i/v17/t/nav-trail.gif) 100% 1px no-repeat;"><a href="http://www.ibm.com/developerworks/cn/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(102, 102, 102); font-family: Arial, sans-serif; text-decoration: none;">developerWorks 中国</a></li><li style="margin: 0px; padding: 0px 16px 0px 2px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; display: inline; float: left; clear: none; background: url(https://1.www.s81c.com/i/v17/t/nav-trail.gif) 100% 1px no-repeat;"><a href="http://www.ibm.com/developerworks/cn/topics/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(102, 102, 102); font-family: Arial, sans-serif; text-decoration: none;">技术主题</a></li><li style="margin: 0px; padding: 0px 16px 0px 2px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; display: inline; float: left; clear: none; background: url(https://1.www.s81c.com/i/v17/t/nav-trail.gif) 100% 1px no-repeat;"><a href="http://www.ibm.com/developerworks/cn/opensource/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(102, 102, 102); font-family: Arial, sans-serif; text-decoration: none;">Open source</a></li><li style="margin: 0px; padding: 0px 16px 0px 2px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; display: inline; float: left; clear: none; background: url(https://1.www.s81c.com/i/v17/t/nav-trail.gif) 100% 1px no-repeat;"><a href="http://www.ibm.com/developerworks/cn/views/opensource/libraryview.jsp" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(102, 102, 102); font-family: Arial, sans-serif; text-decoration: none;">文档库</a></li></ul><h1 style="margin: 0px; padding-top: 5px; padding-right: 10px !important; padding-bottom: 10px !important; padding-left: 0px !important; border: 0px; outline: 0px; font-size: 2em !important; vertical-align: baseline; clear: both; text-shadow: rgb(255, 255, 255) 0px 1px 0px; width: 920px !important; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">理解 Android Build 系统</h1></div><div style="margin: 0px auto; padding: 0px 0px 20px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both; width: 940px; overflow: hidden;"><div style="margin: 0px 20px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: none; float: left; width: 620px;"><p style="margin: 0px; padding: 0px 0px 10px; border: 0px; outline: 0px; font-size: 0.95em; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial; width: 620px; color: rgb(51, 51, 51);">Android Build 系统是用来编译 Android 系统，Android SDK 以及相关文档的一套框架。众所周知，Android 是一个开源的操作系统。Android 的源码中包含了许许多多的模块。 不同产商的不同设备对于 Android 系统的定制都是不一样的。如何将这些模块统一管理起来，如何能够在不同的操作系统上进行编译，如何在编译时能够支持面向不同的硬件设备，不同的编译类型，且还要提供面向各个产商的定制扩展，是非常有难度的。 但 Android Build 系统很好的解决了这些问题，这里面有很多值得我们开发人员学习的地方。对于 Android 平台开发人员来说，本文可以帮助你熟悉你每天接触到的构建环境。对于其他开发人员来说，本文可以作为一个 GNU Make 的使用案例，学习这些成功案例，可以提升我们的开发经验。</p><p style="margin: 0px; padding: 0px 0px 10px; border: 0px; outline: 0px; font-size: 0.95em; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial; width: 620px; color: rgb(51, 51, 51);"><span style="margin: -2px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;"><span style="margin: 0px; padding: 0px 6px; border: 0px; outline: 0px; font-size: 0.8em; vertical-align: top; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial; color: rgb(255, 255, 255); display: inline; background-color: rgb(40, 125, 159);">4</span><img src="理解 Android Build 系统 [2]_files/Image [2].png" type="image/png" height="7" style="cursor: default; height: auto;" width="7"/> <a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#icomments" style="margin: 15px 0px 0px; padding: 0px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: 1em; vertical-align: baseline; color: rgb(0, 82, 141); font-family: Arial, sans-serif; display: inline; text-decoration: none; opacity: 0.8;">评论：</a></span></p></div><div style="margin: 0px 5px 90px 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: none; float: left; width: 290px;"><p style="margin: 0px; padding: 4px 0px 0px; border: 0px; outline: 0px; font-size: 0.8em; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial; width: 290px; color: rgb(51, 51, 51);"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#authorN1001F" style="margin: 15px 0px 0px; padding: 0px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: 1em; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; opacity: 0.8; display: inline; text-decoration: none; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_links_blue_ON.png) !important; background-position: 0px -601px; background-repeat: no-repeat;">强 波</a>, Java 软件工程师, 富士通南大软件技术有限公司</p><p style="margin: 0px; padding: 12px 0px 6px; border: 0px; outline: 0px; font-size: 0.8em; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial; width: 290px; color: rgb(51, 51, 51);">2013 年 3 月 28 日</p><div style="margin: 10px 0px 0px; padding: 0px 5px 0px 0px; border: 1px solid rgb(204, 204, 204); outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(102, 102, 102); position: absolute; width: 290px; z-index: 900; background-color: rgb(255, 255, 255);"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both;"><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; display: block; padding: 0px; height: 26px; list-style: none; margin: 0px;"><li style="margin: 0px; padding: 5px 4px 5px 3px !important; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#toggle" style="margin: 0px; padding: 0px 4px 0px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; float: left; height: 16px; overflow: hidden; width: 16px; background: url(https://www.ibm.com/i/v17/icons/_icons/ibm_icon_blue_minimize.png) no-repeat scroll;"><img src="理解 Android Build 系统 [2]_files/Image.gif" type="image/gif" alt="+" style="cursor: default; height: auto;"/></a><span style="margin: 0px 0px 0px 16px; padding: 0px; border: 0px; outline: 0px; font-size: 14px; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial; display: block; cursor: pointer; font-weight: bold;">内容</span></li></ul></div></div></div></div></div><div style="margin: 20px auto; padding: 0px 0px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; width: 980px; background: rgb(255, 255, 255);"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.8em; vertical-align: baseline; font-family: Arial, sans-serif; float: left; width: 980px; position: inherit;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; background: rgb(255, 255, 255);"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: left; float: left; width: 980px;"><div style="margin: 0px; padding: 0px 10px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both; overflow: hidden; width: 960px;"><div style="margin: 0px; padding: 0px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: none; min-height: 1px; width: 940px; clear: both;"><div style="margin: 5px 0px 6px 15px; padding: 0px 0px 0px 15px; border-width: 0px 0px 0px 1px; border-left-style: solid; border-left-color: rgb(170, 170, 170); outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: right; clear: none; width: 224px;"><img src="理解 Android Build 系统 [2]_files/Image [3].png" type="image/png" height="64" style="cursor: default; height: auto;" width="64"/><p style="margin: 9px 0px 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.094em !important; vertical-align: baseline; font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial; color: rgb(14, 128, 151); text-align: center;">在 IBM Bluemix 云平台上开发并部署您的下一个应用。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);"><a href="https://developer.ibm.com/sso/bmregistration?lang=zh_CN&amp;ca=dwchina-_-bluemix-_-os-cn-android-build-_-sidebar" style="margin: 3px 0px 5px; padding: 8px 30px !important; border: 1px solid rgb(23, 130, 116); outline: 0px; font-size: 0.939em !important; vertical-align: baseline; color: rgb(255, 255, 255); font-family: Arial, sans-serif; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.4) 0px 2px 3px; display: block; font-weight: bold; min-width: 80px; text-align: center; text-decoration: none; text-shadow: rgb(0, 0, 0) 0px 1px 0px; white-space: nowrap; background: -webkit-linear-gradient(top, rgb(33, 190, 170), rgb(23, 130, 116));">开始您的试用</a></p></div><h2 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.6em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">前言</h2><p style="margin-top: 5px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">Android Build 系统是 Android 源码的一部分。关于如何获取 Android 源码，请参照 Android Source 官方网站：</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);"><a href="http://source.android.com/source/downloading.html" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif;">http://source.android.com/source/downloading.html</a>。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">Android Build 系统用来编译 Android 系统，Android SDK 以及相关文档。该系统主要由 Make 文件，Shell 脚本以及 Python 脚本组成，其中最主要的是 Make 文件。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">众所周知，Android 是一个开源的操作系统。Android 的源码中包含了大量的开源项目以及许多的模块。不同产商的不同设备对于 Android 系统的定制都是不一样的。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">如何将这些项目和模块的编译统一管理起来，如何能够在不同的操作系统上进行编译，如何在编译时能够支持面向不同的硬件设备，不同的编译类型，且还要提供面向各个产商的定制扩展，是非常有难度的。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">但 Android Build 系统很好的解决了这些问题，这里面有很多值得我们开发人员学习的地方。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">对于 Android 平台开发人员来说，本文可以帮助你熟悉你每天接触到的构建环境。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">对于其他开发人员来说，本文可以作为一个 GNU Make 的使用案例，学习这些成功案例，可以提升我们的开发经验。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34); clear: both; text-align: right; height: 22px;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#ibm-pcon" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; opacity: 0.8; display: inline; text-decoration: none; font-weight: bold; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_arrow_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;">回页首</a></p><h2 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.6em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">概述</h2><p style="margin-top: 5px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">Build 系统中最主要的处理逻辑都在 Make 文件中，而其他的脚本文件只是起到一些辅助作用，由于篇幅所限，本文只探讨 Make 文件中的内容。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">整个 Build 系统中的 Make 文件可以分为三类：</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">第一类是 Build 系统核心文件，此类文件定义了整个 Build 系统的框架，而其他所有 Make 文件都是在这个框架的基础上编写出来的。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">图 1 是 Android 源码树的目录结构，Build 系统核心文件全部位于 /build/core（本文所提到的所有路径都是以 Android 源码树作为背景的，“/”指的是源码树的根目录，与文件系统无关）目录下。</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">图 1. Android 源码树的目录结构</h5><img src="理解 Android Build 系统 [2]_files/Image [4].png" type="image/png" alt="图 1. Android 源码树的目录结构" style="cursor: default;" width="274"/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">第二类是针对某个产品（一个产品可能是某个型号的手机或者平板电脑）的 Make 文件，这些文件通常位于 device 目录下，该目录下又以公司名以及产品名分为两级目录，图 2 是 device 目录下子目录的结构。对于一个产品的定义通常需要一组文件，这些文件共同构成了对于这个产品的定义。例如，/device/sony/it26 目录下的文件共同构成了对于 Sony LT26 型号手机的定义。</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">图 2. device 目录下子目录的结构</h5><img src="理解 Android Build 系统 [2]_files/Image [5].png" type="image/png" alt="图 2. device 目录下子目录的结构" style="cursor: default;" width="315"/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">第三类是针对某个模块（关于模块后文会详细讨论）的 Make 文件。整个系统中，包含了大量的模块，每个模块都有一个专门的 Make 文件，这类文件的名称统一为“Android.mk”，该文件中定义了如何编译当前模块。Build 系统会在整个源码树中扫描名称为“Android.mk”的文件并根据其中的内容执行模块的编译。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34); clear: both; text-align: right; height: 22px;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#ibm-pcon" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; opacity: 0.8; display: inline; text-decoration: none; font-weight: bold; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_arrow_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;">回页首</a></p><h2 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.6em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">编译 Android 系统</h2><h3 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.4em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">执行编译</h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">Android 系统的编译环境目前只支持 Ubuntu 以及 Mac OS 两种操作系统。关于编译环境的构建方法请参见以下路径：<a href="http://source.android.com/source/initializing.html" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif;">http://source.android.com/source/initializing.html</a></p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">在完成编译环境的准备工作以及获取到完整的 Android 源码之后，想要编译出整个 Android 系统非常的容易：</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">打开控制台之后转到 Android 源码的根目录，然后执行如清单 1 所示的三条命令即可（<code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">&quot;$&quot;</code>是命令提示符，不是命令的一部分。）：</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">完整的编译时间依赖于编译主机的配置，在笔者的 Macbook Pro（OS X 10.8.2, i7 2G CPU，8G RAM, 120G SSD）上使用 8 个 Job 同时编译共需要一个半小时左右的时间。</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">清单 1. 编译 Android 系统</h5><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><pre style="margin-top: 0px; margin-right: 0px; margin-bottom: 6px !important; margin-left: 0px; padding: 5px 10px 5px 3px !important; border: 1px solid rgb(204, 204, 204); outline: 0px; font-size: 11px; vertical-align: baseline; width: 780px; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; overflow: auto; color: rgb(0, 0, 0); clear: right; background: rgb(247, 247, 247) !important;">
 $ source build/envsetup.sh 
 $ lunch full-eng 
 $ make -j8
</pre></div><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">这三行命令的说明如下：</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">第一行命令“source build/envsetup.sh”引入了 <code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">build/envsetup.sh</code>脚本。该脚本的作用是初始化编译环境，并引入一些辅助的 Shell 函数，这其中就包括第二步使用 lunch 函数。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">除此之外，该文件中还定义了其他一些常用的函数，它们如表 1 所示：</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">表 1. build/envsetup.sh 中定义的常用函数</h5><table border="0" cellpadding="0" cellspacing="0" style="margin: 0px 0px 20px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; border-collapse: collapse; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); width: 780px !important; border-left-width: 0px; border-left-style: none; border-right-width: 0px; border-right-style: none;"><tbody style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><th style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 0px; border-left-style: none; border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">名称</th><th style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">说明</th></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">croot</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">切换到源码树的根目录</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">m</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">在源码树的根目录执行 make</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">mm</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">Build 当前目录下的模块</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">mmm</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">Build 指定目录下的模块</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">cgrep</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">在所有 C/C++ 文件上执行 grep</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">jgrep</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">在所有 Java 文件上执行 grep</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">resgrep</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">在所有 res/*.xml 文件上执行 grep</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">godir</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">转到包含某个文件的目录路径</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">printconfig</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">显示当前 Build 的配置信息</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">add_lunch_combo</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">在 lunch 函数的菜单中添加一个条目</td></tr></tbody></table><br/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">第二行命令“lunch full-eng”是调用 lunch 函数，并指定参数为“full-eng”。lunch 函数的参数用来指定此次编译的目标设备以及编译类型。在这里，这两个值分别是“full”和“eng”。“full”是 Android 源码中已经定义好的一种产品，是为模拟器而设置的。而编译类型会影响最终系统中包含的模块，关于编译类型将在表 7 中详细讲解。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">如果调用 lunch 函数的时候没有指定参数，那么该函数将输出列表以供选择，该列表类似图 3 中的内容（列表的内容会根据当前 Build 系统中包含的产品配置而不同，具体参见后文“添加新的产品”），此时可以通过输入编号或者名称进行选择。</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">图 3. lunch 函数的输出</h5><img src="理解 Android Build 系统 [2]_files/Image [6].png" type="image/png" alt="图 3. lunch 函数的输出" style="cursor: default;" width="294"/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">第三行命令“make -j8”才真正开始执行编译。make 的参数“-j”指定了同时编译的 Job 数量，这是个整数，该值通常是编译主机 CPU 支持的并发线程总数的 1 倍或 2 倍（例如：在一个 4 核，每个核支持两个线程的 CPU 上，可以使用 make -j8 或 make -j16）。在调用 make 命令时，如果没有指定任何目标，则将使用默认的名称为“droid”目标，该目标会编译出完整的 Android 系统镜像。</p><h3 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.4em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">Build 结果的目录结构</h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">所有的编译产物都将位于 /out 目录下，该目录下主要有以下几个子目录：</p><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px 0px 8px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">/out/host/：该目录下包含了针对主机的 Android 开发工具的产物。即 SDK 中的各种工具，例如：emulator，adb，aapt 等。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">/out/target/common/：该目录下包含了针对设备的共通的编译产物，主要是 Java 应用代码和 Java 库。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 44px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">/out/target/product/&lt;<em style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;">product_name</em>&gt;/：包含了针对特定设备的编译结果以及平台相关的 C/C++ 库和二进制文件。其中，<em style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;">&lt;product_name&gt;</em>是具体目标设备的名称。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 23px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">/out/dist/：包含了为多种分发而准备的包，通过“<code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">make dist</code><em style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;">target</em>”将文件拷贝到该目录，默认的编译目标不会产生该目录。</li></ul><h3 style="margin: 5px 0px; padding: 8px 0px 0px; border: 0px; outline: 0px; font-size: 1.4em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">Build 生成的镜像文件</h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">Build 的产物中最重要的是三个镜像文件，它们都位于 /out/target/product/&lt;<em style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;">product_name</em>&gt;/ 目录下。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">这三个文件是：</p><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px 0px 8px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">system.img：包含了 Android OS 的系统文件，库，可执行文件以及预置的应用程序，将被挂载为根分区。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">ramdisk.img：在启动时将被 Linux 内核挂载为只读分区，它包含了 /init 文件和一些配置文件。它用来挂载其他系统镜像并启动 init 进程。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">userdata.img：将被挂载为 /data，包含了应用程序相关的数据以及和用户相关的数据。</li></ul><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34); clear: both; text-align: right; height: 22px;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#ibm-pcon" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; opacity: 0.8; display: inline; text-decoration: none; font-weight: bold; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_arrow_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;">回页首</a></p><h2 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.6em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">Make 文件说明</h2><p style="margin-top: 5px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">整个 Build 系统的入口文件是源码树根目录下名称为“Makefile”的文件，当在源代码根目录上调用 make 命令时，make 命令首先将读取该文件。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">Makefile 文件的内容只有一行：“<code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">include build/core/main.mk</code>”。该行代码的作用很明显：包含 build/core/main.mk 文件。在 main.mk 文件中又会包含其他的文件，其他文件中又会包含更多的文件，这样就引入了整个 Build 系统。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">这些 Make 文件间的包含关系是相当复杂的，图 3 描述了这种关系，该图中黄色标记的文件（且除了 <code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">$</code>开头的文件）都位于 build/core/ 目录下。</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">图 4. 主要的 Make 文件及其包含关系</h5><img src="理解 Android Build 系统 [2]_files/Image [7].png" type="image/png" alt="图 4. 主要的 Make 文件及其包含关系" style="cursor: default;" width="572"/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">表 2 总结了图 4 中提到的这些文件的作用：</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">表 2. 主要的 Make 文件的说明</h5><table border="0" cellpadding="0" cellspacing="0" style="margin: 0px 0px 20px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; border-collapse: collapse; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); width: 780px !important; border-left-width: 0px; border-left-style: none; border-right-width: 0px; border-right-style: none;"><tbody style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><th style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 0px; border-left-style: none; border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">文件名</th><th style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">说明</th></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">main.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">最主要的 Make 文件，该文件中首先将对编译环境进行检查，同时引入其他的 Make 文件。另外，该文件中还定义了几个最主要的 Make 目标，例如 droid，sdk，等（参见后文“Make 目标说明”）。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">help.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">包含了名称为 help 的 Make 目标的定义，该目标将列出主要的 Make 目标及其说明。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">pathmap.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">将许多头文件的路径通过名值对的方式定义为映射表，并提供 include-path-for 函数来获取。例如，通过<code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(call include-path-for, frameworks-native)</code>便可以获取到 framework 本地代码需要的头文件路径。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">envsetup.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">配置 Build 系统需要的环境变量，例如：TARGET_PRODUCT，TARGET_BUILD_VARIANT，HOST_OS，HOST_ARCH 等。<br/>
当前编译的主机平台信息（例如操作系统，CPU 类型等信息）就是在这个文件中确定的。<br/>
另外，该文件中还指定了各种编译结果的输出路径。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">combo/select.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">根据当前编译器的平台选择平台相关的 Make 文件。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">dumpvar.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">在 Build 开始之前，显示此次 Build 的配置信息。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">config.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">整个 Build 系统的配置文件，最重要的 Make 文件之一。该文件中主要包含以下内容：<br/><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">定义了许多的常量来负责不同类型模块的编译。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">定义编译器参数以及常见文件后缀，例如 .zip,.jar.apk。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">根据 BoardConfig.mk 文件，配置产品相关的参数。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">设置一些常用工具的路径，例如 flex，e2fsck，dx。</li></ul></td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">definitions.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">最重要的 Make 文件之一，在其中定义了大量的函数。这些函数都是 Build 系统的其他文件将用到的。例如：my-dir，all-subdir-makefiles，find-subdir-files，sign-package 等，关于这些函数的说明请参见每个函数的代码注释。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">distdir.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">针对 dist 目标的定义。dist 目标用来拷贝文件到指定路径。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">dex_preopt.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">针对启动 jar 包的预先优化。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">pdk_config.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">顾名思义，针对 pdk（Platform Developement Kit）的配置文件。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">${ONE_SHOT_MAKEFILE}</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">ONE_SHOT_MAKEFILE 是一个变量，当使用“mm”编译某个目录下的模块时，此变量的值即为当前指定路径下的 Make 文件的路径。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">${subdir_makefiles}</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">各个模块的 Android.mk 文件的集合，这个集合是通过 Python 脚本扫描得到的。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">post_clean.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">在前一次 Build 的基础上检查当前 Build 的配置，并执行必要清理工作。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">legacy_prebuilts.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该文件中只定义了 GRANDFATHERED_ALL_PREBUILT 变量。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">Makefile</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">被 main.mk 包含，该文件中的内容是辅助 main.mk 的一些额外内容。</td></tr></tbody></table><br/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">Android 源码中包含了许多的模块，模块的类型有很多种，例如：Java 库，C/C++ 库，APK 应用，以及可执行文件等 。并且，Java 或者 C/C++ 库还可以分为静态的或者动态的，库或可执行文件既可能是针对设备（本文的“设备”指的是 Android 系统将被安装的设备，例如某个型号的手机或平板）的也可能是针对主机（本文的“主机”指的是开发 Android 系统的机器，例如装有 Ubuntu 操作系统的 PC 机或装有 MacOS 的 iMac 或 Macbook）的。不同类型的模块的编译步骤和方法是不一样，为了能够一致且方便的执行各种类型模块的编译，在 config.mk 中定义了许多的常量，这其中的每个常量描述了一种类型模块的编译方式，这些常量有：</p><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px 0px 8px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_HOST_STATIC_LIBRARY</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_HOST_SHARED_LIBRARY</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_STATIC_LIBRARY</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_SHARED_LIBRARY</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_EXECUTABLE</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_HOST_EXECUTABLE</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_PACKAGE</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_PREBUILT</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_MULTI_PREBUILT</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_HOST_PREBUILT</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_JAVA_LIBRARY</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_STATIC_JAVA_LIBRARY</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_HOST_JAVA_LIBRARY</li></ul><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">通过名称大概就可以猜出每个变量所对应的模块类型。（在模块的 Android.mk 文件中，只要包含进这里对应的常量便可以执行相应类型模块的编译。对于 Android.mk 文件的编写请参见后文：“添加新的模块”。）</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">这些常量的值都是另外一个 Make 文件的路径，详细的编译方式都是在对应的 Make 文件中定义的。这些常量和 Make 文件的是一一对应的，对应规则也很简单：常量的名称是 Make 文件的文件名除去后缀全部改为大写然后加上“BUILD_”作为前缀。例如常量 BUILD_HOST_PREBUILT 的值对应的文件就是 host_prebuilt.mk。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">这些 Make 文件的说明如表 3 所示：</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">表 3. 各种模块的编译方式的定义文件</h5><table border="0" cellpadding="0" cellspacing="0" style="margin: 0px 0px 20px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; border-collapse: collapse; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); width: 780px !important; border-left-width: 0px; border-left-style: none; border-right-width: 0px; border-right-style: none;"><tbody style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><th style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 0px; border-left-style: none; border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">文件名</th><th style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">说明</th></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">host_static_library.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译主机上的静态库。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">host_shared_library.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译主机上的共享库。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">static_library.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译设备上的静态库。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">shared_library.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译设备上的共享库。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">executable.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译设备上的可执行文件。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">host_executable.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译主机上的可执行文件。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">package.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译 APK 文件。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">prebuilt.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何处理一个已经编译好的文件 ( 例如 Jar 包 )。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">multi_prebuilt.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何处理一个或多个已编译文件，该文件的实现依赖 prebuilt.mk。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">host_prebuilt.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">处理一个或多个主机上使用的已编译文件，该文件的实现依赖 multi_prebuilt.mk。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">java_library.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译设备上的共享 Java 库。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">static_java_library.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译设备上的静态 Java 库。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">host_java_library.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译主机上的共享 Java 库。</td></tr></tbody></table><br/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">不同类型的模块的编译过程会有一些相同的步骤，例如：编译一个 Java 库和编译一个 APK 文件都需要定义如何编译 Java 文件。因此，表 3 中的这些 Make 文件的定义中会包含一些共同的代码逻辑。为了减少代码冗余，需要将共同的代码复用起来，复用的方式是将共同代码放到专门的文件中，然后在其他文件中包含这些文件的方式来实现的。这些包含关系如图 5 所示。由于篇幅关系，这里就不再对其他文件做详细描述（其实这些文件从文件名称中就可以大致猜出其作用）。</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">图 5. 模块的编译方式定义文件的包含关系</h5><img src="理解 Android Build 系统 [2]_files/Image [8].png" type="image/png" alt="图 5. 模块的编译方式定义文件的包含关系" style="cursor: default;" width="572"/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34); clear: both; text-align: right; height: 22px;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#ibm-pcon" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; opacity: 0.8; display: inline; text-decoration: none; font-weight: bold; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_arrow_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;">回页首</a></p><h2 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.6em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">Make 目标说明</h2><h3 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.4em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">make /make droid</h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">如果在源码树的根目录直接调用“make”命令而不指定任何目标，则会选择默认目标：“droid”（在 main.mk 中定义）。因此，这和执行“make droid”效果是一样的。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">droid 目标将编译出整个系统的镜像。从源代码到编译出系统镜像，整个编译过程非常复杂。这个过程并不是在 droid 一个目标中定义的，而是 droid 目标会依赖许多其他的目标，这些目标的互相配合导致了整个系统的编译。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">图 6 描述了 droid 目标所依赖的其他目标：</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">图 6. droid 目标所依赖的其他 Make 目标</h5><img src="理解 Android Build 系统 [2]_files/Image [9].png" type="image/png" alt="图 6. droid 目标所依赖的其他 Make 目标" style="cursor: default;" width="572"/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">图 6 中这些目标的说明如表 4 所示：</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">表 4. droid 所依赖的其他 Make 目标的说明</h5><table border="0" cellpadding="0" cellspacing="0" style="margin: 0px 0px 20px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; border-collapse: collapse; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); width: 780px !important; border-left-width: 0px; border-left-style: none; border-right-width: 0px; border-right-style: none;"><tbody style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><th style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 0px; border-left-style: none; border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">名称</th><th style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">说明</th></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">apps_only</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该目标将编译出当前配置下不包含 user，userdebug，eng 标签（关于标签，请参见后文“添加新的模块”）的应用程序。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">droidcore</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该目标仅仅是所依赖的几个目标的组合，其本身不做更多的处理。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">dist_files</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该目标用来拷贝文件到 /out/dist 目录。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">files</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该目标仅仅是所依赖的几个目标的组合，其本身不做更多的处理。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">prebuilt</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该目标依赖于 <code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(ALL_PREBUILT)</code>，<code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(ALL_PREBUILT)</code>的作用就是处理所有已编译好的文件。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(modules_to_install)</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">modules_to_install 变量包含了当前配置下所有会被安装的模块（一个模块是否会被安装依赖于该产品的配置文件，模块的标签等信息），因此该目标将导致所有会被安装的模块的编译。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(modules_to_check)</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该目标用来确保我们定义的构建模块是没有冗余的。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(INSTALLED_ANDROID_INFO_TXT_TARGET)</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该目标会生成一个关于当前 Build 配置的设备信息的文件，该文件的生成路径是：out/target/product/&lt;<em style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;">product_name</em>&gt;/android-info.txt</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">systemimage</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">生成 system.img。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(INSTALLED_BOOTIMAGE_TARGET)</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">生成 boot.img。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(INSTALLED_RECOVERYIMAGE_TARGET)</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">生成 recovery.img。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(INSTALLED_USERDATAIMAGE_TARGET)</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">生成 userdata.img。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(INSTALLED_CACHEIMAGE_TARGET)</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">生成 cache.img。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(INSTALLED_FILES_FILE)</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该目标会生成 out/target/product/&lt;<em style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;">product_name</em>&gt;/ installed-files.txt 文件，该文件中内容是当前系统镜像中已经安装的文件列表。</td></tr></tbody></table><br/><h3 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.4em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">其他目标</h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">Build 系统中包含的其他一些 Make 目标说明如表 5 所示：</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">表 5. 其他主要 Make 目标</h5><table border="0" cellpadding="0" cellspacing="0" style="margin: 0px 0px 20px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; border-collapse: collapse; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); width: 780px !important; border-left-width: 0px; border-left-style: none; border-right-width: 0px; border-right-style: none;"><tbody style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><th style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 0px; border-left-style: none; border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">Make 目标</th><th style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">说明</th></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make clean</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">执行清理，等同于：rm -rf out/。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make sdk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">编译出 Android 的 SDK。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make clean-sdk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">清理 SDK 的编译产物。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make update-api</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">更新 API。在 framework API 改动之后，需要首先执行该命令来更新 API，公开的 API 记录在 frameworks/base/api 目录下。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make dist</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">执行 Build，并将 MAKECMDGOALS 变量定义的输出文件拷贝到 /out/dist 目录。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make all</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">编译所有内容，不管当前产品的定义中是否会包含。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make help</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">帮助信息，显示主要的 make 目标。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make snod</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">从已经编译出的包快速重建系统镜像。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make libandroid_runtime</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">编译所有 JNI framework 内容。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make</strong><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">framework</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">编译所有 Java framework 内容。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make</strong><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">services</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">编译系统服务和相关内容。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make &lt;local_target&gt;</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">编译一个指定的模块，local_target 为模块的名称。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make clean-&lt;local_target&gt;</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">清理一个指定模块的编译结果。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make</strong><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">dump-products</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">显示所有产品的编译配置信息，例如：产品名，产品支持的地区语言，产品中会包含的模块等信息。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make</strong><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT-xxx-yyy</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">编译某个指定的产品。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make</strong><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">bootimage</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">生成 boot.img</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make</strong><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">recoveryimage</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">生成 recovery.img</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make</strong><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">userdataimage</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">生成 userdata.img</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make</strong><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">cacheimage</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">生成 cache.img</td></tr></tbody></table><br/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34); clear: both; text-align: right; height: 22px;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#ibm-pcon" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; opacity: 0.8; display: inline; text-decoration: none; font-weight: bold; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_arrow_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;">回页首</a></p><h2 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.6em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">在 Build 系统中添加新的内容</h2><h3 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.4em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">添加新的产品</h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">当我们要开发一款新的 Android 产品的时候，我们首先就需要在 Build 系统中添加对于该产品的定义。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">在 Android Build 系统中对产品定义的文件通常位于 device 目录下（另外还有一个可以定义产品的目录是 vender 目录，这是个历史遗留目录，Google 已经建议不要在该目录中进行定义，而应当选择 device 目录）。device 目录下根据公司名以及产品名分为二级目录，这一点我们在概述中已经提到过。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">通常，对于一个产品的定义通常至少会包括四个文件：AndroidProducts.mk，产品版本定义文件，BoardConfig.mk 以及 verndorsetup.sh。下面我们来详细说明这几个文件。</p><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px 0px 8px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 44px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">AndroidProducts.mk：该文文件中的内容很简单，其中只需要定义一个变量，名称为“PRODUCT_MAKEFILES”，该变量的值为产品版本定义文件名的列表，例如：</li></ul><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><pre style="margin-top: 0px; margin-right: 0px; margin-bottom: 6px !important; margin-left: 0px; padding: 5px 10px 5px 3px !important; border: 1px solid rgb(204, 204, 204); outline: 0px; font-size: 11px; vertical-align: baseline; width: 780px; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; overflow: auto; color: rgb(0, 0, 0); clear: right; background: rgb(247, 247, 247) !important;">
 PRODUCT_MAKEFILES := \ 
 $(LOCAL_DIR)/full_stingray.mk \ 
 $(LOCAL_DIR)/stingray_emu.mk \ 
 $(LOCAL_DIR)/generic_stingray.mk
</pre></div><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 44px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">产品版本定义文件：顾名思义，该文件中包含了对于特定产品版本的定义。该文件可能不只一个，因为同一个产品可能会有多种版本（例如，面向中国地区一个版本，面向美国地区一个版本）。该文件中可以定义的变量以及含义说明如表 6 所示：</li></ul><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">表 6. 产品版本定义文件中的变量及其说明</h5><table border="0" cellpadding="0" cellspacing="0" style="margin: 0px 0px 20px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; border-collapse: collapse; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); width: 780px !important; border-left-width: 0px; border-left-style: none; border-right-width: 0px; border-right-style: none;"><tbody><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><th style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 0px; border-left-style: none; border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">常量</th><th style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">说明</th></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_NAME</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">最终用户将看到的完整产品名，会出现在“关于手机”信息中。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_MODEL</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">产品的型号，这也是最终用户将看到的。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_LOCALES</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该产品支持的地区，以空格分格，例如：en_GB de_DE es_ES fr_CA。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_PACKAGES</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该产品版本中包含的 APK 应用程序，以空格分格，例如：Calendar Contacts。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_DEVICE</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该产品的工业设计的名称。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_MANUFACTURER</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">制造商的名称。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_BRAND</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该产品专门定义的商标（如果有的话）。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_PROPERTY_OVERRIDES</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">对于商品属性的定义。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_COPY_FILES</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">编译该产品时需要拷贝的文件，以“源路径 : 目标路径”的形式。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_OTA_PUBLIC_KEYS</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">对于该产品的 OTA 公开 key 的列表。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_POLICY</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">产品使用的策略。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_PACKAGE_OVERLAYS</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">指出是否要使用默认的资源或添加产品特定定义来覆盖。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_CONTRIBUTORS_FILE</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">HTML 文件，其中包含项目的贡献者。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_TAGS</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该产品的标签，以空格分格。</td></tr></tbody></table><br/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">通常情况下，我们并不需要定义所有这些变量。Build 系统的已经预先定义好了一些组合，它们都位于 /build/target/product 下，每个文件定义了一个组合，我们只要继承这些预置的定义，然后再覆盖自己想要的变量定义即可。例如：</p><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><pre style="margin-top: 0px; margin-right: 0px; margin-bottom: 6px !important; margin-left: 0px; padding: 5px 10px 5px 3px !important; border: 1px solid rgb(204, 204, 204); outline: 0px; font-size: 11px; vertical-align: baseline; width: 780px; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; overflow: auto; color: rgb(0, 0, 0); clear: right; background: rgb(247, 247, 247) !important;">
 # 继承 full_base.mk 文件中的定义
 $(call inherit-product, $(SRC_TARGET_DIR)/product/full_base.mk) 
 # 覆盖其中已经定义的一些变量
 PRODUCT_NAME := full_lt26 
 PRODUCT_DEVICE := lt26 
 PRODUCT_BRAND := Android 
 PRODUCT_MODEL := Full Android on LT26
</pre></div><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 44px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BoardConfig.mk：该文件用来配置硬件主板，它其中定义的都是设备底层的硬件特性。例如：该设备的主板相关信息，Wifi 相关信息，还有 bootloader，内核，radioimage 等信息。对于该文件的示例，请参看 Android 源码树已经有的文件。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 66px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">vendorsetup.sh：该文件中作用是通过 add_lunch_combo 函数在 lunch 函数中添加一个菜单选项。该函数的参数是产品名称加上编译类型，中间以“-”连接，例如：add_lunch_combo full_lt26-userdebug。/build/envsetup.sh 会扫描所有 device 和 vender 二 级目 录下的名称 为&quot;vendorsetup.sh&quot;文件，并根据其中的内容来确定 lunch 函数的 菜单选项。</li></ul><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">在配置了以上的文件之后，便可以编译出我们新添加的设备的系统镜像了。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">首先，调用“<code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">source build/envsetup.sh</code>”该命令的输出中会看到 Build 系统已经引入了刚刚添加的 vendorsetup.sh 文件。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">然后再调用“lunch”函数，该函数输出的列表中将包含新添加的 vendorsetup.sh 中添加的条目。然后通过编号或名称选择即可。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">最后，调用“make -j8”来执行编译即可。</p><h3 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.4em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">添加新的模块</h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">关于“模块”的说明在上文中已经提到过，这里不再赘述。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">在源码树中，一个模块的所有文件通常都位于同一个文件夹中。为了将当前模块添加到整个 Build 系统中，每个模块都需要一个专门的 Make 文件，该文件的名称为“Android.mk”。Build 系统会扫描名称为“Android.mk”的文件，并根据该文件中内容编译出相应的产物。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">需要注意的是：在 Android Build 系统中，编译是以模块（而不是文件）作为单位的，每个模块都有一个唯一的名称，一个模块的依赖对象只能是另外一个模块，而不能是其他类型的对象。对于已经编译好的二进制库，如果要用来被当作是依赖对象，那么应当将这些已经编译好的库作为单独的模块。对于这些已经编译好的库使用 BUILD_PREBUILT 或 BUILD_MULTI_PREBUILT。例如：当编译某个 Java 库需要依赖一些 Jar 包时，并不能直接指定 Jar 包的路径作为依赖，而必须首先将这些 Jar 包定义为一个模块，然后在编译 Java 库的时候通过模块的名称来依赖这些 Jar 包。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">下面，我们就来讲解 Android.mk 文件的编写：</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">Android.mk 文件通常以以下两行代码作为开头：</p><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><pre style="margin-top: 0px; margin-right: 0px; margin-bottom: 6px !important; margin-left: 0px; padding: 5px 10px 5px 3px !important; border: 1px solid rgb(204, 204, 204); outline: 0px; font-size: 11px; vertical-align: baseline; width: 780px; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; overflow: auto; color: rgb(0, 0, 0); clear: right; background: rgb(247, 247, 247) !important;">
 LOCAL_PATH := $(call my-dir) 
 include $(CLEAR_VARS)
</pre></div><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">这两行代码的作用是：</p><ol style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: decimal !important; margin: 0px; padding: 0px 0px 0px 20px; color: rgb(51, 51, 51);" type="1"><li style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">设置当前模块的编译路径为当前文件夹路径。</li><li style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">清理（可能由其他模块设置过的）编译环境中用到的变量。</li></ol><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">为了方便模块的编译，Build 系统设置了很多的编译环境变量。要编译一个模块，只要在编译之前根据需要设置这些变量然后执行编译即可。它们包括：</p><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px 0px 8px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_SRC_FILES：当前模块包含的所有源代码文件。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_MODULE：当前模块的名称，这个名称应当是唯一的，模块间的依赖关系就是通过这个名称来引用的。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_C_INCLUDES：C 或 C++ 语言需要的头文件的路径。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_STATIC_LIBRARIES：当前模块在静态链接时需要的库的名称。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_SHARED_LIBRARIES：当前模块在运行时依赖的动态库的名称。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_CFLAGS：提供给 C/C++ 编译器的额外编译参数。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_JAVA_LIBRARIES：当前模块依赖的 Java 共享库。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_STATIC_JAVA_LIBRARIES：当前模块依赖的 Java 静态库。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_PACKAGE_NAME：当前 APK 应用的名称。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_CERTIFICATE：签署当前应用的证书名称。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 66px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_MODULE_TAGS：当前模块所包含的标签，一个模块可以包含多个标签。标签的值可能是 debug, eng, user，development 或者 optional。其中，optional 是默认标签。标签是提供给编译类型使用的。不同的编译类型会安装包含不同标签的模块，关于编译类型的说明如表 7 所示：</li></ul><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">表 7. 编译类型的说明</h5><table border="0" cellpadding="0" cellspacing="0" style="margin: 0px 0px 20px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; border-collapse: collapse; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); width: 780px !important; border-left-width: 0px; border-left-style: none; border-right-width: 0px; border-right-style: none;"><tbody style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><th style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 0px; border-left-style: none; border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">名称</th><th style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">说明</th></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">eng</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">默认类型，该编译类型适用于开发阶段。<br/>
当选择这种类型时，编译结果将：<br/><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">安装包含 eng, debug, user，development 标签的模块</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">安装所有没有标签的非 APK 模块</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">安装所有产品定义文件中指定的 APK 模块</li></ul></td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">user</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该编译类型适合用于最终发布阶段。<br/>
当选择这种类型时，编译结果将：<br/><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">安装所有带有 user 标签的模块</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">安装所有没有标签的非 APK 模块</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">安装所有产品定义文件中指定的 APK 模块，APK 模块的标签将被忽略</li></ul></td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">userdebug</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该编译类型适合用于 debug 阶段。<br/>
该类型和 user 一样，除了：<br/><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">会安装包含 debug 标签的模块</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">编译出的系统具有 root 访问权限</li></ul></td></tr></tbody></table><br/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">表 3 中的文件已经定义好了各种类型模块的编译方式。所以要执行编译，只需要引入表 3 中对应的 Make 文件即可（通过常量的方式）。例如，要编译一个 APK 文件，只需要在 Android.mk 文件中，加入“<code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">include $(BUILD_PACKAGE)</code></p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">除此以外，Build 系统中还定义了一些便捷的函数以便在 Android.mk 中使用，包括：</p><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px 0px 8px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 23px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">$(call my-dir)</code>：获取当前文件夹路径。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 23px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">$(call all-java-files-under, &lt;src&gt;)</code>：获取指定目录下的所有 Java 文件。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 23px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">$(call all-c-files-under, &lt;src&gt;)</code>：获取指定目录下的所有 C 语言文件。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 23px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">$(call all-Iaidl-files-under, &lt;src&gt;)</code> ：获取指定目录下的所有 AIDL 文件。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 23px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">$(call all-makefiles-under, &lt;folder&gt;)</code>：获取指定目录下的所有 Make 文件。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 45px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">$(call intermediates-dir-for, &lt;class&gt;, &lt;app_name&gt;, &lt;host or target&gt;, &lt;common?&gt; )</code>：获取 Build 输出的目标文件夹路径。</li></ul><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">清单 2 和清单 3 分别是编译 APK 文件和编译 Java 静态库的 Make 文件示例：</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">清单 2. 编译一个 APK 文件</h5><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><pre style="margin-top: 0px; margin-right: 0px; margin-bottom: 6px !important; margin-left: 0px; padding: 5px 10px 5px 3px !important; border: 1px solid rgb(204, 204, 204); outline: 0px; font-size: 11px; vertical-align: baseline; width: 780px; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; overflow: auto; color: rgb(0, 0, 0); clear: right; background: rgb(247, 247, 247) !important;">
  LOCAL_PATH := $(call my-dir) 
  include $(CLEAR_VARS) 
  # 获取所有子目录中的 Java 文件
  LOCAL_SRC_FILES := $(call all-subdir-java-files)                      
  # 当前模块依赖的静态 Java 库，如果有多个以空格分隔
  LOCAL_STATIC_JAVA_LIBRARIES := static-library 
  # 当前模块的名称
  LOCAL_PACKAGE_NAME := LocalPackage 
  # 编译 APK 文件
  include $(BUILD_PACKAGE)
</pre></div><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">清单 3. 编译一个 Java 的静态库</h5><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><pre style="margin-top: 0px; margin-right: 0px; margin-bottom: 6px !important; margin-left: 0px; padding: 5px 10px 5px 3px !important; border: 1px solid rgb(204, 204, 204); outline: 0px; font-size: 11px; vertical-align: baseline; width: 780px; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; overflow: auto; color: rgb(0, 0, 0); clear: right; background: rgb(247, 247, 247) !important;">
  LOCAL_PATH := $(call my-dir) 
  include $(CLEAR_VARS) 
   
  # 获取所有子目录中的 Java 文件
  LOCAL_SRC_FILES := $(call all-subdir-java-files) 
   
  # 当前模块依赖的动态 Java 库名称
  LOCAL_JAVA_LIBRARIES := android.test.runner 
   
  # 当前模块的名称
  LOCAL_MODULE := sample 
   
  # 将当前模块编译成一个静态的 Java 库
  include $(BUILD_STATIC_JAVA_LIBRARY)
</pre></div><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34); clear: both; text-align: right; height: 22px;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#ibm-pcon" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; opacity: 0.8; display: inline; text-decoration: none; font-weight: bold; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_arrow_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;">回页首</a></p><h2 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.6em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">结束语</h2><p style="margin-top: 5px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">整个 Build 系统包含了非常多的内容，由于篇幅所限，本文只能介绍其中最主要内容。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">由于 Build 系统本身也是在随着 Android 平台不断的开发过程中，所以不同的版本其中的内容和定义可能会发生变化。网络上关于该部分的资料很零碎，并且很多资料中的一些内容已经过时不再适用，再加上缺少官方文档，所以该部分的学习存在一定的难度。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">这就要求我们要有很强的代码阅读能力，毕竟代码是不会说谎的。 要知道，对于我们这些开发人员来说，源代码就是我们最忠实的朋友。 Use the Source,Luke!</p></div></div><div style="margin: 0px; padding: 0px 10px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both; overflow: hidden; width: 960px;"><div style="margin: 0px; padding: 0px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; min-height: 1px; width: 620px; clear: none;"><h2 style="margin: 5px 0px; padding: 6px 0px 0px; border-width: 2px 0px 0px; border-top-style: solid; border-top-color: rgb(102, 102, 102); outline: 0px; font-size: 1.6em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">参考资料</h2><h3 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">学习</h3><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><a href="http://source.android.com/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">Android Open Source Project</a>：Android Source 官方网站。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><a href="http://people.linaro.org/~asac/build-system.html" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">Android Build System</a>：Build 系统中包含的说明文档。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><a href="http://www.gnu.org/software/make/manual/html_node/index.html" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">GNU `make'</a>：GNU make 官方手册。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><a href="http://elinux.org/Android_Device" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">Android Device</a>：大致介绍了 Build 系统中的一些文件。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><a href="https://sites.google.com/a/itspaclub.com/www/android/android-build-system-anatomy" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">Build System</a>：另一个关于 Build 系统的说明资料。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><a href="http://www.android-x86.org/documents/how-to-add-new-x86-platforms" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">Add new target</a>：该文档描述了如何添加一个新的产品目标。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">随时关注 developerWorks <a href="http://www.ibm.com/developerworks/cn/offers/techbriefings/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">技术活动</a>和<a href="http://www.ibm.com/developerworks/cn/swi/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">网络广播</a>。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 44px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">访问 developerWorks <a href="http://www.ibm.com/developerworks/cn/opensource/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">Open source 专区</a>获得丰富的 how-to 信息、工具和项目更新以及<a href="http://www.ibm.com/developerworks/cn/opensource/best2009/index.html" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">最受欢迎的文章和教程</a>，帮助您用开放源码技术进行开发，并将它们与 IBM 产品结合使用。</li></ul><h3 style="margin: 5px 0px; padding: 8px 0px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">讨论</h3><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 44px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">加入 <a href="http://www.ibm.com/developerworks/cn/community/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">developerWorks 中文社区</a>，developerWorks 社区是一个面向全球 IT 专业人员，可以提供博客、书签、wiki、群组、联系、共享和协作等社区功能的专业社交网络社区。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">加入 <a href="https://www.ibm.com/developerworks/mydeveloperworks/groups/service/html/communityview?communityUuid=38997896-bb16-451a-aa97-189a27a3cd5a/?lang=zh" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">IBM 软件下载与技术交流群组</a>，参与在线交流。</li></ul><h2 style="margin: 5px 0px; padding: 8px 0px 0px; border-width: 2px 0px 0px; border-top-style: solid; border-top-color: rgb(204, 204, 204); outline: 0px; font-size: 1.6em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">条评论</h2><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 10px 0px; padding: 0px; border-width: 2px 0px 0px; border-top-style: solid; border-right-style: none !important; border-bottom-style: none !important; border-left-style: none !important; border-top-color: rgb(102, 102, 102); outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both; width: auto;"><div style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px; border: 0px none; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both;"><p style="margin: 0px 0px 8px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(51, 51, 51);">请 <a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif;">登录</a> 或 <a href="https://www.ibm.com/developerworks/dwwi/jsp/ssoregister.jsp?d=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F%23icomments&amp;lang=cn&amp;a=dwmav" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif;">注册</a> 后发表评论。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(51, 51, 51);"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(102, 102, 102);">添加评论:</strong></p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(51, 51, 51);">注意：评论中不支持 HTML 语法</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1em; vertical-align: baseline; font-family: Arial, sans-serif; clear: both; display: inline-block; width: 620px; color: rgb(51, 51, 51);"><br/></p><span style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">有新评论时提醒我</span><span style="margin: 4px 0px 20px; padding: 0px; border: 0px; outline: 0px; font-size: 1em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(51, 51, 51); float: right;">剩余 <span style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">1000</span> 字符</span><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1em; vertical-align: baseline; font-family: Arial, sans-serif; clear: both; width: 620px; display: inline-block; color: rgb(51, 51, 51);"></p></div></div><div style="margin: 10px 0px; padding: 0px; border-width: 2px 0px 0px; border-top-style: solid; border-right-style: none !important; border-bottom-style: none !important; border-left-style: none !important; border-top-color: rgb(102, 102, 102); outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both; width: auto;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both;"><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1em; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(51, 51, 51);"> <span style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(102, 102, 102);">共有评论 (<span style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">4</span>)</strong></span></p></div></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px; border: 0px none; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px; border: 0px none; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif; width: 620px; word-wrap: break-word; color: rgb(51, 51, 51);">很实用！</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif !important; color: rgb(51, 51, 51); float: left;">由 <strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><a href="https://www.ibm.com/developerworks/community/profiles/user/linsir" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif !important; font-weight: normal !important;">linsir</a></strong> 于 2014年07月03日发布</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif !important; color: rgb(51, 51, 51); float: right;"><a href="https://www.ibm.com/developerworks/community/report?lang=zh&amp;referingURL=https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/&amp;mymessage=%E8%AF%84%E8%AE%BA%EF%BC%9A%20%E5%BE%88%E5%AE%9E%E7%94%A8%EF%BC%81%0D%E7%94%B1%20linsir%20%20%E4%BA%8E%202014%E5%B9%B407%E6%9C%8803%E6%97%A5%E5%8F%91%E5%B8%83%20%0D%0D--%E5%9C%A8%E4%B8%8B%E6%96%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA--" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: 1em; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif !important; opacity: 1; display: block; text-decoration: none; float: right; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_status_sm_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;" target="_self">报告滥用</a></p></div></div></div></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px; border: 0px none; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px; border: 0px none; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif; width: 620px; word-wrap: break-word; color: rgb(51, 51, 51);">非常不错的一个介绍，从中明白了不少。对开发一个新的product非常有帮助</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif !important; color: rgb(51, 51, 51); float: left;">由 <strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><a href="https://www.ibm.com/developerworks/community/profiles/user/brantyou" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif !important; font-weight: normal !important;">brantyou</a></strong> 于 2014年03月02日发布</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif !important; color: rgb(51, 51, 51); float: right;"><a href="https://www.ibm.com/developerworks/community/report?lang=zh&amp;referingURL=https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/&amp;mymessage=%E8%AF%84%E8%AE%BA%EF%BC%9A%20%E9%9D%9E%E5%B8%B8%E4%B8%8D%E9%94%99%E7%9A%84%E4%B8%80%E4%B8%AA%E4%BB%8B%E7%BB%8D%EF%BC%8C%E4%BB%8E%E4%B8%AD%E6%98%8E%E7%99%BD%E4%BA%86%E4%B8%8D%E5%B0%91%E3%80%82%E5%AF%B9%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84product%E9%9D%9E%E5%B8%B8%E6%9C%89%E5%B8%AE%E5%8A%A9%0D%E7%94%B1%20brantyou%20%20%E4%BA%8E%202014%E5%B9%B403%E6%9C%8802%E6%97%A5%E5%8F%91%E5%B8%83%20%0D%0D--%E5%9C%A8%E4%B8%8B%E6%96%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA--" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: 1em; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif !important; opacity: 1; display: block; text-decoration: none; float: right; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_status_sm_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;" target="_self">报告滥用</a></p></div></div></div></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px; border: 0px none; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px; border: 0px none; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif; width: 620px; word-wrap: break-word; color: rgb(51, 51, 51);">你好，在“Build 生成的镜像文件”一小节中，这一句“system.img：包含了 Android OS 的系统文件，库，可执行文件以及预置的应用程序，将被挂载为根分区。”是不是错了？system是挂载在/system上吧？而ramdisk.img才是挂载在/分区？</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif !important; color: rgb(51, 51, 51); float: left;">由 <strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><a href="https://www.ibm.com/developerworks/community/profiles/user/manson.li" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif !important; font-weight: normal !important;">manson.li</a></strong> 于 2014年01月06日发布</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif !important; color: rgb(51, 51, 51); float: right;"><a href="https://www.ibm.com/developerworks/community/report?lang=zh&amp;referingURL=https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/&amp;mymessage=%E8%AF%84%E8%AE%BA%EF%BC%9A%20%E4%BD%A0%E5%A5%BD%EF%BC%8C%E5%9C%A8%E2%80%9CBuild%20%E7%94%9F%E6%88%90%E7%9A%84%E9%95%9C%E5%83%8F%E6%96%87%E4%BB%B6%E2%80%9D%E4%B8%80%E5%B0%8F%E8%8A%82%E4%B8%AD%EF%BC%8C%E8%BF%99%E4%B8%80%E5%8F%A5%E2%80%9Csystem.img%EF%BC%9A%E5%8C%85%E5%90%AB%E4%BA%86%20Android%20OS%20%E7%9A%84%E7%B3%BB%E7%BB%9F%E6%96%87%E4%BB%B6%EF%BC%8C%E5%BA%93%EF%BC%8C%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6%E4%BB%A5%E5%8F%8A%E9%A2%84%E7%BD%AE%E7%9A%84%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%EF%BC%8C%E5%B0%86%E8%A2%AB%E6%8C%82%E8%BD%BD%E4%B8%BA%E6%A0%B9%E5%88%86%E5%8C%BA%E3%80%82%E2%80%9D%E6%98%AF%E4%B8%8D%E6%98%AF%E9%94%99%E4%BA%86%EF%BC%9Fsystem%E6%98%AF%E6%8C%82%E8%BD%BD%E5%9C%A8%2Fsystem%E4%B8%8A%E5%90%A7%EF%BC%9F%E8%80%8Cramdisk.img%E6%89%8D%E6%98%AF%E6%8C%82%E8%BD%BD%E5%9C%A8%2F%E5%88%86%E5%8C%BA%EF%BC%9F%0D%E7%94%B1%20manson.li%20%20%E4%BA%8E%202014%E5%B9%B401%E6%9C%8806%E6%97%A5%E5%8F%91%E5%B8%83%20%0D%0D--%E5%9C%A8%E4%B8%8B%E6%96%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA--" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: 1em; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif !important; opacity: 1; display: block; text-decoration: none; float: right; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_status_sm_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;" target="_self">报告滥用</a></p></div></div></div></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px; border: 0px none; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px; border: 0px none; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif; width: 620px; word-wrap: break-word; color: rgb(51, 51, 51);">&quot;老师，请教下，当我们通过<br/>
include $(BUILD_SHARED_LIBRARY)<br/>
来编译lib时，最终编译一个.cpp文件的编译命令行是在哪个文件中形成的？</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif !important; color: rgb(51, 51, 51); float: left;">由 <strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><a href="https://www.ibm.com/developerworks/community/profiles/user/shine_at_ibm" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif !important; font-weight: normal !important;">shine_at_ibm</a></strong> 于 2013年10月09日发布</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif !important; color: rgb(51, 51, 51); float: right;"><a href="https://www.ibm.com/developerworks/community/report?lang=zh&amp;referingURL=https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/&amp;mymessage=%E8%AF%84%E8%AE%BA%EF%BC%9A%20%22%E8%80%81%E5%B8%88%EF%BC%8C%E8%AF%B7%E6%95%99%E4%B8%8B%EF%BC%8C%E5%BD%93%E6%88%91%E4%BB%AC%E9%80%9A%E8%BF%87include%20%24(BUILD_SHARED_LIBRARY)%E6%9D%A5%E7%BC%96%E8%AF%91lib%E6%97%B6%EF%BC%8C%E6%9C%80%E7%BB%88%E7%BC%96%E8%AF%91%E4%B8%80%E4%B8%AA.cpp%E6%96%87%E4%BB%B6%E7%9A%84%E7%BC%96%E8%AF%91%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%98%AF%E5%9C%A8%E5%93%AA%E4%B8%AA%E6%96%87%E4%BB%B6%E4%B8%AD%E5%BD%A2%E6%88%90%E7%9A%84%EF%BC%9F%0D%E7%94%B1%20shine_at_ibm%20%20%E4%BA%8E%202013%E5%B9%B410%E6%9C%8809%E6%97%A5%E5%8F%91%E5%B8%83%20%0D%0D--%E5%9C%A8%E4%B8%8B%E6%96%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA--" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: 1em; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif !important; opacity: 1; display: block; text-decoration: none; float: right; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_status_sm_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;" target="_self">报告滥用</a></p></div></div></div></div></div></div></div></div></div><div style="margin: 0px; padding: 0px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; min-height: 1px; width: 300px; clear: none;"><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px 0px 5px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 53px; clear: both; display: block; min-height: 45px; background: none !important;"><a href="http://www.ibm.com/developerworks/cn/cloud/bluemix/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif;" tabindex="-1"><img src="理解 Android Build 系统 [2]_files/Image [10].png" type="image/png" alt="IBM Bluemix 资源中心" height="60" style="cursor: default; height: auto;" width="60"/></a><h3 style="margin: 0px 0px 4px 70px; padding: 0px; border: 0px; outline: 0px; font-size: 1.083em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial; display: block;"><a href="http://www.ibm.com/developerworks/cn/cloud/bluemix/" style="margin: 0px; padding: 0px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(0, 0, 0) !important; font-family: Arial, sans-serif; text-decoration: none;">IBM Bluemix 资源中心</a></h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 70px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1em; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(76, 76, 76);">文章、教程、演示，帮助您构建、部署和管理云应用。</p></li><li style="margin: 0px; padding: 5px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 53px; clear: both; display: block; min-height: 45px; background: none !important;"><a href="http://www.ibm.com/developerworks/cn/community/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif;" tabindex="-1"><img src="理解 Android Build 系统 [2]_files/Image [11].png" type="image/png" alt="developerWorks 中文社区" height="60" style="cursor: default; height: auto;" width="60"/></a><h3 style="margin: 0px 0px 4px 70px; padding: 0px; border: 0px; outline: 0px; font-size: 1.083em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial; display: block;"><a href="http://www.ibm.com/developerworks/cn/community/" style="margin: 0px; padding: 0px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(0, 0, 0) !important; font-family: Arial, sans-serif; text-decoration: none;">developerWorks 中文社区</a></h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 70px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1em; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(76, 76, 76);">立即加入来自 IBM 的专业 IT 社交网络。</p></li><li style="margin: 0px; padding: 5px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 45px; clear: both; display: block; min-height: 45px; background: none !important;"><a href="http://bluemixathon.devpost.com/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif;" tabindex="-1"><img src="理解 Android Build 系统 [2]_files/Image [12].png" type="image/png" alt="Bluemixathon 挑战赛" height="60" style="cursor: default; height: auto;" width="60"/></a><h3 style="margin: 0px 0px 4px 70px; padding: 0px; border: 0px; outline: 0px; font-size: 1.083em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial; display: block;"><a href="http://bluemixathon.devpost.com/" style="margin: 0px; padding: 0px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(0, 0, 0) !important; font-family: Arial, sans-serif; text-decoration: none;">Bluemixathon 挑战赛</a></h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 70px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1em; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(76, 76, 76);">为灾难恢复构建应用，赢取现金大奖。</p></li></ul></div></div><div style="margin: 0px; padding: 0px 10px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both; overflow: hidden; width: 960px;"><div style="margin: 0px; padding: 0px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: none; min-height: 1px; width: 940px; clear: both;"><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34); clear: both; text-align: right; height: 22px;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#ibm-pcon" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; opacity: 0.8; display: inline; text-decoration: none; font-weight: bold; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_arrow_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;">回页首</a></p></div></div></div></div></div></div></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(rgb(221, 221, 221)), to(rgb(255, 255, 255)));"><div style="margin: 0px auto; padding: 16px 0px 24px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; width: 980px; min-height: 176px; background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(rgb(221, 221, 221)), to(rgb(255, 255, 255)));"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 0px 0px 0px 21px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; width: 120px;"><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; margin: 0px; padding: 0px;"><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="https://www.ibm.com/developerworks/secure/feedback.jsp?domain=dwchina" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">帮助</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/cn/author/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">联系编辑</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="https://www.ibm.com/developerworks/secure/myideas2.jsp?domain=dwchina" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">提交内容</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/cn/rss/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">订阅源</a></li></ul></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; width: 160px;"><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; margin: 0px; padding: 0px;"><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/vrm/newsletter/10104?S_TACT=105AGX52&amp;S_CMP=dwcntop" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">在线浏览每周时事通讯</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://weibo.com/ibmdw/" style="margin: 0px; padding: 5px 5px 5px 21px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; display: block; font-weight: normal; text-decoration: none; opacity: 0.9 !important; background: url(https://dw1.s81c.com/developerworks/i/sina.png) 2px 4px no-repeat scroll transparent;" tabindex="0" target="_blank">新浪微博</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="https://www.ibm.com/developerworks/community/report?lang=zh" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">报告滥用</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="https://www.ibm.com/developerworks/community/terms?lang=zh" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">使用条款</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="https://www.ibm.com/developerworks/cn/community/terms/thirdparty/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">第三方提示</a></li></ul></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; width: 160px;"><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; margin: 0px; padding: 0px;"><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/privacy/cn/zh/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">隐私条约</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/ibm/accessibility/cn/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">浏览辅助</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/cn/academic/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">IBM 教育学院教育培养计划</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/cn/gep/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;">IBM 创业企业全球扶持计划</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/partnerworld/isv/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;">ISV 资源 (英语)</a></li></ul></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; width: 160px;"><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; margin: 0px; padding: 0px;"><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="https://www.ibm.com/developerworks/cn/newsletter/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">dW 中国每周时事通讯</a></li></ul></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; margin: 0px; padding: 0px;"><li style="margin: 4px 0px 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; font-family: arial, sans-serif; list-style-type: none; color: rgb(102, 102, 102); font-weight: bold; text-decoration: none;">选择语言：</li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">English</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/cn/" lang="zh" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">中文</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/jp/" lang="ja" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">日本語</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/ru/" lang="ru" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">Русский</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/br/" lang="pt" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">Português (Brasil)</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/ssa/" lang="es" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">Español</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/vn/" lang="vi" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">Việt</a></li></ul></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; width: 100px;"><div><img src="理解 Android Build 系统 [2]_files/Image [13].png" type="image/png" alt="IBM®" height="46" style="cursor: default; height: auto;" width="223"/></div></div></div></div></div></div><div style="margin: 0px; padding: 0px; border-width: 1px 0px; border-top-style: dotted; border-bottom-style: dotted; border-top-color: grey; border-bottom-color: grey; outline: 0px; font-size: medium; vertical-align: baseline; font-family: Arial, sans-serif; min-height: 40px; height: 40px; top: 0px; z-index: 1000; width: 1903px; color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; opacity: 1; background-image: url(https://dw1.s81c.com/developerworks/i/regbar_bluemix_background_40.png); background-color: rgb(65, 82, 90); background-size: contain; background-repeat: no-repeat;position:relative;"><div style="margin: 0px auto; padding: 0px 10px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; width: 960px; overflow: hidden;"><div style="margin: 0px auto; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: none; display: table;"><div><span style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.35em; vertical-align: baseline; font-family: Helvetica, Arial, sans-serif !important; color: rgb(74, 178, 220);">IBM <strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">Bluemix</strong></span><span style="margin: 0px; padding: 0px 0px 0px 20px; border: 0px; outline: 0px; font-size: 1.215em; vertical-align: baseline; font-family: Helvetica, Arial, sans-serif !important; color: rgb(255, 255, 255); font-weight: normal;">点击按钮，开始云上的开发！</span></div><p style="margin: 0px; padding: 0px 0px 0px 9px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both; display: inline; float: right;"><a href="https://developer.ibm.com/sso/bmregistration?lang=zh_CN&amp;ca=dwchina-_-bluemix-_-os-cn-android-build-_-regbar-article" style="margin: 7px 0px 0px 15px; padding: 2px 15px !important; border: 1px solid rgb(204, 103, 0); outline: 0px; font-size: 0.8em; vertical-align: baseline; color: rgb(255, 255, 255); font-family: Helvetica, Arial, sans-serif !important; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.4) 0px 2px 3px; display: block; font-weight: bold; min-width: 80px; text-align: center; text-decoration: none; text-shadow: none; white-space: nowrap; width: auto; float: left; background: linear-gradient(rgb(255, 153, 0) 0%, rgb(204, 103, 0) 100%);">开始您的试用</a></p></div></div><span style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><a style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(0, 100, 157); font-family: Arial, sans-serif;"></a></span></div><div style="margin: 42px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: medium; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: rgb(255, 255, 255);"><div style="margin: 0px; padding: 0px; border-width: 0px 0px 2px; border-bottom-style: solid; border-bottom-color: rgba(255, 255, 255, 0.8); outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; width: 1903px; min-width: 980px; left: 0px; top: 0px; position: relative; z-index: 900;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; width: 1903px; height: 22px; background-color: rgb(21, 23, 36);"><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px; float: right; width: 1903px; height: 22px;"><li style="margin: 0px; padding: 0px; border-width: 0px 0px 0px 1px; border-left-style: solid; border-left-color: rgb(2, 5, 14); outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: right; height: 22px;"><a href="http://www.ibm.com/developerworks/cn/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.75em; vertical-align: baseline; color: rgb(161, 162, 167); font-family: Arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0"><img src="理解 Android Build 系统 [2]_files/Image [14].png" type="image/png" alt="dW" height="22" style="cursor: default; height: auto;" width="43"/></a></li><li style="margin: 0px; padding: 0px; border-width: 0px 0px 0px 1px; border-left-style: solid; border-left-color: rgb(2, 5, 14); outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: right;"><div style="margin: 0px; padding: 0px 24px; border-width: 0px 1px 0px 0px; border-right-style: solid; border-right-color: rgb(43, 45, 57); outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px;"><a href="https://www.ibm.com/developerworks/dwwi/jsp/ssologin.jsp?d=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F&amp;lang=zh_CN&amp;a=dwmav" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.75em; vertical-align: baseline; color: rgb(161, 162, 167); font-family: Arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="2">登录</a> <span style="margin: 0px; padding: 0px 5px; border: 0px; outline: 0px; font-size: 0.75em; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(85, 85, 85); font-weight: normal;">|</span> <a href="https://www.ibm.com/developerworks/dwwi/jsp/ssoregister.jsp?d=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F&amp;lang=zh_CN&amp;a=dwmav" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.75em; vertical-align: baseline; color: rgb(161, 162, 167); font-family: Arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="3">注册</a></div></li><li style="margin: 0px 0px 0px 20px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; height: 22px;"><a href="http://www.ibm.com/cn/zh/" style="margin: 2px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.8em; vertical-align: baseline; color: rgb(238, 238, 238); font-family: Arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="1">IBM</a></li></ul></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; width: 1903px; height: 52px; background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(rgb(89, 92, 100)), to(rgb(27, 27, 28)));"><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px;"><li style="margin: 0px; padding: 9px 14px 0px 20px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://www.ibm.com/developerworks/cn/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif;"><img src="理解 Android Build 系统 [2]_files/Image [15].png" type="image/png" alt="developerWorks®" height="28" style="cursor: default; height: auto;" width="225"/></a></li></ul><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px;"><li style="margin: 0px; padding: 0px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; height: 52px;"><a href="http://www.ibm.com/developerworks/cn/topics/" style="margin: 0px; padding: 14px 13px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(204, 204, 204); font-family: Arial, sans-serif; display: block; letter-spacing: 0px; text-decoration: none; text-shadow: rgb(0, 0, 0) 0px -1px 0px; font-weight: 300; height: 38px;" tabindex="0">技术主题</a></li><li style="margin: 0px; padding: 0px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; height: 52px;"><a href="http://www.ibm.com/developerworks/cn/downloads/" style="margin: 0px; padding: 14px 13px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(204, 204, 204); font-family: Arial, sans-serif; display: block; letter-spacing: 0px; text-decoration: none; text-shadow: rgb(0, 0, 0) 0px -1px 0px; font-weight: 300; height: 38px;" tabindex="0">软件下载</a></li><li style="margin: 0px; padding: 0px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; height: 52px;"><a href="http://www.ibm.com/developerworks/community/?lang=zh" style="margin: 0px; padding: 14px 13px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(204, 204, 204); font-family: Arial, sans-serif; display: block; letter-spacing: 0px; text-decoration: none; text-shadow: rgb(0, 0, 0) 0px -1px 0px; font-weight: 300; height: 38px;" tabindex="0">社区</a></li><li style="margin: 0px; padding: 0px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; height: 52px;"><a href="https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=6d7f9e5d-5f89-4767-a006-a81b8d186370&amp;lang=zh" style="margin: 0px; padding: 14px 13px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(204, 204, 204); font-family: Arial, sans-serif; display: block; letter-spacing: 0px; text-decoration: none; text-shadow: rgb(0, 0, 0) 0px -1px 0px; font-weight: 300; height: 38px;" tabindex="0">技术讲座</a></li></ul><p style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><span style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; position: absolute; left: -3000px; width: 500px;">搜索 developerWorks</span></p></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; position: fixed; top: 160px; right: 0px; z-index: 500; width: 25px; display: block;"><ul style="border-width: 1px 0px 1px 1px; border-top-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(255, 255, 255); border-bottom-color: rgb(255, 255, 255); border-left-color: rgb(255, 255, 255); outline: 0px; font-size: inherit; vertical-align: baseline; list-style: none; margin: 0px; padding: 3px 6px 3px 3px; width: 15px; box-shadow: rgb(136, 136, 136) 0px 0px 5px; float: right; opacity: 0.8; transition-property: opacity; transition-duration: 0.5s; background-color: rgb(255, 255, 255);"><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#" rel="print" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://1.www.s81c.com/i/v17/icons/sprites-pt-all.png) -52px -130px no-repeat;" tabindex="0" title="打印本页面">打印本页面</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#" rel="email" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://1.www.s81c.com/i/v17/icons/sprites-pt-all.png) -52px -52px no-repeat;" tabindex="-1" title="用电子邮件发送本页面">用电子邮件发送本页面</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://service.weibo.com/share/share.php?title=%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F&amp;url=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F&amp;language=zh_cn" rel="新浪微博" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://1.www.s81c.com/i/v17/icons/sprites-pt-cn.png) -52px -78px no-repeat;" tabindex="-1" title="新浪微博">新浪微博</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://share.renren.com/share/buttonshare?title=%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F&amp;link=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F" rel="人人网" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://1.www.s81c.com/i/v17/icons/sprites-pt-cn.png) -52px -26px no-repeat;" tabindex="-1" title="人人网">人人网</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://v.t.qq.com/share/share.php?title=%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F&amp;url=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F" rel="腾讯微博" style="margin: 0px; padding: 0px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://www.ibm.com/developerworks/css/dw-mf/v17/sprites-new.png) -52px 0px no-repeat scroll transparent;" tabindex="-1" title="腾讯微博">腾讯微博</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://t.sohu.com/third/post.jsp?title=%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F%20&amp;link=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F" rel="搜狐微博" style="margin: 0px; padding: 0px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://www.ibm.com/developerworks/css/dw-mf/v17/sprites-new.png) -52px -26px no-repeat scroll transparent;" tabindex="-1" title="搜狐微博">搜狐微博</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://t.163.com/article/user/checkLogin.do?info=%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F%20https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F" rel="网易微博" style="margin: 0px; padding: 0px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://www.ibm.com/developerworks/css/dw-mf/v17/sprites-new.png) -52px -52px no-repeat scroll transparent;" tabindex="-1" title="网易微博">网易微博</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://digg.com/submit?phase=2&amp;url=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F&amp;title=%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F" rel="digg" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://1.www.s81c.com/i/v17/icons/sprites-pt-all.png) -52px -26px no-repeat;" tabindex="-1" title="Digg">Digg</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://www.facebook.com/sharer.php?u=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F&amp;t=%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F" rel="facebook" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://1.www.s81c.com/i/v17/icons/sprites-pt-all.png) -52px -78px no-repeat;" tabindex="-1" title="Facebook">Facebook</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://twitter.com/?status=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F%20-%20%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F" rel="twitter" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://1.www.s81c.com/i/v17/icons/sprites-pt-all.png) -52px -156px no-repeat;" tabindex="-1" title="Twitter">Twitter</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://delicious.com/post?url=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F&amp;title=%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F" rel="delicious" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://1.www.s81c.com/i/v17/icons/sprites-pt-all.png) -52px 0px no-repeat;" tabindex="-1" title="Delicious">Delicious</a></li><li style="margin: 0px; padding: 2px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F&amp;title=%E7%90%86%E8%A7%A3%20Android%20Build%20%E7%B3%BB%E7%BB%9F" rel="linkedin" style="margin: 0px; padding: 0px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; height: 16px; width: 16px; float: left; text-indent: -9999px; overflow: hidden; background: url(https://1.www.s81c.com/i/v17/icons/sprites-pt-all.png) -52px -104px no-repeat;" tabindex="-1" title="Linked In">Linked In</a></li></ul></div></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 0px; padding: 0px; border-width: 0px 0px 1px; border-bottom-style: solid; border-bottom-color: rgb(229, 229, 229); outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; display: block; clear: both; background-image: none; background-attachment: initial; background-color: rgb(249, 249, 249) !important; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><div style="margin: 0px auto; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; width: 940px; position: relative; min-height: 0px;"><ul style="border: 0px; outline: 0px; font-size: 0.7em !important; vertical-align: baseline; list-style: none; margin: 0px; padding: 15px 0px 0px; height: 0px; text-shadow: rgb(255, 255, 255) 0px 1px 0px;"><li style="margin: 0px; padding: 0px 16px 0px 2px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; display: inline; float: left; clear: none; background: url(https://1.www.s81c.com/i/v17/t/nav-trail.gif) 100% 1px no-repeat;"><a href="http://www.ibm.com/developerworks/cn/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(102, 102, 102); font-family: Arial, sans-serif; text-decoration: none;">developerWorks 中国</a></li><li style="margin: 0px; padding: 0px 16px 0px 2px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; display: inline; float: left; clear: none; background: url(https://1.www.s81c.com/i/v17/t/nav-trail.gif) 100% 1px no-repeat;"><a href="http://www.ibm.com/developerworks/cn/topics/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(102, 102, 102); font-family: Arial, sans-serif; text-decoration: none;">技术主题</a></li><li style="margin: 0px; padding: 0px 16px 0px 2px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; display: inline; float: left; clear: none; background: url(https://1.www.s81c.com/i/v17/t/nav-trail.gif) 100% 1px no-repeat;"><a href="http://www.ibm.com/developerworks/cn/opensource/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(102, 102, 102); font-family: Arial, sans-serif; text-decoration: none;">Open source</a></li><li style="margin: 0px; padding: 0px 16px 0px 2px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; display: inline; float: left; clear: none; background: url(https://1.www.s81c.com/i/v17/t/nav-trail.gif) 100% 1px no-repeat;"><a href="http://www.ibm.com/developerworks/cn/views/opensource/libraryview.jsp" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(102, 102, 102); font-family: Arial, sans-serif; text-decoration: none;">文档库</a></li></ul><h1 style="margin: 0px; padding-top: 5px; padding-right: 10px !important; padding-bottom: 10px !important; padding-left: 0px !important; border: 0px; outline: 0px; font-size: 2em !important; vertical-align: baseline; clear: both; text-shadow: rgb(255, 255, 255) 0px 1px 0px; width: 920px !important; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">理解 Android Build 系统</h1></div><div style="margin: 0px auto; padding: 0px 0px 20px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both; width: 940px; overflow: hidden;"><div style="margin: 0px 20px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: none; float: left; width: 620px;"><p style="margin: 0px; padding: 0px 0px 10px; border: 0px; outline: 0px; font-size: 0.95em; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial; width: 620px; color: rgb(51, 51, 51);">Android Build 系统是用来编译 Android 系统，Android SDK 以及相关文档的一套框架。众所周知，Android 是一个开源的操作系统。Android 的源码中包含了许许多多的模块。 不同产商的不同设备对于 Android 系统的定制都是不一样的。如何将这些模块统一管理起来，如何能够在不同的操作系统上进行编译，如何在编译时能够支持面向不同的硬件设备，不同的编译类型，且还要提供面向各个产商的定制扩展，是非常有难度的。 但 Android Build 系统很好的解决了这些问题，这里面有很多值得我们开发人员学习的地方。对于 Android 平台开发人员来说，本文可以帮助你熟悉你每天接触到的构建环境。对于其他开发人员来说，本文可以作为一个 GNU Make 的使用案例，学习这些成功案例，可以提升我们的开发经验。</p><p style="margin: 0px; padding: 0px 0px 10px; border: 0px; outline: 0px; font-size: 0.95em; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial; width: 620px; color: rgb(51, 51, 51);"><span style="margin: -2px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;"><span style="margin: 0px; padding: 0px 6px; border: 0px; outline: 0px; font-size: 0.8em; vertical-align: top; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial; color: rgb(255, 255, 255); display: inline; background-color: rgb(40, 125, 159);">4</span><img src="理解 Android Build 系统 [2]_files/Image [16].png" type="image/png" height="7" style="cursor: default; height: auto;" width="7"/> <a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#icomments" style="margin: 15px 0px 0px; padding: 0px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: 1em; vertical-align: baseline; color: rgb(0, 82, 141); font-family: Arial, sans-serif; display: inline; text-decoration: none; opacity: 0.8;">评论：</a></span></p></div><div style="margin: 0px 5px 90px 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: none; float: left; width: 290px;"><p style="margin: 0px; padding: 4px 0px 0px; border: 0px; outline: 0px; font-size: 0.8em; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial; width: 290px; color: rgb(51, 51, 51);"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#authorN1001F" style="margin: 15px 0px 0px; padding: 0px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: 1em; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; opacity: 0.8; display: inline; text-decoration: none; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_links_blue_ON.png) !important; background-position: 0px -601px; background-repeat: no-repeat;">强 波</a>, Java 软件工程师, 富士通南大软件技术有限公司</p><p style="margin: 0px; padding: 12px 0px 6px; border: 0px; outline: 0px; font-size: 0.8em; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial; width: 290px; color: rgb(51, 51, 51);">2013 年 3 月 28 日</p><div style="margin: 10px 0px 0px; padding: 0px 5px 0px 0px; border: 1px solid rgb(204, 204, 204); outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(102, 102, 102); position: absolute; width: 290px; z-index: 900; background-color: rgb(255, 255, 255);"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both;"><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; display: block; padding: 0px; height: 26px; list-style: none; margin: 0px;"><li style="margin: 0px; padding: 5px 4px 5px 3px !important; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#toggle" style="margin: 0px; padding: 0px 4px 0px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: block; float: left; height: 16px; overflow: hidden; width: 16px; background: url(https://www.ibm.com/i/v17/icons/_icons/ibm_icon_blue_minimize.png) no-repeat scroll;"><img src="理解 Android Build 系统 [2]_files/Image [1].gif" type="image/gif" alt="+" style="cursor: default; height: auto;"/></a><span style="margin: 0px 0px 0px 16px; padding: 0px; border: 0px; outline: 0px; font-size: 14px; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial; display: block; cursor: pointer; font-weight: bold;">内容</span></li></ul></div></div></div></div></div><div style="margin: 20px auto; padding: 0px 0px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; width: 980px; background: rgb(255, 255, 255);"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.8em; vertical-align: baseline; font-family: Arial, sans-serif; float: left; width: 980px; position: inherit;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; background: rgb(255, 255, 255);"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: left; float: left; width: 980px;"><div style="margin: 0px; padding: 0px 10px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both; overflow: hidden; width: 960px;"><div style="margin: 0px; padding: 0px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: none; min-height: 1px; width: 940px; clear: both;"><div style="margin: 5px 0px 6px 15px; padding: 0px 0px 0px 15px; border-width: 0px 0px 0px 1px; border-left-style: solid; border-left-color: rgb(170, 170, 170); outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: right; clear: none; width: 224px;"><img src="理解 Android Build 系统 [2]_files/Image [17].png" type="image/png" height="64" style="cursor: default; height: auto;" width="64"/><p style="margin: 9px 0px 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.094em !important; vertical-align: baseline; font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial; color: rgb(14, 128, 151); text-align: center;">在 IBM Bluemix 云平台上开发并部署您的下一个应用。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);"><a href="https://developer.ibm.com/sso/bmregistration?lang=zh_CN&amp;ca=dwchina-_-bluemix-_-os-cn-android-build-_-sidebar" style="margin: 3px 0px 5px; padding: 8px 30px !important; border: 1px solid rgb(23, 130, 116); outline: 0px; font-size: 0.939em !important; vertical-align: baseline; color: rgb(255, 255, 255); font-family: Arial, sans-serif; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.4) 0px 2px 3px; display: block; font-weight: bold; min-width: 80px; text-align: center; text-decoration: none; text-shadow: rgb(0, 0, 0) 0px 1px 0px; white-space: nowrap; background: -webkit-linear-gradient(top, rgb(33, 190, 170), rgb(23, 130, 116));">开始您的试用</a></p></div><h2 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.6em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">前言</h2><p style="margin-top: 5px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">Android Build 系统是 Android 源码的一部分。关于如何获取 Android 源码，请参照 Android Source 官方网站：</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);"><a href="http://source.android.com/source/downloading.html" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif;">http://source.android.com/source/downloading.html</a>。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">Android Build 系统用来编译 Android 系统，Android SDK 以及相关文档。该系统主要由 Make 文件，Shell 脚本以及 Python 脚本组成，其中最主要的是 Make 文件。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">众所周知，Android 是一个开源的操作系统。Android 的源码中包含了大量的开源项目以及许多的模块。不同产商的不同设备对于 Android 系统的定制都是不一样的。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">如何将这些项目和模块的编译统一管理起来，如何能够在不同的操作系统上进行编译，如何在编译时能够支持面向不同的硬件设备，不同的编译类型，且还要提供面向各个产商的定制扩展，是非常有难度的。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">但 Android Build 系统很好的解决了这些问题，这里面有很多值得我们开发人员学习的地方。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">对于 Android 平台开发人员来说，本文可以帮助你熟悉你每天接触到的构建环境。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">对于其他开发人员来说，本文可以作为一个 GNU Make 的使用案例，学习这些成功案例，可以提升我们的开发经验。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34); clear: both; text-align: right; height: 22px;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#ibm-pcon" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; opacity: 0.8; display: inline; text-decoration: none; font-weight: bold; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_arrow_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;">回页首</a></p><h2 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.6em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">概述</h2><p style="margin-top: 5px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">Build 系统中最主要的处理逻辑都在 Make 文件中，而其他的脚本文件只是起到一些辅助作用，由于篇幅所限，本文只探讨 Make 文件中的内容。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">整个 Build 系统中的 Make 文件可以分为三类：</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">第一类是 Build 系统核心文件，此类文件定义了整个 Build 系统的框架，而其他所有 Make 文件都是在这个框架的基础上编写出来的。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">图 1 是 Android 源码树的目录结构，Build 系统核心文件全部位于 /build/core（本文所提到的所有路径都是以 Android 源码树作为背景的，“/”指的是源码树的根目录，与文件系统无关）目录下。</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">图 1. Android 源码树的目录结构</h5><img src="理解 Android Build 系统 [2]_files/Image [18].png" type="image/png" alt="图 1. Android 源码树的目录结构" style="cursor: default;" width="274"/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">第二类是针对某个产品（一个产品可能是某个型号的手机或者平板电脑）的 Make 文件，这些文件通常位于 device 目录下，该目录下又以公司名以及产品名分为两级目录，图 2 是 device 目录下子目录的结构。对于一个产品的定义通常需要一组文件，这些文件共同构成了对于这个产品的定义。例如，/device/sony/it26 目录下的文件共同构成了对于 Sony LT26 型号手机的定义。</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">图 2. device 目录下子目录的结构</h5><img src="理解 Android Build 系统 [2]_files/Image [19].png" type="image/png" alt="图 2. device 目录下子目录的结构" style="cursor: default;" width="315"/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">第三类是针对某个模块（关于模块后文会详细讨论）的 Make 文件。整个系统中，包含了大量的模块，每个模块都有一个专门的 Make 文件，这类文件的名称统一为“Android.mk”，该文件中定义了如何编译当前模块。Build 系统会在整个源码树中扫描名称为“Android.mk”的文件并根据其中的内容执行模块的编译。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34); clear: both; text-align: right; height: 22px;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#ibm-pcon" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; opacity: 0.8; display: inline; text-decoration: none; font-weight: bold; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_arrow_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;">回页首</a></p><h2 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.6em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">编译 Android 系统</h2><h3 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.4em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">执行编译</h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">Android 系统的编译环境目前只支持 Ubuntu 以及 Mac OS 两种操作系统。关于编译环境的构建方法请参见以下路径：<a href="http://source.android.com/source/initializing.html" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif;">http://source.android.com/source/initializing.html</a></p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">在完成编译环境的准备工作以及获取到完整的 Android 源码之后，想要编译出整个 Android 系统非常的容易：</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">打开控制台之后转到 Android 源码的根目录，然后执行如清单 1 所示的三条命令即可（<code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">&quot;$&quot;</code>是命令提示符，不是命令的一部分。）：</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">完整的编译时间依赖于编译主机的配置，在笔者的 Macbook Pro（OS X 10.8.2, i7 2G CPU，8G RAM, 120G SSD）上使用 8 个 Job 同时编译共需要一个半小时左右的时间。</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">清单 1. 编译 Android 系统</h5><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><pre style="margin-top: 0px; margin-right: 0px; margin-bottom: 6px !important; margin-left: 0px; padding: 5px 10px 5px 3px !important; border: 1px solid rgb(204, 204, 204); outline: 0px; font-size: 11px; vertical-align: baseline; width: 780px; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; overflow: auto; color: rgb(0, 0, 0); clear: right; background: rgb(247, 247, 247) !important;">
 $ source build/envsetup.sh 
 $ lunch full-eng 
 $ make -j8
</pre></div><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">这三行命令的说明如下：</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">第一行命令“source build/envsetup.sh”引入了 <code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">build/envsetup.sh</code>脚本。该脚本的作用是初始化编译环境，并引入一些辅助的 Shell 函数，这其中就包括第二步使用 lunch 函数。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">除此之外，该文件中还定义了其他一些常用的函数，它们如表 1 所示：</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">表 1. build/envsetup.sh 中定义的常用函数</h5><table border="0" cellpadding="0" cellspacing="0" style="margin: 0px 0px 20px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; border-collapse: collapse; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); width: 780px !important; border-left-width: 0px; border-left-style: none; border-right-width: 0px; border-right-style: none;"><tbody style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><th style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 0px; border-left-style: none; border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">名称</th><th style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">说明</th></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">croot</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">切换到源码树的根目录</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">m</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">在源码树的根目录执行 make</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">mm</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">Build 当前目录下的模块</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">mmm</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">Build 指定目录下的模块</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">cgrep</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">在所有 C/C++ 文件上执行 grep</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">jgrep</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">在所有 Java 文件上执行 grep</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">resgrep</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">在所有 res/*.xml 文件上执行 grep</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">godir</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">转到包含某个文件的目录路径</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">printconfig</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">显示当前 Build 的配置信息</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">add_lunch_combo</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">在 lunch 函数的菜单中添加一个条目</td></tr></tbody></table><br/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">第二行命令“lunch full-eng”是调用 lunch 函数，并指定参数为“full-eng”。lunch 函数的参数用来指定此次编译的目标设备以及编译类型。在这里，这两个值分别是“full”和“eng”。“full”是 Android 源码中已经定义好的一种产品，是为模拟器而设置的。而编译类型会影响最终系统中包含的模块，关于编译类型将在表 7 中详细讲解。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">如果调用 lunch 函数的时候没有指定参数，那么该函数将输出列表以供选择，该列表类似图 3 中的内容（列表的内容会根据当前 Build 系统中包含的产品配置而不同，具体参见后文“添加新的产品”），此时可以通过输入编号或者名称进行选择。</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">图 3. lunch 函数的输出</h5><img src="理解 Android Build 系统 [2]_files/Image [20].png" type="image/png" alt="图 3. lunch 函数的输出" style="cursor: default;" width="294"/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">第三行命令“make -j8”才真正开始执行编译。make 的参数“-j”指定了同时编译的 Job 数量，这是个整数，该值通常是编译主机 CPU 支持的并发线程总数的 1 倍或 2 倍（例如：在一个 4 核，每个核支持两个线程的 CPU 上，可以使用 make -j8 或 make -j16）。在调用 make 命令时，如果没有指定任何目标，则将使用默认的名称为“droid”目标，该目标会编译出完整的 Android 系统镜像。</p><h3 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.4em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">Build 结果的目录结构</h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">所有的编译产物都将位于 /out 目录下，该目录下主要有以下几个子目录：</p><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px 0px 8px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">/out/host/：该目录下包含了针对主机的 Android 开发工具的产物。即 SDK 中的各种工具，例如：emulator，adb，aapt 等。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">/out/target/common/：该目录下包含了针对设备的共通的编译产物，主要是 Java 应用代码和 Java 库。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 44px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">/out/target/product/&lt;<em style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;">product_name</em>&gt;/：包含了针对特定设备的编译结果以及平台相关的 C/C++ 库和二进制文件。其中，<em style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;">&lt;product_name&gt;</em>是具体目标设备的名称。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 23px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">/out/dist/：包含了为多种分发而准备的包，通过“<code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">make dist</code><em style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;">target</em>”将文件拷贝到该目录，默认的编译目标不会产生该目录。</li></ul><h3 style="margin: 5px 0px; padding: 8px 0px 0px; border: 0px; outline: 0px; font-size: 1.4em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">Build 生成的镜像文件</h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">Build 的产物中最重要的是三个镜像文件，它们都位于 /out/target/product/&lt;<em style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;">product_name</em>&gt;/ 目录下。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">这三个文件是：</p><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px 0px 8px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">system.img：包含了 Android OS 的系统文件，库，可执行文件以及预置的应用程序，将被挂载为根分区。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">ramdisk.img：在启动时将被 Linux 内核挂载为只读分区，它包含了 /init 文件和一些配置文件。它用来挂载其他系统镜像并启动 init 进程。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">userdata.img：将被挂载为 /data，包含了应用程序相关的数据以及和用户相关的数据。</li></ul><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34); clear: both; text-align: right; height: 22px;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#ibm-pcon" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; opacity: 0.8; display: inline; text-decoration: none; font-weight: bold; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_arrow_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;">回页首</a></p><h2 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.6em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">Make 文件说明</h2><p style="margin-top: 5px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">整个 Build 系统的入口文件是源码树根目录下名称为“Makefile”的文件，当在源代码根目录上调用 make 命令时，make 命令首先将读取该文件。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">Makefile 文件的内容只有一行：“<code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">include build/core/main.mk</code>”。该行代码的作用很明显：包含 build/core/main.mk 文件。在 main.mk 文件中又会包含其他的文件，其他文件中又会包含更多的文件，这样就引入了整个 Build 系统。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">这些 Make 文件间的包含关系是相当复杂的，图 3 描述了这种关系，该图中黄色标记的文件（且除了 <code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">$</code>开头的文件）都位于 build/core/ 目录下。</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">图 4. 主要的 Make 文件及其包含关系</h5><img src="理解 Android Build 系统 [2]_files/Image [21].png" type="image/png" alt="图 4. 主要的 Make 文件及其包含关系" style="cursor: default;" width="572"/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">表 2 总结了图 4 中提到的这些文件的作用：</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">表 2. 主要的 Make 文件的说明</h5><table border="0" cellpadding="0" cellspacing="0" style="margin: 0px 0px 20px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; border-collapse: collapse; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); width: 780px !important; border-left-width: 0px; border-left-style: none; border-right-width: 0px; border-right-style: none;"><tbody style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><th style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 0px; border-left-style: none; border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">文件名</th><th style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">说明</th></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">main.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">最主要的 Make 文件，该文件中首先将对编译环境进行检查，同时引入其他的 Make 文件。另外，该文件中还定义了几个最主要的 Make 目标，例如 droid，sdk，等（参见后文“Make 目标说明”）。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">help.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">包含了名称为 help 的 Make 目标的定义，该目标将列出主要的 Make 目标及其说明。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">pathmap.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">将许多头文件的路径通过名值对的方式定义为映射表，并提供 include-path-for 函数来获取。例如，通过<code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(call include-path-for, frameworks-native)</code>便可以获取到 framework 本地代码需要的头文件路径。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">envsetup.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">配置 Build 系统需要的环境变量，例如：TARGET_PRODUCT，TARGET_BUILD_VARIANT，HOST_OS，HOST_ARCH 等。<br/>
当前编译的主机平台信息（例如操作系统，CPU 类型等信息）就是在这个文件中确定的。<br/>
另外，该文件中还指定了各种编译结果的输出路径。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">combo/select.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">根据当前编译器的平台选择平台相关的 Make 文件。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">dumpvar.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">在 Build 开始之前，显示此次 Build 的配置信息。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">config.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">整个 Build 系统的配置文件，最重要的 Make 文件之一。该文件中主要包含以下内容：<br/><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">定义了许多的常量来负责不同类型模块的编译。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">定义编译器参数以及常见文件后缀，例如 .zip,.jar.apk。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">根据 BoardConfig.mk 文件，配置产品相关的参数。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">设置一些常用工具的路径，例如 flex，e2fsck，dx。</li></ul></td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">definitions.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">最重要的 Make 文件之一，在其中定义了大量的函数。这些函数都是 Build 系统的其他文件将用到的。例如：my-dir，all-subdir-makefiles，find-subdir-files，sign-package 等，关于这些函数的说明请参见每个函数的代码注释。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">distdir.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">针对 dist 目标的定义。dist 目标用来拷贝文件到指定路径。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">dex_preopt.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">针对启动 jar 包的预先优化。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">pdk_config.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">顾名思义，针对 pdk（Platform Developement Kit）的配置文件。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">${ONE_SHOT_MAKEFILE}</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">ONE_SHOT_MAKEFILE 是一个变量，当使用“mm”编译某个目录下的模块时，此变量的值即为当前指定路径下的 Make 文件的路径。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">${subdir_makefiles}</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">各个模块的 Android.mk 文件的集合，这个集合是通过 Python 脚本扫描得到的。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">post_clean.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">在前一次 Build 的基础上检查当前 Build 的配置，并执行必要清理工作。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">legacy_prebuilts.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该文件中只定义了 GRANDFATHERED_ALL_PREBUILT 变量。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">Makefile</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">被 main.mk 包含，该文件中的内容是辅助 main.mk 的一些额外内容。</td></tr></tbody></table><br/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">Android 源码中包含了许多的模块，模块的类型有很多种，例如：Java 库，C/C++ 库，APK 应用，以及可执行文件等 。并且，Java 或者 C/C++ 库还可以分为静态的或者动态的，库或可执行文件既可能是针对设备（本文的“设备”指的是 Android 系统将被安装的设备，例如某个型号的手机或平板）的也可能是针对主机（本文的“主机”指的是开发 Android 系统的机器，例如装有 Ubuntu 操作系统的 PC 机或装有 MacOS 的 iMac 或 Macbook）的。不同类型的模块的编译步骤和方法是不一样，为了能够一致且方便的执行各种类型模块的编译，在 config.mk 中定义了许多的常量，这其中的每个常量描述了一种类型模块的编译方式，这些常量有：</p><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px 0px 8px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_HOST_STATIC_LIBRARY</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_HOST_SHARED_LIBRARY</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_STATIC_LIBRARY</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_SHARED_LIBRARY</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_EXECUTABLE</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_HOST_EXECUTABLE</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_PACKAGE</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_PREBUILT</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_MULTI_PREBUILT</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_HOST_PREBUILT</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_JAVA_LIBRARY</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_STATIC_JAVA_LIBRARY</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BUILD_HOST_JAVA_LIBRARY</li></ul><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">通过名称大概就可以猜出每个变量所对应的模块类型。（在模块的 Android.mk 文件中，只要包含进这里对应的常量便可以执行相应类型模块的编译。对于 Android.mk 文件的编写请参见后文：“添加新的模块”。）</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">这些常量的值都是另外一个 Make 文件的路径，详细的编译方式都是在对应的 Make 文件中定义的。这些常量和 Make 文件的是一一对应的，对应规则也很简单：常量的名称是 Make 文件的文件名除去后缀全部改为大写然后加上“BUILD_”作为前缀。例如常量 BUILD_HOST_PREBUILT 的值对应的文件就是 host_prebuilt.mk。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">这些 Make 文件的说明如表 3 所示：</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">表 3. 各种模块的编译方式的定义文件</h5><table border="0" cellpadding="0" cellspacing="0" style="margin: 0px 0px 20px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; border-collapse: collapse; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); width: 780px !important; border-left-width: 0px; border-left-style: none; border-right-width: 0px; border-right-style: none;"><tbody style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><th style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 0px; border-left-style: none; border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">文件名</th><th style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">说明</th></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">host_static_library.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译主机上的静态库。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">host_shared_library.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译主机上的共享库。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">static_library.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译设备上的静态库。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">shared_library.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译设备上的共享库。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">executable.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译设备上的可执行文件。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">host_executable.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译主机上的可执行文件。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">package.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译 APK 文件。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">prebuilt.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何处理一个已经编译好的文件 ( 例如 Jar 包 )。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">multi_prebuilt.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何处理一个或多个已编译文件，该文件的实现依赖 prebuilt.mk。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">host_prebuilt.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">处理一个或多个主机上使用的已编译文件，该文件的实现依赖 multi_prebuilt.mk。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">java_library.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译设备上的共享 Java 库。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">static_java_library.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译设备上的静态 Java 库。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">host_java_library.mk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">定义了如何编译主机上的共享 Java 库。</td></tr></tbody></table><br/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">不同类型的模块的编译过程会有一些相同的步骤，例如：编译一个 Java 库和编译一个 APK 文件都需要定义如何编译 Java 文件。因此，表 3 中的这些 Make 文件的定义中会包含一些共同的代码逻辑。为了减少代码冗余，需要将共同的代码复用起来，复用的方式是将共同代码放到专门的文件中，然后在其他文件中包含这些文件的方式来实现的。这些包含关系如图 5 所示。由于篇幅关系，这里就不再对其他文件做详细描述（其实这些文件从文件名称中就可以大致猜出其作用）。</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">图 5. 模块的编译方式定义文件的包含关系</h5><img src="理解 Android Build 系统 [2]_files/Image [22].png" type="image/png" alt="图 5. 模块的编译方式定义文件的包含关系" style="cursor: default;" width="572"/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34); clear: both; text-align: right; height: 22px;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#ibm-pcon" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; opacity: 0.8; display: inline; text-decoration: none; font-weight: bold; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_arrow_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;">回页首</a></p><h2 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.6em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">Make 目标说明</h2><h3 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.4em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">make /make droid</h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">如果在源码树的根目录直接调用“make”命令而不指定任何目标，则会选择默认目标：“droid”（在 main.mk 中定义）。因此，这和执行“make droid”效果是一样的。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">droid 目标将编译出整个系统的镜像。从源代码到编译出系统镜像，整个编译过程非常复杂。这个过程并不是在 droid 一个目标中定义的，而是 droid 目标会依赖许多其他的目标，这些目标的互相配合导致了整个系统的编译。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">图 6 描述了 droid 目标所依赖的其他目标：</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">图 6. droid 目标所依赖的其他 Make 目标</h5><img src="理解 Android Build 系统 [2]_files/Image [23].png" type="image/png" alt="图 6. droid 目标所依赖的其他 Make 目标" style="cursor: default;" width="572"/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">图 6 中这些目标的说明如表 4 所示：</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">表 4. droid 所依赖的其他 Make 目标的说明</h5><table border="0" cellpadding="0" cellspacing="0" style="margin: 0px 0px 20px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; border-collapse: collapse; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); width: 780px !important; border-left-width: 0px; border-left-style: none; border-right-width: 0px; border-right-style: none;"><tbody style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><th style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 0px; border-left-style: none; border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">名称</th><th style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">说明</th></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">apps_only</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该目标将编译出当前配置下不包含 user，userdebug，eng 标签（关于标签，请参见后文“添加新的模块”）的应用程序。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">droidcore</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该目标仅仅是所依赖的几个目标的组合，其本身不做更多的处理。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">dist_files</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该目标用来拷贝文件到 /out/dist 目录。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">files</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该目标仅仅是所依赖的几个目标的组合，其本身不做更多的处理。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">prebuilt</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该目标依赖于 <code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(ALL_PREBUILT)</code>，<code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(ALL_PREBUILT)</code>的作用就是处理所有已编译好的文件。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(modules_to_install)</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">modules_to_install 变量包含了当前配置下所有会被安装的模块（一个模块是否会被安装依赖于该产品的配置文件，模块的标签等信息），因此该目标将导致所有会被安装的模块的编译。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(modules_to_check)</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该目标用来确保我们定义的构建模块是没有冗余的。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(INSTALLED_ANDROID_INFO_TXT_TARGET)</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该目标会生成一个关于当前 Build 配置的设备信息的文件，该文件的生成路径是：out/target/product/&lt;<em style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;">product_name</em>&gt;/android-info.txt</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">systemimage</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">生成 system.img。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(INSTALLED_BOOTIMAGE_TARGET)</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">生成 boot.img。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(INSTALLED_RECOVERYIMAGE_TARGET)</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">生成 recovery.img。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(INSTALLED_USERDATAIMAGE_TARGET)</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">生成 userdata.img。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(INSTALLED_CACHEIMAGE_TARGET)</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">生成 cache.img。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(102, 102, 102) !important;">$(INSTALLED_FILES_FILE)</code></strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该目标会生成 out/target/product/&lt;<em style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;">product_name</em>&gt;/ installed-files.txt 文件，该文件中内容是当前系统镜像中已经安装的文件列表。</td></tr></tbody></table><br/><h3 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.4em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">其他目标</h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">Build 系统中包含的其他一些 Make 目标说明如表 5 所示：</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">表 5. 其他主要 Make 目标</h5><table border="0" cellpadding="0" cellspacing="0" style="margin: 0px 0px 20px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; border-collapse: collapse; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); width: 780px !important; border-left-width: 0px; border-left-style: none; border-right-width: 0px; border-right-style: none;"><tbody style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><th style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 0px; border-left-style: none; border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">Make 目标</th><th style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">说明</th></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make clean</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">执行清理，等同于：rm -rf out/。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make sdk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">编译出 Android 的 SDK。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make clean-sdk</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">清理 SDK 的编译产物。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make update-api</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">更新 API。在 framework API 改动之后，需要首先执行该命令来更新 API，公开的 API 记录在 frameworks/base/api 目录下。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make dist</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">执行 Build，并将 MAKECMDGOALS 变量定义的输出文件拷贝到 /out/dist 目录。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make all</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">编译所有内容，不管当前产品的定义中是否会包含。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make help</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">帮助信息，显示主要的 make 目标。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make snod</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">从已经编译出的包快速重建系统镜像。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make libandroid_runtime</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">编译所有 JNI framework 内容。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make</strong><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">framework</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">编译所有 Java framework 内容。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make</strong><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">services</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">编译系统服务和相关内容。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make &lt;local_target&gt;</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">编译一个指定的模块，local_target 为模块的名称。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make clean-&lt;local_target&gt;</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">清理一个指定模块的编译结果。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make</strong><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">dump-products</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">显示所有产品的编译配置信息，例如：产品名，产品支持的地区语言，产品中会包含的模块等信息。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make</strong><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT-xxx-yyy</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">编译某个指定的产品。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make</strong><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">bootimage</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">生成 boot.img</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make</strong><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">recoveryimage</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">生成 recovery.img</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make</strong><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">userdataimage</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">生成 userdata.img</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">make</strong><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">cacheimage</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">生成 cache.img</td></tr></tbody></table><br/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34); clear: both; text-align: right; height: 22px;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#ibm-pcon" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; opacity: 0.8; display: inline; text-decoration: none; font-weight: bold; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_arrow_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;">回页首</a></p><h2 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.6em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">在 Build 系统中添加新的内容</h2><h3 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.4em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">添加新的产品</h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">当我们要开发一款新的 Android 产品的时候，我们首先就需要在 Build 系统中添加对于该产品的定义。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">在 Android Build 系统中对产品定义的文件通常位于 device 目录下（另外还有一个可以定义产品的目录是 vender 目录，这是个历史遗留目录，Google 已经建议不要在该目录中进行定义，而应当选择 device 目录）。device 目录下根据公司名以及产品名分为二级目录，这一点我们在概述中已经提到过。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">通常，对于一个产品的定义通常至少会包括四个文件：AndroidProducts.mk，产品版本定义文件，BoardConfig.mk 以及 verndorsetup.sh。下面我们来详细说明这几个文件。</p><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px 0px 8px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 44px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">AndroidProducts.mk：该文文件中的内容很简单，其中只需要定义一个变量，名称为“PRODUCT_MAKEFILES”，该变量的值为产品版本定义文件名的列表，例如：</li></ul><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><pre style="margin-top: 0px; margin-right: 0px; margin-bottom: 6px !important; margin-left: 0px; padding: 5px 10px 5px 3px !important; border: 1px solid rgb(204, 204, 204); outline: 0px; font-size: 11px; vertical-align: baseline; width: 780px; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; overflow: auto; color: rgb(0, 0, 0); clear: right; background: rgb(247, 247, 247) !important;">
 PRODUCT_MAKEFILES := \ 
 $(LOCAL_DIR)/full_stingray.mk \ 
 $(LOCAL_DIR)/stingray_emu.mk \ 
 $(LOCAL_DIR)/generic_stingray.mk
</pre></div><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 44px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">产品版本定义文件：顾名思义，该文件中包含了对于特定产品版本的定义。该文件可能不只一个，因为同一个产品可能会有多种版本（例如，面向中国地区一个版本，面向美国地区一个版本）。该文件中可以定义的变量以及含义说明如表 6 所示：</li></ul><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">表 6. 产品版本定义文件中的变量及其说明</h5><table border="0" cellpadding="0" cellspacing="0" style="margin: 0px 0px 20px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; border-collapse: collapse; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); width: 780px !important; border-left-width: 0px; border-left-style: none; border-right-width: 0px; border-right-style: none;"><tbody style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><th style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 0px; border-left-style: none; border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">常量</th><th style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">说明</th></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_NAME</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">最终用户将看到的完整产品名，会出现在“关于手机”信息中。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_MODEL</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">产品的型号，这也是最终用户将看到的。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_LOCALES</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该产品支持的地区，以空格分格，例如：en_GB de_DE es_ES fr_CA。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_PACKAGES</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该产品版本中包含的 APK 应用程序，以空格分格，例如：Calendar Contacts。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_DEVICE</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该产品的工业设计的名称。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_MANUFACTURER</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">制造商的名称。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_BRAND</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该产品专门定义的商标（如果有的话）。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_PROPERTY_OVERRIDES</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">对于商品属性的定义。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_COPY_FILES</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">编译该产品时需要拷贝的文件，以“源路径 : 目标路径”的形式。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_OTA_PUBLIC_KEYS</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">对于该产品的 OTA 公开 key 的列表。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_POLICY</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">产品使用的策略。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_PACKAGE_OVERLAYS</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">指出是否要使用默认的资源或添加产品特定定义来覆盖。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_CONTRIBUTORS_FILE</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">HTML 文件，其中包含项目的贡献者。</td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">PRODUCT_TAGS</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该产品的标签，以空格分格。</td></tr></tbody></table><br/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">通常情况下，我们并不需要定义所有这些变量。Build 系统的已经预先定义好了一些组合，它们都位于 /build/target/product 下，每个文件定义了一个组合，我们只要继承这些预置的定义，然后再覆盖自己想要的变量定义即可。例如：</p><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><pre style="margin-top: 0px; margin-right: 0px; margin-bottom: 6px !important; margin-left: 0px; padding: 5px 10px 5px 3px !important; border: 1px solid rgb(204, 204, 204); outline: 0px; font-size: 11px; vertical-align: baseline; width: 780px; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; overflow: auto; color: rgb(0, 0, 0); clear: right; background: rgb(247, 247, 247) !important;">
 # 继承 full_base.mk 文件中的定义
 $(call inherit-product, $(SRC_TARGET_DIR)/product/full_base.mk) 
 # 覆盖其中已经定义的一些变量
 PRODUCT_NAME := full_lt26 
 PRODUCT_DEVICE := lt26 
 PRODUCT_BRAND := Android 
 PRODUCT_MODEL := Full Android on LT26
</pre></div><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 44px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">BoardConfig.mk：该文件用来配置硬件主板，它其中定义的都是设备底层的硬件特性。例如：该设备的主板相关信息，Wifi 相关信息，还有 bootloader，内核，radioimage 等信息。对于该文件的示例，请参看 Android 源码树已经有的文件。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 66px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">vendorsetup.sh：该文件中作用是通过 add_lunch_combo 函数在 lunch 函数中添加一个菜单选项。该函数的参数是产品名称加上编译类型，中间以“-”连接，例如：add_lunch_combo full_lt26-userdebug。/build/envsetup.sh 会扫描所有 device 和 vender 二 级目 录下的名称 为&quot;vendorsetup.sh&quot;文件，并根据其中的内容来确定 lunch 函数的 菜单选项。</li></ul><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">在配置了以上的文件之后，便可以编译出我们新添加的设备的系统镜像了。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">首先，调用“<code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">source build/envsetup.sh</code>”该命令的输出中会看到 Build 系统已经引入了刚刚添加的 vendorsetup.sh 文件。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">然后再调用“lunch”函数，该函数输出的列表中将包含新添加的 vendorsetup.sh 中添加的条目。然后通过编号或名称选择即可。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">最后，调用“make -j8”来执行编译即可。</p><h3 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.4em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">添加新的模块</h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">关于“模块”的说明在上文中已经提到过，这里不再赘述。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">在源码树中，一个模块的所有文件通常都位于同一个文件夹中。为了将当前模块添加到整个 Build 系统中，每个模块都需要一个专门的 Make 文件，该文件的名称为“Android.mk”。Build 系统会扫描名称为“Android.mk”的文件，并根据该文件中内容编译出相应的产物。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">需要注意的是：在 Android Build 系统中，编译是以模块（而不是文件）作为单位的，每个模块都有一个唯一的名称，一个模块的依赖对象只能是另外一个模块，而不能是其他类型的对象。对于已经编译好的二进制库，如果要用来被当作是依赖对象，那么应当将这些已经编译好的库作为单独的模块。对于这些已经编译好的库使用 BUILD_PREBUILT 或 BUILD_MULTI_PREBUILT。例如：当编译某个 Java 库需要依赖一些 Jar 包时，并不能直接指定 Jar 包的路径作为依赖，而必须首先将这些 Jar 包定义为一个模块，然后在编译 Java 库的时候通过模块的名称来依赖这些 Jar 包。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">下面，我们就来讲解 Android.mk 文件的编写：</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">Android.mk 文件通常以以下两行代码作为开头：</p><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><pre style="margin-top: 0px; margin-right: 0px; margin-bottom: 6px !important; margin-left: 0px; padding: 5px 10px 5px 3px !important; border: 1px solid rgb(204, 204, 204); outline: 0px; font-size: 11px; vertical-align: baseline; width: 780px; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; overflow: auto; color: rgb(0, 0, 0); clear: right; background: rgb(247, 247, 247) !important;">
 LOCAL_PATH := $(call my-dir) 
 include $(CLEAR_VARS)
</pre></div><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">这两行代码的作用是：</p><ol style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: decimal !important; margin: 0px; padding: 0px 0px 0px 20px; color: rgb(51, 51, 51);" type="1"><li style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">设置当前模块的编译路径为当前文件夹路径。</li><li style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">清理（可能由其他模块设置过的）编译环境中用到的变量。</li></ol><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">为了方便模块的编译，Build 系统设置了很多的编译环境变量。要编译一个模块，只要在编译之前根据需要设置这些变量然后执行编译即可。它们包括：</p><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px 0px 8px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_SRC_FILES：当前模块包含的所有源代码文件。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_MODULE：当前模块的名称，这个名称应当是唯一的，模块间的依赖关系就是通过这个名称来引用的。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_C_INCLUDES：C 或 C++ 语言需要的头文件的路径。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_STATIC_LIBRARIES：当前模块在静态链接时需要的库的名称。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_SHARED_LIBRARIES：当前模块在运行时依赖的动态库的名称。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_CFLAGS：提供给 C/C++ 编译器的额外编译参数。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_JAVA_LIBRARIES：当前模块依赖的 Java 共享库。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_STATIC_JAVA_LIBRARIES：当前模块依赖的 Java 静态库。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_PACKAGE_NAME：当前 APK 应用的名称。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_CERTIFICATE：签署当前应用的证书名称。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 66px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">LOCAL_MODULE_TAGS：当前模块所包含的标签，一个模块可以包含多个标签。标签的值可能是 debug, eng, user，development 或者 optional。其中，optional 是默认标签。标签是提供给编译类型使用的。不同的编译类型会安装包含不同标签的模块，关于编译类型的说明如表 7 所示：</li></ul><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">表 7. 编译类型的说明</h5><table border="0" cellpadding="0" cellspacing="0" style="margin: 0px 0px 20px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; border-collapse: collapse; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(204, 204, 204); width: 780px !important; border-left-width: 0px; border-left-style: none; border-right-width: 0px; border-right-style: none;"><tbody style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><th style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 0px; border-left-style: none; border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">名称</th><th style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; text-align: left; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 2px; border-top-style: solid; border-top-color: rgb(153, 153, 153); color: rgb(0, 0, 0); border-right-width: 0px; border-right-style: none;">说明</th></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">eng</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">默认类型，该编译类型适用于开发阶段。<br/>
当选择这种类型时，编译结果将：<br/><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">安装包含 eng, debug, user，development 标签的模块</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">安装所有没有标签的非 APK 模块</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">安装所有产品定义文件中指定的 APK 模块</li></ul></td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">user</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该编译类型适合用于最终发布阶段。<br/>
当选择这种类型时，编译结果将：<br/><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">安装所有带有 user 标签的模块</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">安装所有没有标签的非 APK 模块</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">安装所有产品定义文件中指定的 APK 模块，APK 模块的标签将被忽略</li></ul></td></tr><tr style="margin: 0px; padding: 0px; outline: 0px; font-size: inherit; vertical-align: baseline;"><td style="margin: 0px; padding: 8px 10px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 0px; border-left-style: none; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">userdebug</strong></td><td style="margin: 0px; padding: 8px 5px 5px 3px; outline: 0px; font-size: inherit; vertical-align: top; border-left-width: 3px; border-left-style: solid; border-left-color: rgb(255, 255, 255); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); color: rgb(85, 85, 85); border-right-width: 0px; border-right-style: none;">该编译类型适合用于 debug 阶段。<br/>
该类型和 user 一样，除了：<br/><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">会安装包含 debug 标签的模块</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: 0.85em !important; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; color: rgb(102, 102, 102); background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">编译出的系统具有 root 访问权限</li></ul></td></tr></tbody></table><br/><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">表 3 中的文件已经定义好了各种类型模块的编译方式。所以要执行编译，只需要引入表 3 中对应的 Make 文件即可（通过常量的方式）。例如，要编译一个 APK 文件，只需要在 Android.mk 文件中，加入“<code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">include $(BUILD_PACKAGE)</code></p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">除此以外，Build 系统中还定义了一些便捷的函数以便在 Android.mk 中使用，包括：</p><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px 0px 8px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 23px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">$(call my-dir)</code>：获取当前文件夹路径。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 23px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">$(call all-java-files-under, &lt;src&gt;)</code>：获取指定目录下的所有 Java 文件。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 23px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">$(call all-c-files-under, &lt;src&gt;)</code>：获取指定目录下的所有 C 语言文件。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 23px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">$(call all-Iaidl-files-under, &lt;src&gt;)</code> ：获取指定目录下的所有 AIDL 文件。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 23px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">$(call all-makefiles-under, &lt;folder&gt;)</code>：获取指定目录下的所有 Make 文件。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 45px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><code style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.95em !important; vertical-align: baseline; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; color: rgb(0, 0, 0) !important;">$(call intermediates-dir-for, &lt;class&gt;, &lt;app_name&gt;, &lt;host or target&gt;, &lt;common?&gt; )</code>：获取 Build 输出的目标文件夹路径。</li></ul><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">清单 2 和清单 3 分别是编译 APK 文件和编译 Java 静态库的 Make 文件示例：</p><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">清单 2. 编译一个 APK 文件</h5><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><pre style="margin-top: 0px; margin-right: 0px; margin-bottom: 6px !important; margin-left: 0px; padding: 5px 10px 5px 3px !important; border: 1px solid rgb(204, 204, 204); outline: 0px; font-size: 11px; vertical-align: baseline; width: 780px; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; overflow: auto; color: rgb(0, 0, 0); clear: right; background: rgb(247, 247, 247) !important;">
  LOCAL_PATH := $(call my-dir) 
  include $(CLEAR_VARS) 
  # 获取所有子目录中的 Java 文件
  LOCAL_SRC_FILES := $(call all-subdir-java-files)                      
  # 当前模块依赖的静态 Java 库，如果有多个以空格分隔
  LOCAL_STATIC_JAVA_LIBRARIES := static-library 
  # 当前模块的名称
  LOCAL_PACKAGE_NAME := LocalPackage 
  # 编译 APK 文件
  include $(BUILD_PACKAGE)
</pre></div><h5 style="margin: 5px 0px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline;">清单 3. 编译一个 Java 的静态库</h5><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><pre style="margin-top: 0px; margin-right: 0px; margin-bottom: 6px !important; margin-left: 0px; padding: 5px 10px 5px 3px !important; border: 1px solid rgb(204, 204, 204); outline: 0px; font-size: 11px; vertical-align: baseline; width: 780px; font-family: &apos;Andale Mono&apos;, &apos;Lucida Console&apos;, Monaco, Liberation, fixed, monospace; overflow: auto; color: rgb(0, 0, 0); clear: right; background: rgb(247, 247, 247) !important;">
  LOCAL_PATH := $(call my-dir) 
  include $(CLEAR_VARS) 
   
  # 获取所有子目录中的 Java 文件
  LOCAL_SRC_FILES := $(call all-subdir-java-files) 
   
  # 当前模块依赖的动态 Java 库名称
  LOCAL_JAVA_LIBRARIES := android.test.runner 
   
  # 当前模块的名称
  LOCAL_MODULE := sample 
   
  # 将当前模块编译成一个静态的 Java 库
  include $(BUILD_STATIC_JAVA_LIBRARY)
</pre></div><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34); clear: both; text-align: right; height: 22px;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#ibm-pcon" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; opacity: 0.8; display: inline; text-decoration: none; font-weight: bold; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_arrow_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;">回页首</a></p><h2 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.6em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">结束语</h2><p style="margin-top: 5px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">整个 Build 系统包含了非常多的内容，由于篇幅所限，本文只能介绍其中最主要内容。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">由于 Build 系统本身也是在随着 Android 平台不断的开发过程中，所以不同的版本其中的内容和定义可能会发生变化。网络上关于该部分的资料很零碎，并且很多资料中的一些内容已经过时不再适用，再加上缺少官方文档，所以该部分的学习存在一定的难度。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34);">这就要求我们要有很强的代码阅读能力，毕竟代码是不会说谎的。 要知道，对于我们这些开发人员来说，源代码就是我们最忠实的朋友。 Use the Source,Luke!</p></div></div><div style="margin: 0px; padding: 0px 10px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both; overflow: hidden; width: 960px;"><div style="margin: 0px; padding: 0px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; min-height: 1px; width: 620px; clear: none;"><h2 style="margin: 5px 0px; padding: 6px 0px 0px; border-width: 2px 0px 0px; border-top-style: solid; border-top-color: rgb(102, 102, 102); outline: 0px; font-size: 1.6em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">参考资料</h2><h3 style="margin: 5px 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">学习</h3><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><a href="http://source.android.com/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">Android Open Source Project</a>：Android Source 官方网站。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><a href="http://people.linaro.org/~asac/build-system.html" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">Android Build System</a>：Build 系统中包含的说明文档。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><a href="http://www.gnu.org/software/make/manual/html_node/index.html" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">GNU `make'</a>：GNU make 官方手册。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><a href="http://elinux.org/Android_Device" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">Android Device</a>：大致介绍了 Build 系统中的一些文件。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><a href="https://sites.google.com/a/itspaclub.com/www/android/android-build-system-anatomy" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">Build System</a>：另一个关于 Build 系统的说明资料。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;"><a href="http://www.android-x86.org/documents/how-to-add-new-x86-platforms" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">Add new target</a>：该文档描述了如何添加一个新的产品目标。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">随时关注 developerWorks <a href="http://www.ibm.com/developerworks/cn/offers/techbriefings/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">技术活动</a>和<a href="http://www.ibm.com/developerworks/cn/swi/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">网络广播</a>。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 44px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">访问 developerWorks <a href="http://www.ibm.com/developerworks/cn/opensource/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">Open source 专区</a>获得丰富的 how-to 信息、工具和项目更新以及<a href="http://www.ibm.com/developerworks/cn/opensource/best2009/index.html" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">最受欢迎的文章和教程</a>，帮助您用开放源码技术进行开发，并将它们与 IBM 产品结合使用。</li></ul><h3 style="margin: 5px 0px; padding: 8px 0px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">讨论</h3><ul style="border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 44px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">加入 <a href="http://www.ibm.com/developerworks/cn/community/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">developerWorks 中文社区</a>，developerWorks 社区是一个面向全球 IT 专业人员，可以提供博客、书签、wiki、群组、联系、共享和协作等社区功能的专业社交网络社区。</li><li style="margin: 0px; padding: 5px 0px 5px 11px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 22px; clear: left; background: url(https://1.www.s81c.com/i/v17/bullets/ibm_lg_bullet_grey_on.gif) 0px 13px no-repeat;">加入 <a href="https://www.ibm.com/developerworks/mydeveloperworks/groups/service/html/communityview?communityUuid=38997896-bb16-451a-aa97-189a27a3cd5a/?lang=zh" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; display: inline;">IBM 软件下载与技术交流群组</a>，参与在线交流。</li></ul><h2 style="margin: 5px 0px; padding: 8px 0px 0px; border-width: 2px 0px 0px; border-top-style: solid; border-top-color: rgb(204, 204, 204); outline: 0px; font-size: 1.6em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial;">条评论</h2><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 10px 0px; padding: 0px; border-width: 2px 0px 0px; border-top-style: solid; border-right-style: none !important; border-bottom-style: none !important; border-left-style: none !important; border-top-color: rgb(102, 102, 102); outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both; width: auto;"><div style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px; border: 0px none; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both;"><p style="margin: 0px 0px 8px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(51, 51, 51);">请 <a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif;">登录</a> 或 <a href="https://www.ibm.com/developerworks/dwwi/jsp/ssoregister.jsp?d=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Fopensource%2Fos-cn-android-build%2F%23icomments&amp;lang=cn&amp;a=dwmav" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif;">注册</a> 后发表评论。</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(51, 51, 51);"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(102, 102, 102);">添加评论:</strong></p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(51, 51, 51);">注意：评论中不支持 HTML 语法</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1em; vertical-align: baseline; font-family: Arial, sans-serif; clear: both; display: inline-block; width: 620px; color: rgb(51, 51, 51);"><br/></p><span style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">有新评论时提醒我</span><span style="margin: 4px 0px 20px; padding: 0px; border: 0px; outline: 0px; font-size: 1em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(51, 51, 51); float: right;">剩余 <span style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">1000</span> 字符</span><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1em; vertical-align: baseline; font-family: Arial, sans-serif; clear: both; width: 620px; display: inline-block; color: rgb(51, 51, 51);"></p></div></div><div style="margin: 10px 0px; padding: 0px; border-width: 2px 0px 0px; border-top-style: solid; border-right-style: none !important; border-bottom-style: none !important; border-left-style: none !important; border-top-color: rgb(102, 102, 102); outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both; width: auto;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both;"><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1em; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(51, 51, 51);"> <span style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif;"><strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(102, 102, 102);">共有评论 (<span style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;">4</span>)</strong></span></p></div></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px; border: 0px none; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px; border: 0px none; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif; width: 620px; word-wrap: break-word; color: rgb(51, 51, 51);">很实用！</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif !important; color: rgb(51, 51, 51); float: left;">由 <strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><a href="https://www.ibm.com/developerworks/community/profiles/user/linsir" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif !important; font-weight: normal !important;">linsir</a></strong> 于 2014年07月03日发布</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif !important; color: rgb(51, 51, 51); float: right;"><a href="https://www.ibm.com/developerworks/community/report?lang=zh&amp;referingURL=https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/&amp;mymessage=%E8%AF%84%E8%AE%BA%EF%BC%9A%20%E5%BE%88%E5%AE%9E%E7%94%A8%EF%BC%81%0D%E7%94%B1%20linsir%20%20%E4%BA%8E%202014%E5%B9%B407%E6%9C%8803%E6%97%A5%E5%8F%91%E5%B8%83%20%0D%0D--%E5%9C%A8%E4%B8%8B%E6%96%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA--" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: 1em; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif !important; opacity: 1; display: block; text-decoration: none; float: right; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_status_sm_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;" target="_self">报告滥用</a></p></div></div></div></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px; border: 0px none; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px; border: 0px none; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif; width: 620px; word-wrap: break-word; color: rgb(51, 51, 51);">非常不错的一个介绍，从中明白了不少。对开发一个新的product非常有帮助</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif !important; color: rgb(51, 51, 51); float: left;">由 <strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><a href="https://www.ibm.com/developerworks/community/profiles/user/brantyou" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif !important; font-weight: normal !important;">brantyou</a></strong> 于 2014年03月02日发布</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif !important; color: rgb(51, 51, 51); float: right;"><a href="https://www.ibm.com/developerworks/community/report?lang=zh&amp;referingURL=https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/&amp;mymessage=%E8%AF%84%E8%AE%BA%EF%BC%9A%20%E9%9D%9E%E5%B8%B8%E4%B8%8D%E9%94%99%E7%9A%84%E4%B8%80%E4%B8%AA%E4%BB%8B%E7%BB%8D%EF%BC%8C%E4%BB%8E%E4%B8%AD%E6%98%8E%E7%99%BD%E4%BA%86%E4%B8%8D%E5%B0%91%E3%80%82%E5%AF%B9%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84product%E9%9D%9E%E5%B8%B8%E6%9C%89%E5%B8%AE%E5%8A%A9%0D%E7%94%B1%20brantyou%20%20%E4%BA%8E%202014%E5%B9%B403%E6%9C%8802%E6%97%A5%E5%8F%91%E5%B8%83%20%0D%0D--%E5%9C%A8%E4%B8%8B%E6%96%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA--" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: 1em; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif !important; opacity: 1; display: block; text-decoration: none; float: right; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_status_sm_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;" target="_self">报告滥用</a></p></div></div></div></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px; border: 0px none; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px; border: 0px none; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif; width: 620px; word-wrap: break-word; color: rgb(51, 51, 51);">你好，在“Build 生成的镜像文件”一小节中，这一句“system.img：包含了 Android OS 的系统文件，库，可执行文件以及预置的应用程序，将被挂载为根分区。”是不是错了？system是挂载在/system上吧？而ramdisk.img才是挂载在/分区？</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif !important; color: rgb(51, 51, 51); float: left;">由 <strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><a href="https://www.ibm.com/developerworks/community/profiles/user/manson.li" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif !important; font-weight: normal !important;">manson.li</a></strong> 于 2014年01月06日发布</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif !important; color: rgb(51, 51, 51); float: right;"><a href="https://www.ibm.com/developerworks/community/report?lang=zh&amp;referingURL=https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/&amp;mymessage=%E8%AF%84%E8%AE%BA%EF%BC%9A%20%E4%BD%A0%E5%A5%BD%EF%BC%8C%E5%9C%A8%E2%80%9CBuild%20%E7%94%9F%E6%88%90%E7%9A%84%E9%95%9C%E5%83%8F%E6%96%87%E4%BB%B6%E2%80%9D%E4%B8%80%E5%B0%8F%E8%8A%82%E4%B8%AD%EF%BC%8C%E8%BF%99%E4%B8%80%E5%8F%A5%E2%80%9Csystem.img%EF%BC%9A%E5%8C%85%E5%90%AB%E4%BA%86%20Android%20OS%20%E7%9A%84%E7%B3%BB%E7%BB%9F%E6%96%87%E4%BB%B6%EF%BC%8C%E5%BA%93%EF%BC%8C%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6%E4%BB%A5%E5%8F%8A%E9%A2%84%E7%BD%AE%E7%9A%84%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%EF%BC%8C%E5%B0%86%E8%A2%AB%E6%8C%82%E8%BD%BD%E4%B8%BA%E6%A0%B9%E5%88%86%E5%8C%BA%E3%80%82%E2%80%9D%E6%98%AF%E4%B8%8D%E6%98%AF%E9%94%99%E4%BA%86%EF%BC%9Fsystem%E6%98%AF%E6%8C%82%E8%BD%BD%E5%9C%A8%2Fsystem%E4%B8%8A%E5%90%A7%EF%BC%9F%E8%80%8Cramdisk.img%E6%89%8D%E6%98%AF%E6%8C%82%E8%BD%BD%E5%9C%A8%2F%E5%88%86%E5%8C%BA%EF%BC%9F%0D%E7%94%B1%20manson.li%20%20%E4%BA%8E%202014%E5%B9%B401%E6%9C%8806%E6%97%A5%E5%8F%91%E5%B8%83%20%0D%0D--%E5%9C%A8%E4%B8%8B%E6%96%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA--" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: 1em; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif !important; opacity: 1; display: block; text-decoration: none; float: right; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_status_sm_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;" target="_self">报告滥用</a></p></div></div></div></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px; border: 0px none; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px; border: 0px none; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif; width: 620px; word-wrap: break-word; color: rgb(51, 51, 51);">&quot;老师，请教下，当我们通过<br/>
include $(BUILD_SHARED_LIBRARY)<br/>
来编译lib时，最终编译一个.cpp文件的编译命令行是在哪个文件中形成的？</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif !important; color: rgb(51, 51, 51); float: left;">由 <strong style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><a href="https://www.ibm.com/developerworks/community/profiles/user/shine_at_ibm" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif !important; font-weight: normal !important;">shine_at_ibm</a></strong> 于 2013年10月09日发布</p><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em; vertical-align: baseline; font-family: Arial, sans-serif !important; color: rgb(51, 51, 51); float: right;"><a href="https://www.ibm.com/developerworks/community/report?lang=zh&amp;referingURL=https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/&amp;mymessage=%E8%AF%84%E8%AE%BA%EF%BC%9A%20%22%E8%80%81%E5%B8%88%EF%BC%8C%E8%AF%B7%E6%95%99%E4%B8%8B%EF%BC%8C%E5%BD%93%E6%88%91%E4%BB%AC%E9%80%9A%E8%BF%87include%20%24(BUILD_SHARED_LIBRARY)%E6%9D%A5%E7%BC%96%E8%AF%91lib%E6%97%B6%EF%BC%8C%E6%9C%80%E7%BB%88%E7%BC%96%E8%AF%91%E4%B8%80%E4%B8%AA.cpp%E6%96%87%E4%BB%B6%E7%9A%84%E7%BC%96%E8%AF%91%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%98%AF%E5%9C%A8%E5%93%AA%E4%B8%AA%E6%96%87%E4%BB%B6%E4%B8%AD%E5%BD%A2%E6%88%90%E7%9A%84%EF%BC%9F%0D%E7%94%B1%20shine_at_ibm%20%20%E4%BA%8E%202013%E5%B9%B410%E6%9C%8809%E6%97%A5%E5%8F%91%E5%B8%83%20%0D%0D--%E5%9C%A8%E4%B8%8B%E6%96%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA--" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: 1em; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif !important; opacity: 1; display: block; text-decoration: none; float: right; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_status_sm_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;" target="_self">报告滥用</a></p></div></div></div></div></div></div></div></div></div><div style="margin: 0px; padding: 0px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; min-height: 1px; width: 300px; clear: none;"><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; list-style: none; margin: 0px; padding: 0px 0px 5px; color: rgb(51, 51, 51);"><li style="margin: 0px; padding: 5px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 53px; clear: both; display: block; min-height: 45px; background: none !important;"><a href="http://www.ibm.com/developerworks/cn/cloud/bluemix/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif;" tabindex="-1"><img src="理解 Android Build 系统 [2]_files/Image [24].png" type="image/png" alt="IBM Bluemix 资源中心" height="60" style="cursor: default; height: auto;" width="60"/></a><h3 style="margin: 0px 0px 4px 70px; padding: 0px; border: 0px; outline: 0px; font-size: 1.083em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial; display: block;"><a href="http://www.ibm.com/developerworks/cn/cloud/bluemix/" style="margin: 0px; padding: 0px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(0, 0, 0) !important; font-family: Arial, sans-serif; text-decoration: none;">IBM Bluemix 资源中心</a></h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 70px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1em; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(76, 76, 76);">文章、教程、演示，帮助您构建、部署和管理云应用。</p></li><li style="margin: 0px; padding: 5px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 53px; clear: both; display: block; min-height: 45px; background: none !important;"><a href="http://www.ibm.com/developerworks/cn/community/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif;" tabindex="-1"><img src="理解 Android Build 系统 [2]_files/Image [25].png" type="image/png" alt="developerWorks 中文社区" height="60" style="cursor: default; height: auto;" width="60"/></a><h3 style="margin: 0px 0px 4px 70px; padding: 0px; border: 0px; outline: 0px; font-size: 1.083em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial; display: block;"><a href="http://www.ibm.com/developerworks/cn/community/" style="margin: 0px; padding: 0px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(0, 0, 0) !important; font-family: Arial, sans-serif; text-decoration: none;">developerWorks 中文社区</a></h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 70px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1em; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(76, 76, 76);">立即加入来自 IBM 的专业 IT 社交网络。</p></li><li style="margin: 0px; padding: 5px 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; height: 45px; clear: both; display: block; min-height: 45px; background: none !important;"><a href="http://bluemixathon.devpost.com/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif;" tabindex="-1"><img src="理解 Android Build 系统 [2]_files/Image [26].png" type="image/png" alt="Bluemixathon 挑战赛" height="60" style="cursor: default; height: auto;" width="60"/></a><h3 style="margin: 0px 0px 4px 70px; padding: 0px; border: 0px; outline: 0px; font-size: 1.083em !important; vertical-align: baseline; font-family: HelveticaNeue-Light, &apos;Helvetica Neue Light&apos;, &apos;Helvetica Neue&apos;, Helvetica, Arial; display: block;"><a href="http://bluemixathon.devpost.com/" style="margin: 0px; padding: 0px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(0, 0, 0) !important; font-family: Arial, sans-serif; text-decoration: none;">Bluemixathon 挑战赛</a></h3><p style="margin-top: -2px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 70px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1em; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(76, 76, 76);">为灾难恢复构建应用，赢取现金大奖。</p></li></ul></div></div><div style="margin: 0px; padding: 0px 10px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; clear: both; overflow: hidden; width: 960px;"><div style="margin: 0px; padding: 0px 10px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: none; min-height: 1px; width: 940px; clear: both;"><p style="margin: 0px; padding: 6px 0px; border: 0px; outline: 0px; font-size: 1.166em !important; vertical-align: baseline; font-family: Arial, sans-serif; color: rgb(34, 34, 34); clear: both; text-align: right; height: 22px;"><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-android-build/#ibm-pcon" style="margin: 0px; padding: 0px 0px 0px 16px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: inherit; vertical-align: baseline; color: rgb(116, 82, 133); font-family: Arial, sans-serif; opacity: 0.8; display: inline; text-decoration: none; font-weight: bold; background-image: url(https://1.www.s81c.com/i/v17/icons/ibm_sprite_arrow_blue_ON.png) !important; background-position: 0px -401px; background-repeat: no-repeat;">回页首</a></p></div></div></div></div></div></div></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(rgb(221, 221, 221)), to(rgb(255, 255, 255)));"><div style="margin: 0px auto; padding: 16px 0px 24px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; width: 980px; min-height: 176px; background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(rgb(221, 221, 221)), to(rgb(255, 255, 255)));"><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif;"><div style="margin: 0px 0px 0px 21px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; width: 120px;"><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; margin: 0px; padding: 0px;"><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="https://www.ibm.com/developerworks/secure/feedback.jsp?domain=dwchina" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">帮助</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/cn/author/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">联系编辑</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="https://www.ibm.com/developerworks/secure/myideas2.jsp?domain=dwchina" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">提交内容</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/cn/rss/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">订阅源</a></li></ul></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; width: 160px;"><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; margin: 0px; padding: 0px;"><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/vrm/newsletter/10104?S_TACT=105AGX52&amp;S_CMP=dwcntop" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">在线浏览每周时事通讯</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://weibo.com/ibmdw/" style="margin: 0px; padding: 5px 5px 5px 21px; border-width: 0px; border-bottom-style: none; border-color: initial; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; display: block; font-weight: normal; text-decoration: none; opacity: 0.9 !important; background: url(https://dw1.s81c.com/developerworks/i/sina.png) 2px 4px no-repeat scroll transparent;" tabindex="0" target="_blank">新浪微博</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="https://www.ibm.com/developerworks/community/report?lang=zh" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">报告滥用</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="https://www.ibm.com/developerworks/community/terms?lang=zh" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">使用条款</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="https://www.ibm.com/developerworks/cn/community/terms/thirdparty/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">第三方提示</a></li></ul></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; width: 160px;"><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; margin: 0px; padding: 0px;"><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/privacy/cn/zh/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">隐私条约</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/ibm/accessibility/cn/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">浏览辅助</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/cn/academic/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">IBM 教育学院教育培养计划</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/cn/gep/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;">IBM 创业企业全球扶持计划</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/partnerworld/isv/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;">ISV 资源 (英语)</a></li></ul></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; width: 160px;"><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; margin: 0px; padding: 0px;"><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="https://www.ibm.com/developerworks/cn/newsletter/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">dW 中国每周时事通讯</a></li></ul></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left;"><ul style="border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; margin: 0px; padding: 0px;"><li style="margin: 4px 0px 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; font-family: arial, sans-serif; list-style-type: none; color: rgb(102, 102, 102); font-weight: bold; text-decoration: none;">选择语言：</li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">English</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/cn/" lang="zh" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">中文</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/jp/" lang="ja" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">日本語</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/ru/" lang="ru" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">Русский</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/br/" lang="pt" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">Português (Brasil)</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/ssa/" lang="es" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">Español</a></li><li style="margin: 0px; padding: 0px 0px 3px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; list-style-type: none;"><a href="http://www.ibm.com/developerworks/vn/" lang="vi" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: 0.7em; vertical-align: baseline; color: rgb(102, 102, 102); font-family: arial, sans-serif; font-weight: normal; text-decoration: none;" tabindex="0">Việt</a></li></ul></div><div style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-size: inherit; vertical-align: baseline; font-family: Arial, sans-serif; float: left; width: 100px;"><div><img src="理解 Android Build 系统 [2]_files/Image [27].png" type="image/png" alt="IBM®" height="46" style="cursor: default; height: auto;" width="223"/></div></div></div></div></div></div></span>
</div></body></html> 