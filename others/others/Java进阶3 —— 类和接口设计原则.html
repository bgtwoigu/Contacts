<html>
<head>
  <title>Java进阶3 —— 类和接口设计原则</title>
  <basefont face="Microsoft YaHei" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/301769 (zh-CN); Windows/6.3.9600 (Win64);"/>
  <style>
    body, td {
      font-family: Microsoft YaHei;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1355"/>
<h1>Java进阶3 —— 类和接口设计原则</h1>

<div>
<span><div style="box-sizing: border-box; position: relative; z-index: 3; color: rgb(51, 51, 51); font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><h1 style="box-sizing: border-box; font-size: 36px; margin: 0px; font-family: inherit; font-weight: 500; color: inherit; float: left;"><a href="https://segmentfault.com/" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; float: left; display: block; height: 54px; width: 188px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/logo-b.svg) 0% 50% / auto 32px no-repeat;">SegmentFault</a></h1><ul style="box-sizing: border-box; margin: 12px 0px 0px 23px; float: left !important; padding-left: 0px; list-style: none;"><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/questions" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">问答</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/blogs" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">文章</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/user/note" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">笔记</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/jobs" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">职位</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/events" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">活动</a></li></ul><ul style="box-sizing: border-box; margin: 12px 0px 0px; float: right !important; padding-left: 0px; list-style: none;"><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px; vertical-align: middle; color: rgb(102, 102, 102); width: 36px; height: 30px;"><a href="https://segmentfault.com/tour" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;" target="_blank"><span style="box-sizing: border-box; position: absolute; width: 1px; height: 1px; margin: -1px; padding: 0px; overflow: hidden; clip: rect(0px 0px 0px 0px); border: 0px;">消息</span></a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/user/login" style="box-sizing: border-box; color: rgb(255, 255, 255); text-decoration: none; outline: 0px; margin-left: 10px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; box-shadow: rgba(0, 0, 0, 0.2) 0px 1px 2px; background: rgb(0, 154, 97);">注册 · 登录</a></li></ul></div><div style="box-sizing: border-box; box-shadow: rgba(0, 0, 0, 0.239216) 0px 1px 2px 0px; color: rgb(51, 51, 51); font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(0, 95, 60);"><div style="box-sizing: border-box; margin-right: auto; margin-left: auto; padding-left: 15px; padding-right: 15px; width: 1140px;"><ul style="box-sizing: border-box; margin: 0px; height: 34px; overflow: hidden; list-style: none; padding: 0px;"><li style="box-sizing: border-box; display: inline-block; padding: 0px;"><a href="https://segmentfault.com/" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px 10px 10px 0px; white-space: nowrap; background: transparent;">home</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px;"><a href="https://segmentfault.com/timeline" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">feed</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px;"><a style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;"></a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/javascript" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">javascript</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/php" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">php</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/python" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">python</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/java" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">java</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/mysql" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">mysql</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/ios" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">ios</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/android" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">android</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/node.js" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">node.js</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/html5" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">html5</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/linux" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">linux</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/c%2B%2B" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">c++</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/css3" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">css3</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/git" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">git</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/golang" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">golang</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/ruby" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">ruby</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/vim" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">vim</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/docker" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">docker</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/mongodb" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">mongodb</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: absolute; top: 0px; right: 0px; height: 34px; width: 34px; background-color: rgb(0, 95, 60);"><a href="https://segmentfault.com/tags" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;"></a></li></ul></div></div><div style="box-sizing: border-box; padding-bottom: 30px; position: relative; color: rgb(51, 51, 51); font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding: 20px 0px; background: rgb(246, 246, 246);"><div style="box-sizing: border-box; margin-right: auto; margin-left: auto; padding-left: 15px; padding-right: 15px; width: 1140px;"><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 855px;"><span style="box-sizing: border-box; vertical-align: top; text-align: center; display: block; float: left; border: 1px solid rgb(0, 154, 97); border-radius: 50%; font-size: 16px; padding: 4px; width: 28px; height: 28px; color: rgb(0, 154, 97); font-weight: 400; margin-right: 10px; background: rgba(0, 154, 96, 0);">文</span><div style="box-sizing: border-box; color: rgb(153, 153, 153); margin-left: 40px; margin-bottom: -5px;"><h1 style="box-sizing: border-box; font-size: 24px; margin: 0px 0px 15px; font-family: inherit; font-weight: 500; color: inherit;"><a href="https://segmentfault.com/a/1190000004454893" style="box-sizing: border-box; color: rgb(51, 51, 51); text-decoration: none; outline: 0px; background: transparent;">Java进阶3 —— 类和接口设计原则</a></h1><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; display: inline-block; margin-right: 10px; list-style: none; padding: 0px; font-size: 0px;"><li style="box-sizing: border-box; margin-bottom: 5px; padding: 0px; font-size: 13px; display: inline-block; margin-right: 0px;"><a href="https://segmentfault.com/t/java/blogs" style="box-sizing: border-box; color: rgb(1, 126, 102); text-decoration: none; outline: 0px; display: inline-block; padding: 0px 8px; height: 24px; font-weight: 400; font-size: 13px; text-align: center; background: rgba(1, 126, 102, 0.0784314);">java</a></li></ul>
 
<div style="box-sizing: border-box; display: inline-block;"><a href="https://segmentfault.com/u/enjiex" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 5px; background: transparent;"><strong style="box-sizing: border-box; font-weight: 700;">牧曦之晨</strong></a> 2月18日发布</div></div></div><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 285px;"><ul style="box-sizing: border-box; margin: 0px; padding-left: 0px; list-style: none; color: rgb(153, 153, 153);"><li style="box-sizing: border-box; margin-top: 0px;"> <strong style="box-sizing: border-box; font-weight: 700; color: rgb(51, 51, 51);">0</strong> 推荐</li><li style="box-sizing: border-box; margin-top: 10px;"> <strong style="box-sizing: border-box; font-weight: 700; color: rgb(51, 51, 51);">13</strong> 收藏，<strong style="box-sizing: border-box; font-weight: 400; color: rgb(51, 51, 51);">409</strong> 浏览</li></ul></div></div></div></div><div style="box-sizing: border-box; margin-right: auto; margin-left: auto; padding-left: 15px; padding-right: 15px; width: 1140px; margin-top: 30px;"><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 855px;"><div style="box-sizing: border-box; word-wrap: break-word;"><blockquote style="box-sizing: border-box; padding: 10.5px 21px; margin: 0px 0px 1.5em; font-size: 1em; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(0, 154, 97); color: rgb(85, 85, 85); background: rgb(246, 246, 246);"><p style="box-sizing: border-box; margin: 0px;">原文链接：<a href="http://www.javacodegeeks.com/2015/09/how-to-design-classes-and-interfaces.html" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">http://www.javacodegeeks.com/2015/09/how-to-design-classes-and-interfaces.html</a></p></blockquote><p style="box-sizing: border-box; margin: 1.5em 0px;">本文是Java进阶课程的第三篇。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">本课程的目标是帮你更有效的使用Java。其中讨论了一些高级主题，包括对象的创建、并发、序列化、反射以及其他高级特性。本课程将为你的精通Java的旅程提供帮助。</p><h4 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px; font-size: 1.25em;">内容纲要</h4><ol style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px;"><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">引言</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">接口</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">标记性接口</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">函数式接口，默认方法及静态方法</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">抽象类</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">不可变类</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">匿名类</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">可见性</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">继承</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">多重继承</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">继承与组合</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">封装</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">Final类和方法</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">源码下载</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">下章概要</a></p></li></ol><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">引言</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">不管使用哪种编程语言(Java也不例外)，遵循好的设计原则是你编写干净、易读、易测试代码的关键，并且在程序的整个生命周期中，可提高后期的可维护性。在本章中，我们将从Java语言提供的基础构造模块开始，并引入一组有助于你设计出优秀结构的设计原则。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">具体包括：<strong style="box-sizing: border-box; font-weight: 700;">接口</strong>和<strong style="box-sizing: border-box; font-weight: 700;">接口的默认方法</strong>(Java 8新特性)，<strong style="box-sizing: border-box; font-weight: 700;">抽象类</strong>、<strong style="box-sizing: border-box; font-weight: 700;">final类</strong>和<strong style="box-sizing: border-box; font-weight: 700;">不可变类</strong>，<strong style="box-sizing: border-box; font-weight: 700;">继承</strong>和<strong style="box-sizing: border-box; font-weight: 700;">组合</strong>以及在<a href="https://segmentfault.com/a/1190000004390247" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">对象的创建与销毁</a>中介绍过的<strong style="box-sizing: border-box; font-weight: 700;">可见性</strong>(访问控制)规则。</p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">接口</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">在面向对象编程中，接口构成了基于契约的开发过程的基础组件。简而言之，接口定义了一组方法(契约)，每个支持该接口的具体类都必须提供这些方法的实现。这是开发过程中一种简单却强有力的理念。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">很多编程语言有一种或多种接口实现形式，而Java语言则提供了语言级的支持。下面简单看一下Java中的接口定义形式：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.design;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">interface</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">SimpleInterface</span> </span>{
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">performAction</span><span style="box-sizing: border-box;">()</span></span>;
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">在上面的代码片段中，命名为<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">SimpleInterface</code>的接口只定义了一个方法<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">performAction</code>。接口与类的主要区别就在于接口定义了约定(声明方法)，但不为他们提供具体实现。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">在Java中，接口的用法非常丰富：可以嵌套包含其他接口、类、枚举和注解(枚举和注解将在<strong style="box-sizing: border-box; font-weight: 700;">枚举和注解的使用</strong>中介绍)以及常量，如下：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.design;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">interface</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">InterfaceWithDefinitions</span> </span>{
    String CONSTANT = <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;CONSTANT&quot;</span>;

    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">enum</span> InnerEnum {
        E1, E2;
    }

    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">InnerClass</span> </span>{
    }

    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">interface</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">InnerInterface</span> </span>{
        <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">performInnerAction</span><span style="box-sizing: border-box;">()</span></span>;
    }

    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">performAction</span><span style="box-sizing: border-box;">()</span></span>;
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">针对上面的复杂场景，Java编译器强制为嵌套的类对象构造和方法声明提供了一组隐式的要求。首当其冲的便是接口中的每个声明必须是<strong style="box-sizing: border-box; font-weight: 700;">public</strong>(即便不指定也是<strong style="box-sizing: border-box; font-weight: 700;">public</strong>，并且不能设置为非<strong style="box-sizing: border-box; font-weight: 700;">public</strong>，详细规则可参考<a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">可见性</a>部分介绍)。所以下面代码中的用法与上面看到的声明是等价的：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">performAction</span><span style="box-sizing: border-box;">()</span></span>;
<span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">performAction</span><span style="box-sizing: border-box;">()</span></span>; </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">另外，接口中定义的每个方法都被默认声明为<strong style="box-sizing: border-box; font-weight: 700;">abstract</strong>的，所以下面的声明都是等价的：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">abstract</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">performAction</span><span style="box-sizing: border-box;">()</span></span>;
<span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">performAction</span><span style="box-sizing: border-box;">()</span></span>;
<span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">performAction</span><span style="box-sizing: border-box;">()</span></span>; </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">对于常量字段，除了隐式的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">public</code>外，也被加上了<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">static</code>和<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">final</code>修饰，所以下面的声明也是等价的：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;">String CONSTANT = <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;CONSTANT&quot;</span>;
<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">static</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> String CONSTANT = <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;CONSTANT&quot;</span>; </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">对于嵌套的类、接口或枚举的定义，也隐式的声明为<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">static</code>的，所以下面的声明也是等价的：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">InnerClass</span> {
}

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">static</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">InnerClass</span> {
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">根据个人偏好可以使用任意的声明风格，不过了解上面的约定倒是可以减少一些不必要的代码编写。</p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">标记性接口</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">标记性接口是接口的一种特殊形式：即没有任何方法或其他嵌套定义。在<a href="https://segmentfault.com/a/1190000004420059" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">使用Object的通用方法</a>章节中我们已经见过这种接口：<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Cloneable</code>，下面是它的定义：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">interface</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">Cloneable</span> {
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">标记性接口并不像普通接口声明一些契约，但却为类“附加”或&quot;绑定&quot;特定的特性提供了支持。例如对于<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Cloneable</code>，实现了此接口的类就会被认为具有克隆的能力，尽管如何克隆并未在<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Cloneable</code>中定义。另外一个广泛使用的标记性接口是<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Serializable</code>：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">interface</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">Serializable</span> {
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">这个接口声明类可以被序列化或反序列化，同样它并未指定序列化过程中使用的方法。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">尽管标记性接口并不满足接口作为契约的主要用途，不过在面向对象设计过程种仍然有一定的用武之地。</p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">函数式接口，默认方法及静态方法</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">伴随着<a href="http://www.javacodegeeks.com/2014/05/java-8-features-tutorial.html" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">Java 8的发布</a>，接口被赋予了新的能力：静态方法、默认方法以及从lambda表达式的自动转换(函数式接口)。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">在上面的<a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">接口</a>部分，我们强调过在Java中接口只能作为声明但不能提供任何实现。但默认方法打破了这一原则：在接口中可以为<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">default</code>标记的方法提供实现，如下：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.design;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">interface</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">InterfaceWithDefaultMethods</span> </span>{
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">performAction</span><span style="box-sizing: border-box;">()</span></span>;

    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">default</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">performDefaulAction</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Implementation here</span>
    }
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">从对象实例层次看，默认方法可被任何的接口实现者重载；除此之外，接口还提供了另外的静态方法，如下：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.design;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">interface</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">InterfaceWithDefaultMethods</span> </span>{
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">static</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">createAction</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Implementation here</span>
    }
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">也许你会认为在接口中提供实现违背了基于契约的开发过程，不也你也可以列出很多Java把这些特性引入其中的理由。不管是带来了帮助还是困扰，它们已然存在，你也可以使用它们。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">函数式接口有着不同的场景，并被认为是对编程语言的一种强大的扩展。本质上，函数式接口也是接口，不过包含一个抽象的方法声明。Java 标准库中的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Runnable</code>接口就是这种理念的绝佳范例：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box;">@FunctionalInterface</span><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">interface</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Runnable</span> </span>{
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">run</span><span style="box-sizing: border-box;">()</span></span>;
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">Java 编译器在处理函数式接口时有所不同，并能把lamdba表达式转化为函数式接口的实现。我们先看一下下面方法的定义：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">runMe</span><span style="box-sizing: border-box;">( <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> Runnable r )</span> </span>{
    r.run();
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">在Java 7及以前的版本中，必须要提供<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Runnable</code>接口的具体实现(例如使用<a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">匿名类</a>)，但在Java 8中却可以通过传递lambda表达式来运行<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">run()</code>方法：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: initial; overflow-wrap: normal; word-break: break-word; background: none;">runMe( <span style="box-sizing: border-box;"><span style="box-sizing: border-box;">()</span> -&gt;</span> System.out.println( <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;Run!&quot;</span> ) );</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">最后，可以使用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">@FunctionalInterfact</code>注解(注解会在<strong style="box-sizing: border-box; font-weight: 700;">枚举和注解的使用</strong>章节进行详细介绍)告知编译器以在编译阶段验证函数式接口中仅包含了一个抽象方法声明，从而保证未来任何变更的引入不会破坏该接口的函数式特性。</p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">抽象类</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">抽象类是Java 语言支持的另外一个有趣的主题。抽象类与Java 7中的接口有些类似，与Java 8中支持默认方法的接口更为相像。不同于普通类，抽象类不能实例化，但可以被<a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">继承</a>。更重要的是，抽象类能包含抽象方法：一种没有定义实现的特殊方法，类似于接口中的方法声明，如下：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.design;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">abstract</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">SimpleAbstractClass</span> </span>{
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">performAction</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Implementation here</span>
    }

    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">abstract</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">performAnotherAction</span><span style="box-sizing: border-box;">()</span></span>;
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">在上述例子中，<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">SimpleAbstractClass</code>类被声明为<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">abstract</code>，并且包含了一个<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">abstract</code>方法。当类有部分实现可被子类共享时，抽象类就变得特别有用，因为它还为子类对抽象方法的定制实现提供了支持入口。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">另外，抽象类与接口还有一点不同在于接口只能提供<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">public</code>的声明，而抽象类可使用所有的访问控制规则来支持方法的<a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">可见性</a>。</p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">不可变类</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">不可变性在现代软件开发中的地位日益显著。随着多核系统的发展，随之而来引入了大量并发与数据共享的问题(<strong style="box-sizing: border-box; font-weight: 700;">并发最佳实践</strong>中会详细介绍并发相关主题)。但有一个理念是明确的：系统的可变状态越少(甚至不可变)，扩展性和可维护性就越高。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">遗憾的是，Java并未从语言特性上提供强大的不可变性支持。尽管如此，使用一些开发技巧依然能设计出不可变的类和系统。首先要保证类的所有字段均设置为<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">final</code>，当然这只是一个好的开始，你并不能单纯的通过<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">final</code>就完全保证不可变性：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.design;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">import</span> java.util.Collection;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">ImmutableClass</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">long</span> id;
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> String[] arrayOfStrings;
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> Collection&lt; String &gt; collectionOfString;
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">其次，遵循良好的初始化规则：如果字段声明的是集合或数组，不要直接通过构造方法的参数进行赋值，而是使用数据复制，从而保证集合或数组的状态不受外界的变化而改变：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">ImmutableClass</span><span style="box-sizing: border-box;">( <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">long</span> id, <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> String[] arrayOfStrings,
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> Collection&lt; String &gt; collectionOfString)</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">this</span>.id = id;
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">this</span>.arrayOfStrings = Arrays.copyOf( arrayOfStrings, arrayOfStrings.length );
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">this</span>.collectionOfString = <span style="box-sizing: border-box; color: rgb(133, 153, 0);">new</span> ArrayList&lt;&gt;( collectionOfString );
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">最后，提供合适的数据获取手段(getters)。对于集合数据， 应该使用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Collections.unmodifiableXxx</code>获取集合的不可变视图：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> Collection&lt;String&gt; <span style="box-sizing: border-box; color: rgb(38, 139, 210);">getCollectionOfString</span><span style="box-sizing: border-box;">()</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> Collections.unmodifiableCollection( collectionOfString );
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">对于数组，唯一能保证不可变性的方式只有逐一复制数组中的元素到新数组而不是直接返回原数组的引用。不过有些时候这种做法可能不切实际，因为过大的数组复制将会为增加垃圾回收的开销。</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> String[] getArrayOfStrings() {
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> Arrays.copyOf( arrayOfStrings, arrayOfStrings.length );
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">尽管上面的例子提供了一些示范，然而不可变性依然不是Java中的一等公民。当不可变类的字段引用了其他类的实例时，情况可能会变得更加复杂。其他类也应该保证不可变，然而并没有简单有效的途径进行保证。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">有一些优秀的Java源码分析工具，像<a href="http://findbugs.sourceforge.net/" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">FindBugs</a> 和 <a href="http://pmd.sourceforge.net/" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">PMD</a>能帮助你分析代码并找出常见的Java代码编写缺陷。对于任何一个程序员，这些工具都应当成为你的好帮手。</p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">匿名类</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">在Java 8之前，匿名类是实现在类定义的地方一并完成实例化的唯一方式。匿名类的目的是减少不必要的格式代码，并以简捷的方式把类表示为表达式。下面看下Java中典型的创建线程的方式：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.design;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">AnonymousClass</span> </span>{
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">static</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">main</span><span style="box-sizing: border-box;">( String[] args )</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">new</span> Thread(
            <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Example of creating anonymous class which implements</span>
            <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Runnable interface</span>
            <span style="box-sizing: border-box; color: rgb(133, 153, 0);">new</span> Runnable() {
                <span style="box-sizing: border-box;">@Override</span>
                <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">run</span><span style="box-sizing: border-box;">()</span> </span>{
                    <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Implementation here</span>
                }
            }
        ).start();
    }
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">在上例中，需要<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Runnable</code>接口的地方使用了匿名类的实例。尽管使用匿名类时有一些限制，然而其最大的缺点在于Java 语法强加给的烦杂语法。即便实现一个最简单的匿名类，每次也都需要至少5行代码来完成：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">new</span> Runnable() {
   <span style="box-sizing: border-box;">@Override</span>
   <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">run</span><span style="box-sizing: border-box;">()</span> </span>{
   }
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">好在 Java 8中的lambda表达式和函数式接口消除了这些语法上的固有代码，使得Java代码可以变的更酷：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.design;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">AnonymousClass</span> </span>{
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">static</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">main</span><span style="box-sizing: border-box;">( String[] args )</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">new</span> Thread( () -&gt; { <span style="box-sizing: border-box; color: rgb(147, 161, 161);">/* Implementation here */</span> } ).start();
    }
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">可见性</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">我们在<a href="https://segmentfault.com/a/1190000004390247" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">对象的创建与销毁</a>章节中已经学习过Java中的可见性与可访问性的概念，本部分我们回过头看看父类中定义的访问修饰符在子类里的可见性：</p><div style="box-sizing: border-box; overflow-x: auto;"><table style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; margin: 1.5em 0px; width: 825px; background-color: transparent;"><thead style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><th style="box-sizing: border-box; padding: 5px 8px; text-align: left; border: 1px solid rgb(230, 230, 230); word-break: normal; background: rgb(243, 243, 243);">修饰符</th><th style="box-sizing: border-box; padding: 5px 8px; text-align: left; border: 1px solid rgb(230, 230, 230); word-break: normal; background: rgb(243, 243, 243);">包可见性</th><th style="box-sizing: border-box; padding: 5px 8px; text-align: left; border: 1px solid rgb(230, 230, 230); word-break: normal; background: rgb(243, 243, 243);">子类可见性</th><th style="box-sizing: border-box; padding: 5px 8px; text-align: left; border: 1px solid rgb(230, 230, 230); word-break: normal; background: rgb(243, 243, 243);">公开可见性</th></tr></thead><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">public</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">可见</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">可见</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">可见</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">protected</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">可见</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">可见</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;"><strong style="box-sizing: border-box; font-weight: 700;">不可见</strong></td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">&lt;无修饰符&gt;</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">可见</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;"><strong style="box-sizing: border-box; font-weight: 700;">不可见</strong></td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;"><strong style="box-sizing: border-box; font-weight: 700;">不可见</strong></td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">private</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;"><strong style="box-sizing: border-box; font-weight: 700;">不可见</strong></td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;"><strong style="box-sizing: border-box; font-weight: 700;">不可见</strong></td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;"><strong style="box-sizing: border-box; font-weight: 700;">不可见</strong></td></tr></tbody></table></div><p style="box-sizing: border-box; margin: 1.5em 0px;"><strong style="box-sizing: border-box; font-weight: 700;">表 1</strong></p><p style="box-sizing: border-box; margin: 1.5em 0px;">不同的可见性级别限制了类或接口对其他类(例如不同的包或嵌套的包中的类)的可见性，也控制着子类对父类中定义的方法、函数方法及字段的可见与可访问性。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">在接下面的<a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">继承</a>，我们会看到父类中的定义对子类的可见性。</p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">继承</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">继承是面向对象编程的核心概念之一，也是构造类的关系的基础。凭借着类的可见性与可访问性规则，通过继承可实现易扩展和维护的类层次关系。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">语法上，Java 中实现继承的方式是通过<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">extends</code>关键字后跟着父类名实现的。子类从父类中继承所有public和protected的成员，如果子类与父类处于同一个包中，子类也将会继承只有包访问权限的成员。不过话说回来，在设计类时，应保持具有最少的公开方法或能被子类继承的方法。下面通过<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Parent</code>类和<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Child</code>类来说明不同的可见性及达到的效果：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.design;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Parent</span> </span>{
    <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Everyone can see it</span>
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">static</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> String CONSTANT = <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;Constant&quot;</span>;

    <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// No one can access it</span>
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> String privateField;
    <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Only subclasses can access it</span>
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">protected</span> String protectedField;

    <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// No one can see it</span>
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">PrivateClass</span> </span>{
    }

    <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Only visible to subclasses</span>
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">protected</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">interface</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">ProtectedInterface</span> </span>{
    }

    <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Everyone can call it</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">publicAction</span><span style="box-sizing: border-box;">()</span> </span>{
    }

    <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Only subclass can call it</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">protected</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">protectedAction</span><span style="box-sizing: border-box;">()</span> </span>{
    }

    <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// No one can call it</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">privateAction</span><span style="box-sizing: border-box;">()</span> </span>{
    }

    <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Only subclasses in the same package can call it</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">packageAction</span><span style="box-sizing: border-box;">()</span> </span>{
    }
}</code></pre><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.design;

<span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Resides in the same package as parent class</span><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Child</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">extends</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Parent</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">implements</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Parent</span>.<span style="box-sizing: border-box; color: rgb(181, 137, 0);">ProtectedInterface</span> </span>{
    <span style="box-sizing: border-box;">@Override</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">protected</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">protectedAction</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Calls parent's method implementation</span>
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">super</span>.protectedAction();
    }

    <span style="box-sizing: border-box;">@Override</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">packageAction</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Do nothing, no call to parent's method implementation</span>
    }

    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">childAction</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">this</span>.protectedField = <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;value&quot;</span>;
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">继承本身就是一个庞大的主题， 在Java语言中也制定了一系列精细的规范。尽管如此，还是有一些易于遵循的原则帮助你实现精练的类层次结构。在Java中，子类可以重载从父类中继承过来的任意非<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">final</code>方法(final的概念参见<a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">Final类和方法</a>)。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">然而，起初在Java中并没有特定的语法或关键字标识方法是否是重载了的，这常常会给代码的编写引入混淆。因此后来引入了<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">@Override</code>注解用于解决这个问题：当你确实是在重载继承来的方法时，请使用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">@Override</code>注解进行标记。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">另外一个Java开发者经常需要权衡的问题在设计系统时使用类继承(具体类或抽象类)还是接口实现。这个建议就是优先选择接口实现而非继承。因为接口更为轻量，易于测试(通过接口mock)和维护，并能降低修改实现所带来的副作用。很多优秀的编程技术都偏向于依赖接口为标准Java库创建代理。</p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">多重继承</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">不同于C++或其他编程语言，Java并不支持多重继承：Java中的每个类最多只能有一个直接的父类(在<a href="https://segmentfault.com/a/1190000004420059" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">使用Object的通用方法</a>中我们知道<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Object</code>类处于继承层次的顶端)。然而Java中的类可以实现多个接口，所以实现多个接口是Java中达到多重继承效果的唯一途径。</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.design;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">MultipleInterfaces</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">implements</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Runnable</span>, <span style="box-sizing: border-box; color: rgb(181, 137, 0);">AutoCloseable</span> </span>{
    <span style="box-sizing: border-box;">@Override</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">run</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Some implementation here</span>
    }

    <span style="box-sizing: border-box;">@Override</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">close</span><span style="box-sizing: border-box;">()</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">throws</span> Exception </span>{
       <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Some implementation here</span>
    }
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">尽管实现多个接口的方式非常强大，但有时为了更好的重用某个接口的实现，你不得不通过更深的类继承层次以达到多重继承的效果：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">A</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">implements</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Runnable</span> </span>{
    <span style="box-sizing: border-box;">@Override</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">run</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Some implementation here</span>
    }
}</code></pre><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Class B wants to inherit the implementation of run() method from class A.</span><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">B</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">extends</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">A</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">implements</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">AutoCloseable</span> </span>{
    <span style="box-sizing: border-box;">@Override</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">close</span><span style="box-sizing: border-box;">()</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">throws</span> Exception </span>{
       <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Some implementation here</span>
    }
}</code></pre><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Class C wants to inherit the implementation of run() method from class A</span><span style="box-sizing: border-box; color: rgb(147, 161, 161);">// and the implementation of close() method from class B.</span><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">C</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">extends</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">B</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">implements</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Readable</span> </span>{
    <span style="box-sizing: border-box;">@Override</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">int</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">read</span><span style="box-sizing: border-box;">(java.nio.CharBuffer cb)</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">throws</span> IOException </span>{
       <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Some implementation here</span>
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">Java中引入的默认方法在一定程序上解决了类继承层次过深的问题。随着默认方法的引入，接口便不只是提供方法声明约束，同时还可以提供默认的方法实现。相应的，实现了此接口的类也顺带着继承了接口中实现的方法。示例如下：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.design;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">interface</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">DefaultMethods</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">extends</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Runnable</span>, <span style="box-sizing: border-box; color: rgb(181, 137, 0);">AutoCloseable</span> </span>{
    <span style="box-sizing: border-box;">@Override</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">default</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">run</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Some implementation here</span>
    }

    <span style="box-sizing: border-box;">@Override</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">default</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">close</span><span style="box-sizing: border-box;">()</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">throws</span> Exception </span>{
       <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Some implementation here</span>
    }
}

<span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Class C inherits the implementation of run() and close() methods from the</span><span style="box-sizing: border-box; color: rgb(147, 161, 161);">// DefaultMethods interface.</span><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">C</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">implements</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">DefaultMethods</span>, <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Readable</span> </span>{
    <span style="box-sizing: border-box;">@Override</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">int</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">read</span><span style="box-sizing: border-box;">(java.nio.CharBuffer cb)</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">throws</span> IOException </span>{
       <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Some implementation here</span>
    }
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">多重继承虽然很强大，却也是个危险的工具。众所周知的&quot;<a href="https://en.wikipedia.org/wiki/Multiple_inheritance#The_diamond_problem" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">死亡钻石(Diamond of Death)</a>&quot;就常作为多重继承的主要缺陷被提及，所以开发者在设计类继承关系时务必多加小心。凑巧Java 8接口规范里的默认方法也同样成了死亡钻石的牺牲品。</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">interface</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">A</span> </span>{
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">default</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">performAction</span><span style="box-sizing: border-box;">()</span> </span>{
    }
}

<span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">interface</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">B</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">extends</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">A</span> </span>{
    <span style="box-sizing: border-box;">@Override</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">default</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">performAction</span><span style="box-sizing: border-box;">()</span> </span>{
    }
}

<span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">interface</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">C</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">extends</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">A</span> </span>{
    <span style="box-sizing: border-box;">@Override</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">default</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">performAction</span><span style="box-sizing: border-box;">()</span> </span>{
    }
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">根据上面的定义，下面的接口E将会编译失败：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(147, 161, 161);">// E is not compilable unless it overrides performAction() as well</span><span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">interface</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">E</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">extends</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">B</span>, <span style="box-sizing: border-box; color: rgb(181, 137, 0);">C</span> </span>{
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">坦白的说，作为面向对象编程语言，Java一向都在尽力避免一些极端场景。然而避免语言本身的发展，这些极端场景也逐渐暴露。</p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">继承与组合</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">好在继承并非设计类的关系的唯一方式。组合是另外一种被大多开发者认为优于继承的设计方法。其主旨也相当简单：取代层次结构，类应该由其他类组合而来。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">先看一个简单的例子：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">Vehicle</span> {
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> Engine engine;
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> Wheels[] wheels;
    <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// ...</span>
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Vehicle</code>类由<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">engine</code>和<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">wheels</code>组成(简单起见，忽略了其他的组成部分)。<br style="box-sizing: border-box;"/>
不过也有人会说<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Vehicle</code>也是一个engine，因此应该使用继承的方式：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Vehicle</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">extends</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Engine</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> Wheels[] wheels;
    <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// ...</span>
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">到底哪种设计才是正确的呢？业界通用的原则分别称之为<strong style="box-sizing: border-box; font-weight: 700;">IS-A</strong>和<strong style="box-sizing: border-box; font-weight: 700;">HAS-A</strong>规则。<strong style="box-sizing: border-box; font-weight: 700;">IS-A</strong>代表的是继承关系：子类满足父类的规则，从而是父类的<strong style="box-sizing: border-box; font-weight: 700;">一个(IS-A)</strong>变量。与之相反，<strong style="box-sizing: border-box; font-weight: 700;">HAS-A</strong>代表的是组合关系：类<strong style="box-sizing: border-box; font-weight: 700;">拥有(HAS-A)</strong>属于它的对象。通常，<strong style="box-sizing: border-box; font-weight: 700;">HAS-A</strong>优于<strong style="box-sizing: border-box; font-weight: 700;">IS-A</strong>，原因如下：</p><ul style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px;"><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;">设计更灵活，便于以后的变更</p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;">模型更稳定，变化不会随着继承关系扩散</p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;">依赖更松散，而继承把父类与子类紧紧的绑在了一起</p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;">代码更易读，类所有的依赖都被包含在类的成员声明里</p></li></ul><p style="box-sizing: border-box; margin: 1.5em 0px;">尽管如此，继承也有自己的用武之地，在解决问题时不应被忽略。在设计面向对象模型时，要时刻记着组合和继承这两种设计方法，尽可能多些尝试以做出最优选择。</p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">封装</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">在面向对象编程中，封装的含义就是把细节(像状态、内部方法等)隐藏于内部而不暴露于实现之外。封装带来的好处就是提高了可维护性，并便于将来的变更。越少的细节暴露，就会带来越多的未来变更实现的控制权，而不用担心破坏其他代码(如果你是一位代码库或框架的开发者，一定会遇到这种情景)。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">在Java语言中，封装是通过可见性和可访问性规则实现的。公认的优秀实践就是从不直接暴露类的字段，而是通过setter(如果字段没有声明为<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">final</code>)和getter的方式来访问它。请看下面的例子：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.design;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Encapsulation</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> String email;
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> String address;

    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">Encapsulation</span><span style="box-sizing: border-box;">( <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> String email )</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">this</span>.email = email;
    }

    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> String <span style="box-sizing: border-box; color: rgb(38, 139, 210);">getAddress</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> address;
    }

    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">setAddress</span><span style="box-sizing: border-box;">(String address)</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">this</span>.address = address;
    }

    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> String <span style="box-sizing: border-box; color: rgb(38, 139, 210);">getEmail</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> email;
    }
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">类似例子中定义的类，在Java中称作<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">JavaBeans</code>：遵循&quot;只能以setter和getter方法的方式暴露允许外部方法的字段&quot;规则的普通Java类。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">如我们在<a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">继承</a>部分强调过的，遵守封装原则，把公开的信息最小化。不需要<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">public</code>的时候， 要使用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">private</code>替代(或者<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">protected</code>/<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">package</code>/<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">private</code>，取决于具体的问题场景)。在将来的维护过程，你会得到回报：带给你足够的自由来优化设计而不会引入破坏性的变更(或者说对外部的变更达到最小化)。</p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">Final 类和方法</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">在Java中，有一种方式能阻止类被其他类继承：把类声明为<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">final</code>。</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.design;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">FinalClass</span> </span>{
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">final</code>修饰在方法上时，也能达到阻止方法被重载的效果：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.design;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">FinalMethod</span> </span>{
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">performAction</span><span style="box-sizing: border-box;">()</span> </span>{
    }
} </code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">是否应该使用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">final</code>修饰类或方法并无定论。Final的类和方法一定程度上会限制扩展性，并且在设计之初很难判断类是否会被继承、方法是否能被重载。对于类库开发者，尤其值得注意，使用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">final</code>可能会严重影响类库的适用性。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">Java标准库中有一些<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">final</code>类的例子，例如众所周知的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">String</code>类。在很早时候，就把<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">String</code>设计成了<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">final</code>，从而避免了开发者们自行设计的好坏不一的字符串实现。</p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">源码下载</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">可以从这里下载本文中的源码：<a href="http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/uploads/2015/09/advanced-java-part-3.zip" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">advanced-java-part-3</a></p><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">下章概要</h2><p style="box-sizing: border-box; margin: 1.5em 0px 0px;">在本章节中，我们学习了Java中的面向对象设计的概念。同时简单介绍了基于契约的开发方式，涉及了一些函数式编程概念，也看到了编程语言随着时间的演进。在下一章中，我们将会学习到泛型编程，以及如何实现类型安全的编程。</p></div><div style="box-sizing: border-box; margin-top: 10px;"><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10.5px; float: left !important; padding-left: 0px; list-style: none; margin-left: -5px;"><li style="box-sizing: border-box; display: inline-block; padding-left: 5px; padding-right: 5px;"><a href="https://segmentfault.com/a/1190000004454893" style="box-sizing: border-box; color: rgb(119, 119, 119); text-decoration: none; outline: 0px; background: transparent;">2月18日发布</a></li></ul></div><div style="box-sizing: border-box; text-align: center; margin-top: 10px;"> </div><div style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); margin-top: 40px; margin-bottom: 30px; padding-top: 30px;"><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 570px;"><h4 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin-top: 0px; margin-bottom: 10.5px; font-size: 18px;">你可能感兴趣的文章</h4><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10.5px; padding-left: 0px; list-style: none;"><li style="box-sizing: border-box; margin-bottom: 8px;"><a href="https://segmentfault.com/a/1190000004288471" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 6px; word-break: break-word; background: transparent;" title="深入理解JavaScript系列9:S.O.L.I.D五大原则之接口隔离原则">深入理解JavaScript系列9:S.O.L.I.D五大原则之接口隔离原则</a> <small style="box-sizing: border-box; font-size: 13px; color: rgb(119, 119, 119); display: inline-block;">2 收藏，142 浏览</small></li><li style="box-sizing: border-box; margin-bottom: 8px;"><a href="https://segmentfault.com/a/1190000000691175" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 6px; word-break: break-word; background: transparent;" title="设计模式六大原则">设计模式六大原则</a> <small style="box-sizing: border-box; font-size: 13px; color: rgb(119, 119, 119); display: inline-block;">8 收藏，1.3k 浏览</small></li><li style="box-sizing: border-box; margin-bottom: 8px;"><a href="https://segmentfault.com/a/1190000002560729" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 6px; word-break: break-word; background: transparent;" title="设计模式学习笔记之适配器、命令、外观模式">设计模式学习笔记之适配器、命令、外观模式</a> <small style="box-sizing: border-box; font-size: 13px; color: rgb(119, 119, 119); display: inline-block;">829 浏览</small></li></ul></div><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 284.984px;"><div style="box-sizing: border-box;"><div style="box-sizing: border-box; color: rgb(119, 119, 119);">本文采用 <a href="http://creativecommons.org/licenses/by/3.0/cn" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">知识共享署名 3.0 中国大陆许可协议</a>，可自由转载、引用，但需署名作者且注明文章出处 。</div></div></div></div></div><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin-top: 10.5px; margin-bottom: 15px; font-size: 18px; padding-top: 20px; border-top-width: 2px; border-top-style: solid; border-top-color: rgb(204, 204, 204);">讨论区</h2><div style="box-sizing: border-box; list-style: none; margin: 0px 0px 15px; font-size: 13px; color: rgb(102, 102, 102); padding: 10px; border-radius: 2px; background-color: rgb(246, 246, 246);"><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 835px;">请先 <a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">登录</a> 后评论</div></div></div></div><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 285px;"><div style="box-sizing: border-box;"><div style="box-sizing: border-box;"><ins style="box-sizing: border-box;"><a href="https://sponsor.segmentfault.com/ck.php?oaparams=2__bannerid=8__zoneid=2__cb=2a654bd067__oadest=http%3A%2F%2Fclick.aliyun.com%2Fm%2F4199%2F" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank"><img border="0" height="165" src="https://sf-sponsor.b0.upaiyun.com/ffac41177fb10928e7400657819f00a0.jpg" style="box-sizing: border-box; border: 0px; vertical-align: middle; margin-bottom: 25px;" width="255"></img></a><div style="box-sizing: border-box; position: absolute; left: 0px; top: 0px; visibility: hidden;"><ins style="box-sizing: border-box;"><ins style="box-sizing: border-box;"><img height="0" src="https://sponsor.segmentfault.com/lg.php?bannerid=8&amp;campaignid=1&amp;zoneid=2&amp;loc=https%3A%2F%2Fsegmentfault.com%2Fa%2F1190000004454893&amp;referer=http%3A%2F%2Fweibo.com%2F1746493725%2Fprofile%3Ftopnav%3D1%26wvr%3D6%26is_all%3D1%26sudaref%3Dpassport.weibo.com&amp;cb=2a654bd067" style="box-sizing: border-box; border: 0px; vertical-align: middle; width: 0px; height: 0px;" width="0"></img></ins></ins></div></ins></div></div><div style="box-sizing: border-box; margin: 0px 0px 25px; padding-top: 0px; border: none;"><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(119, 119, 119);">本文隶属于专栏</p><h4 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin-top: 10.5px; margin-bottom: 10.5px; font-size: 16px;"><a href="https://segmentfault.com/blog/utopiar" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">牧曦之晨</a></h4><p style="box-sizing: border-box; margin: 0px 0px 10.5px; word-break: break-word;">Life is too short to wait !</p><div style="box-sizing: border-box;"><a href="https://segmentfault.com/u/enjiex" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; background: transparent;"><img alt="牧曦之晨" src="https://sfault-avatar.b0.upaiyun.com/331/867/3318674943-56b963b872cdc_big64" style="box-sizing: border-box; border: 0px; vertical-align: middle; border-radius: 50%; width: 40px; height: 40px; float: left; margin-right: 10px;"></img><span style="box-sizing: border-box;">牧曦之晨</span></a><span style="box-sizing: border-box; color: rgb(119, 119, 119);">作者</span></div></div><div style="box-sizing: border-box; margin: 0px 0px 25px; padding-top: 25px; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(238, 238, 238);"><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 0px 0px 20px; font-size: 16px;">系列文章</h2><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10.5px; padding-left: 0px; list-style: none;"><li style="box-sizing: border-box; margin-bottom: 8px;"><a href="https://segmentfault.com/a/1190000004390247" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 6px; word-break: break-word; background: transparent;" title="Java进阶1 —— 对象的创建与销毁">Java进阶1 —— 对象的创建与销毁</a><small style="box-sizing: border-box; font-size: 13px; color: rgb(119, 119, 119); display: inline-block;">20 收藏， 695 浏览</small></li><li style="box-sizing: border-box; margin-bottom: 8px;"><a href="https://segmentfault.com/a/1190000004420059" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 6px; word-break: break-word; background: transparent;" title="Java进阶2 —— 使用Object的通用方法">Java进阶2 —— 使用Object的通用方法</a><small style="box-sizing: border-box; font-size: 13px; color: rgb(119, 119, 119); display: inline-block;">17 收藏， 392 浏览</small></li></ul></div><div style="box-sizing: border-box; margin-bottom: 20px;"><div style="box-sizing: border-box; margin-bottom: 10px;">分享扩散：</div><div style="box-sizing: border-box; float: left; color: rgb(153, 153, 153); font-size: 13px; display: block;"><ul style="box-sizing: border-box; margin: 0px; list-style: none; display: inline; padding: 0px; vertical-align: text-bottom;"><li style="box-sizing: border-box; display: inline-block; margin-right: 5px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: inline-block; width: 28px; height: 28px; vertical-align: middle; border-radius: 2px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/social-icons/icon-sn.svg) -56px -28px / auto 56px no-repeat transparent;">新浪微博</a></li><li style="box-sizing: border-box; display: inline-block; margin-right: 5px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: inline-block; width: 28px; height: 28px; vertical-align: middle; border-radius: 2px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/social-icons/icon-sn.svg) -252px -28px / auto 56px no-repeat transparent;">微信</a></li><li style="box-sizing: border-box; display: inline-block; margin-right: 5px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: inline-block; width: 28px; height: 28px; vertical-align: middle; border-radius: 2px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/social-icons/icon-sn.svg) -112px -28px / auto 56px no-repeat transparent;">Twitter</a></li><li style="box-sizing: border-box; display: inline-block; margin-right: 5px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: inline-block; width: 28px; height: 28px; vertical-align: middle; border-radius: 2px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/social-icons/icon-sn.svg) -140px -28px / auto 56px no-repeat transparent;">Facebook</a></li></ul></div><a style="box-sizing: border-box; color: rgb(255, 255, 255); text-decoration: none; outline: 0px; display: inline-block; margin-bottom: 0px; font-weight: 400; text-align: center; vertical-align: middle; cursor: pointer; border: none; white-space: nowrap; padding: 0px; font-size: 12px; border-radius: 3px; box-shadow: none; background: none transparent;" type="button"></a></div><div style="box-sizing: border-box; display: block; padding: 10px 0px; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(238, 238, 238); width: 255px; top: 0px; background: rgb(255, 255, 255);"><div style="box-sizing: border-box; margin: 0px; border: none; border-radius: 3px; box-shadow: rgb(255, 255, 255) 0px 0px 0px; top: 0px; position: relative; max-width: 250px; background-color: rgb(255, 255, 255);"><div style="box-sizing: border-box; padding: 8px 12px; border: none; border-top-right-radius: 2px; border-top-left-radius: 2px; color: rgb(51, 51, 51); font-weight: 700; cursor: initial; font-size: 16px; background-color: rgb(255, 255, 255);">文章目录</div><div style="box-sizing: border-box; padding: 0px 0px 10px; max-height: inherit; overflow: hidden; transition: all 0.2s ease; position: relative; z-index: 2;"><div style="box-sizing: border-box; position: relative; padding: 0px 12px; top: 0px;"><ul style="box-sizing: border-box; margin: 0px; position: relative; z-index: 2; padding-left: 18px; list-style-type: square;"><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004454893#articleHeader0" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">引言</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004454893#articleHeader1" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">接口</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004454893#articleHeader2" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">标记性接口</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004454893#articleHeader3" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">函数式接口，默认方法及静态方法</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004454893#articleHeader4" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">抽象类</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004454893#articleHeader5" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">不可变类</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004454893#articleHeader6" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">匿名类</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004454893#articleHeader7" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">可见性</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004454893#articleHeader8" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">继承</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004454893#articleHeader9" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">多重继承</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004454893#articleHeader10" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">继承与组合</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004454893#articleHeader11" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">封装</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004454893#articleHeader12" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">Final 类和方法</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004454893#articleHeader13" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">源码下载</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004454893#articleHeader14" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">下章概要</a></li></ul></div></div></div></div></div></div></div></div><div style="box-sizing: border-box; margin-right: auto; margin-left: auto; padding-left: 15px; padding-right: 15px; width: 1140px;"><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 190px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">网站相关</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/about" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">关于我们</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/tos" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">服务条款</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/faq" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">帮助中心</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/repu" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">声望与权限</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/markdown" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">编辑器语法</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://weekly.segmentfault.com/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">每周精选</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/app" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">App 下载</a></dd></dl><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 190px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">联系合作</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/contact" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">联系我们</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/hiring" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">加入我们</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/link" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">合作伙伴</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/press" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">媒体报道</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://board.segmentfault.com/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">建议反馈</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="http://pan.baidu.com/share/link?shareid=604288&amp;uk=839272106" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">Logo 下载</a></dd></dl><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 190px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">常用链接</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://chrome.google.com/webstore/detail/segmentfault-%E7%AC%94%E8%AE%B0/pjklfdmleagfaekibdccmhlhellefcfo" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">笔记插件: Chrome</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://addons.mozilla.org/zh-CN/firefox/addon/sf-note-ext/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">笔记插件: Firefox</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;">订阅：<a href="https://segmentfault.com/feeds" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">问答</a> / <a href="https://segmentfault.com/feeds/blogs" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">文章</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://mirrors.segmentfault.com/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">SF 文档镜像</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/interview" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">SF 社区访谈</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/d-day" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">技术沙龙D-DAY</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/hackathon" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">黑客马拉松Hackathon</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://namebeta.com/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">域名搜索注册</a></dd></dl><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 190px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">关注我们</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://github.com/SegmentFault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">Github</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://twitter.com/segment_fault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">Twitter</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://weibo.com/segmentfault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">新浪微博</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/segmentfault_team" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">SF 团队日志</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/segmentfault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">产品技术日志</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/community_admin" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">社区运营日志</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/segmentfault_news" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">市场运营日志</a></dd></dl><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 379.984px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">内容许可</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;">除特别说明外，用户内容均采用 <a href="http://creativecommons.org/licenses/by-sa/3.0/cn/" rel="license" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">知识共享署名-相同方式共享 3.0 中国大陆许可协议</a> 进行许可</dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;">本站由 <a href="https://www.upyun.com/?utm_source=segmentfault&amp;utm_medium=link&amp;utm_campaign=upyun&amp;md=segmentfault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">又拍云</a> 提供 CDN 存储服务</dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://mixpanel.com/f/partner" rel="nofollow" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;"><img alt="Mobile Analytics" height="24" src="https://cdn.mxpnl.com/site_media/images/partner/badge_light.png" style="box-sizing: border-box; border: 0px; vertical-align: middle;"></img></a></dd></dl></div><div style="box-sizing: border-box; text-align: center; font-size: 13px;">Copyright © 2011-2016 SegmentFault. 当前呈现版本 16.03.22<br style="box-sizing: border-box;"/><a href="http://www.miibeian.gov.cn/" rel="nofollow" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">浙ICP备15005796号-2</a></div><p style="box-sizing: border-box; margin: 0px 0px 10.5px; text-align: center;"></p></div><div style="box-sizing: border-box; right: 40px; bottom: 40px; border: 1px solid rgb(221, 221, 221); width: 36px; text-align: center; border-radius: 2px; z-index: 1000; color: rgb(51, 51, 51); font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: rgb(255, 255, 255);position:relative;"><div style="box-sizing: border-box; position: relative;"><div><br/></div></div></div></span>
</div></body></html> 