<html>
<head>
  <title>Android 系统默认参数的修改</title>
  <basefont face="Microsoft YaHei" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/301769 (zh-CN); Windows/6.3.9600 (Win64);"/>
  <style>
    body, td {
      font-family: Microsoft YaHei;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1886"/>
<h1>Android 系统默认参数的修改</h1>

<div>
<span><div style="height: 88px; width: 1841px; background-image: url(http://www.th7.cn/sandag/img/headbgl.png);"><div style="width: 960px; margin-right: auto; margin-left: auto;"><div style="float: left;"><a href="http://www.th7.cn/" style="text-decoration: none; color: rgb(51, 51, 51);"><img src="Android 系统默认参数的修改_files/Image.png" type="image/png" alt="第七城市 www.th7.cn" height="87" style="border: 0px; margin: 0px; padding: 0px;" width="205"/></a></div><div style="float: left; padding-top: 15px; background-image: url(http://www.th7.cn/sandag/img/navbg.png); background-position: 100% 24px; background-repeat: no-repeat;"><dl style="border: medium none; margin: 0px; padding: 5px 0px 0px 11px; vertical-align: middle; width: 140px;"><dt style="border: medium none; margin: 0px; padding: 0px; float: left; display: inline; font-weight: bold;"><a href="http://www.th7.cn/pm/" style="text-decoration: none; color: rgb(30, 53, 108);">平面</a></dt><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/pm/Photoshop/" style="text-decoration: none; color: rgb(30, 53, 108);">PS</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/pm/ai/" style="text-decoration: none; color: rgb(30, 53, 108);">AI</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/pm/Flash/" style="text-decoration: none; color: rgb(30, 53, 108);">Flash</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/pm/Coreldraw/" style="text-decoration: none; color: rgb(30, 53, 108);">CDR</a></dd></dl><dl style="border: medium none; margin: 0px; padding: 5px 0px 0px 11px; vertical-align: middle; width: 140px;"><dt style="border: medium none; margin: 0px; padding: 0px; float: left; display: inline; font-weight: bold;"><a href="http://www.th7.cn/web/" style="text-decoration: none; color: rgb(30, 53, 108);">网页</a></dt><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/web/dw/" style="text-decoration: none; color: rgb(30, 53, 108);">Dw</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/web/html-css/" style="text-decoration: none; color: rgb(30, 53, 108);">HTML/CSS</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/web/JS/" style="text-decoration: none; color: rgb(30, 53, 108);">JS</a></dd></dl></div><div style="float: left; padding-top: 15px; background-image: url(http://www.th7.cn/sandag/img/navbg.png); background-position: 100% 24px; background-repeat: no-repeat;"><dl style="border: medium none; margin: 0px; padding: 5px 0px 0px 11px; vertical-align: middle; width: 140px;"><dt style="border: medium none; margin: 0px; padding: 0px; float: left; display: inline; font-weight: bold;"><a href="http://www.th7.cn/design/" style="text-decoration: none; color: rgb(30, 53, 108);">赏析</a></dt><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/design/pm/" style="text-decoration: none; color: rgb(30, 53, 108);">设计</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/design/ui/" style="text-decoration: none; color: rgb(30, 53, 108);">UI</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/design/pic/" style="text-decoration: none; color: rgb(30, 53, 108);">插画</a></dd></dl><dl style="border: medium none; margin: 0px; padding: 5px 0px 0px 11px; vertical-align: middle; width: 140px;"><dt style="border: medium none; margin: 0px; padding: 0px; float: left; display: inline; font-weight: bold;"><a href="http://www.th7.cn/program/" style="text-decoration: none; color: rgb(30, 53, 108);">编程</a></dt><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/program/php/" style="text-decoration: none; color: rgb(30, 53, 108);">PHP</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/program/net/" style="text-decoration: none; color: rgb(30, 53, 108);">.Net</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/program/java/" style="text-decoration: none; color: rgb(30, 53, 108);">Java</a></dd></dl></div><div style="float: left; padding-top: 15px; background-image: url(http://www.th7.cn/sandag/img/navbg.png); background-position: 100% 24px; background-repeat: no-repeat;"><dl style="border: medium none; margin: 0px; padding: 5px 0px 0px 11px; vertical-align: middle; width: 140px;"><dt style="border: medium none; margin: 0px; padding: 0px; float: left; display: inline; font-weight: bold;"><a href="http://www.th7.cn/system/" style="text-decoration: none; color: rgb(30, 53, 108);">系统</a></dt><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/system/win/" style="text-decoration: none; color: rgb(30, 53, 108);">Win</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/system/lin/" style="text-decoration: none; color: rgb(30, 53, 108);">Linux</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/system/mac/" style="text-decoration: none; color: rgb(30, 53, 108);">OS X</a></dd></dl><dl style="border: medium none; margin: 0px; padding: 5px 0px 0px 11px; vertical-align: middle; width: 140px;"><dt style="border: medium none; margin: 0px; padding: 0px; float: left; display: inline; font-weight: bold;"><a href="http://www.th7.cn/office/" style="text-decoration: none; color: rgb(30, 53, 108);">办公</a></dt><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/office/word/" style="text-decoration: none; color: rgb(30, 53, 108);">Word</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/office/excel/" style="text-decoration: none; color: rgb(30, 53, 108);">Excel</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/office/ppt/" style="text-decoration: none; color: rgb(30, 53, 108);">PPT</a></dd></dl></div><div style="float: left; padding-top: 15px; background-image: url(http://www.th7.cn/sandag/img/navbg.png); background-position: 100% 24px; background-repeat: no-repeat;"><dl style="border: medium none; margin: 0px; padding: 5px 0px 0px 11px; vertical-align: middle; width: 140px;"><dt style="border: medium none; margin: 0px; padding: 0px; float: left; display: inline; font-weight: bold;"><a href="http://www.th7.cn/db/" style="text-decoration: none; color: rgb(30, 53, 108);">数据库</a></dt><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/db/mysql/" style="text-decoration: none; color: rgb(30, 53, 108);">My SQL</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/db/Oracle/" style="text-decoration: none; color: rgb(30, 53, 108);">Oracle</a></dd></dl><dl style="border: medium none; margin: 0px; padding: 5px 0px 0px 11px; vertical-align: middle; width: 140px;"><dt style="border: medium none; margin: 0px; padding: 0px; float: left; display: inline; font-weight: bold;"><a href="http://www.th7.cn/fzl/" style="text-decoration: none; color: rgb(30, 53, 108);">FZL</a></dt><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/fzl/girl/" style="text-decoration: none; color: rgb(30, 53, 108);">美女</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/fzl/boy/" style="text-decoration: none; color: rgb(30, 53, 108);">男生</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/fzl/pic/" style="text-decoration: none; color: rgb(30, 53, 108);">图片</a></dd></dl></div><div style="float: left; padding-top: 15px; background-image: url(http://www.th7.cn/sandag/img/navbg.png); background-position: 100% 24px; background-repeat: no-repeat;"><dl style="border: medium none; margin: 0px; padding: 5px 0px 0px 11px; vertical-align: middle; width: 140px;"><dt style="border: medium none; margin: 0px; padding: 0px; float: left; display: inline; font-weight: bold;"><a href="http://www.th7.cn/qq/" style="text-decoration: none; color: rgb(30, 53, 108);">QQ</a></dt><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/qq/zone/" style="text-decoration: none; color: rgb(30, 53, 108);">空间</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/qq/sc/" style="text-decoration: none; color: rgb(30, 53, 108);">素材</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/qq/name/" style="text-decoration: none; color: rgb(30, 53, 108);">网名</a></dd></dl><dl style="border: medium none; margin: 0px; padding: 5px 0px 0px 11px; vertical-align: middle; width: 140px;"><dt style="border: medium none; margin: 0px; padding: 0px; float: left; display: inline; font-weight: bold;"><a href="http://www.th7.cn/game/" style="text-decoration: none; color: rgb(30, 53, 108);">游戏</a></dt><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/game/dj/" style="text-decoration: none; color: rgb(30, 53, 108);">单机</a></dd><dd style="border: medium none; margin: 0px 0px 0px 10px; padding: 0px; float: left; display: inline;"><a href="http://www.th7.cn/game/wl/" style="text-decoration: none; color: rgb(30, 53, 108);">网络</a></dd></dl></div></div></div><div style="width: 960px; margin-left: auto; margin-right: auto;"><div style="width: 960px; height: 23px;"><a href="http://www.th7.cn/" style="text-decoration: none; color: rgb(51, 51, 51); margin-right: 5px; margin-left: 5px;">首页</a> - <a href="http://www.th7.cn/Program/" style="text-decoration: none; color: rgb(51, 51, 51); margin-right: 5px; margin-left: 5px;">网络编程</a> - <a href="http://www.th7.cn/Program/Android/" style="text-decoration: none; color: rgb(51, 51, 51); margin-right: 5px; margin-left: 5px;">Android</a></div></div><div style="width: 960px; margin-left: auto; margin-right: auto;"><div style="width: 650px; float: left;"><div style="width: 648px; border: 1px solid rgb(204, 226, 253); background-color: rgb(245, 248, 253);"><div style="color: rgb(1, 1, 1); font-family: 宋体, tahoma, Srial, helvetica, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/><div style="text-align: center; padding-top: 22px; padding-bottom: 0px;"><h1 style="border: medium none; margin: 0px 0px 6px; padding: 0px; font-size: 26px; color: rgb(0, 0, 0); font-family: 宋体, arial; font-stretch: normal; font-style: normal; font-variant: normal; font-weight: bold;">Android 系统默认参数的修改</h1></div><div style="color: rgb(102, 102, 102); height: 23px; padding-left: 60px; display: inline;"><em style="font-style: normal; margin-right: 5px; margin-left: 5px; vertical-align: middle;">2015-05-08 11:59:38</em><em style="font-style: normal; margin-right: 5px; margin-left: 5px; vertical-align: middle;">CSDN</em>-<em style="font-style: normal; margin-right: 5px; margin-left: 5px; vertical-align: middle;">qq3162380</em>-<em style="font-style: normal; margin-right: 5px; margin-left: 5px; vertical-align: middle;">点击数:3242</em><div style="zoom: 1; float: right; margin-right: 28px;"><a href="http://www.th7.cn/Program/Android/201505/447097.shtml#" style="text-decoration: none; color: rgb(51, 51, 51); float: left; font-size: 12px; padding-left: 17px; height: 16px; cursor: pointer; margin: 6px 6px 6px 0px; background-image: url(http://bdimg.share.baidu.com/static/api/img/share/icons_1_16.png?v=774cfc30.png); background-position: 0px 0px; background-repeat: no-repeat;"></a><a href="http://www.th7.cn/Program/Android/201505/447097.shtml#" style="text-decoration: none; color: rgb(51, 51, 51); float: left; font-size: 12px; padding-left: 17px; height: 16px; cursor: pointer; margin: 6px 6px 6px 0px; background-image: url(http://bdimg.share.baidu.com/static/api/img/share/icons_1_16.png?v=774cfc30.png); background-position: 0px -1612px; background-repeat: no-repeat;" title="分享到微信"></a><a href="http://www.th7.cn/Program/Android/201505/447097.shtml#" style="text-decoration: none; color: rgb(51, 51, 51); float: left; font-size: 12px; padding-left: 17px; height: 16px; cursor: pointer; margin: 6px 6px 6px 0px; background-image: url(http://bdimg.share.baidu.com/static/api/img/share/icons_1_16.png?v=774cfc30.png); background-position: 0px -2652px; background-repeat: no-repeat;" title="分享到QQ好友"></a><a href="http://www.th7.cn/Program/Android/201505/447097.shtml#" style="text-decoration: none; color: rgb(51, 51, 51); float: left; font-size: 12px; padding-left: 17px; height: 16px; cursor: pointer; margin: 6px 6px 6px 0px; background-image: url(http://bdimg.share.baidu.com/static/api/img/share/icons_1_16.png?v=774cfc30.png); background-position: 0px -104px; background-repeat: no-repeat;" title="分享到新浪微博"></a><a href="http://www.th7.cn/Program/Android/201505/447097.shtml#" style="text-decoration: none; color: rgb(51, 51, 51); float: left; font-size: 12px; padding-left: 17px; height: 16px; cursor: pointer; margin: 6px 6px 6px 0px; background-image: url(http://bdimg.share.baidu.com/static/api/img/share/icons_1_16.png?v=774cfc30.png); background-position: 0px -260px; background-repeat: no-repeat;" title="分享到腾讯微博"></a><a href="http://www.th7.cn/Program/Android/201505/447097.shtml#" style="text-decoration: none; color: rgb(51, 51, 51); float: left; font-size: 12px; padding-left: 17px; height: 16px; cursor: pointer; margin: 6px 6px 6px 0px; background-image: url(http://bdimg.share.baidu.com/static/api/img/share/icons_1_16.png?v=774cfc30.png); background-position: 0px -52px; background-repeat: no-repeat;" title="分享到QQ空间"></a><a href="http://www.th7.cn/Program/Android/201505/447097.shtml#" style="text-decoration: none; color: rgb(51, 51, 51); float: left; font-size: 12px; padding-left: 17px; height: 16px; cursor: pointer; margin: 6px 6px 6px 0px; background-image: url(http://bdimg.share.baidu.com/static/api/img/share/icons_1_16.png?v=774cfc30.png); background-position: 0px -2080px; background-repeat: no-repeat;" title="分享到有道云笔记"></a></div></div></div><div style="word-break: break-word; width: 570px; margin-top: 10px; margin-right: auto; margin-left: auto; font-size: 14px; white-space: normal; overflow: hidden; color: rgb(1, 1, 1); font-family: 宋体, tahoma, Srial, helvetica, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><h2 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">Android 系统默认参数的修改</h2><h4 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">写在前面的话</h4><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">一般在新项目开始之初，我们需要针对客户需求进行各种系统默认属性的配置，通常这些属性都是通过build.prop、settings.db 、default.xml、一些功能package下的 config.xml 等来进行初始化配置的。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">那么，要满足客户的定制需求，对于我们开发者来说，修改SettingsProvider默认值，而第一次开机时，用来填充settings.db的数据都是从</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">frameworks/base/packages/SettingsProvider/res/values/defaults.xml 这个文件来读取的。所以大部分的系统属性都是通过修改此处的xml节点来修改的。当然有一些属性是在device下的project.mk中去修改使其编译时添加到build.prop中去。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">接下来，我将从我所参与过的项目中，去一点点的记录需要修改的属性都怎么设置。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">对于Android手机ODM界的朋友，通读这篇文章后，基本上能完成项目前期70%的适配工作（如果是做MTK平台的话，那更好，可以用来控制的宏变量更加丰富）。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">对于带项目的人来说，这些东西都是前期工作必不可少的修改点，对于MMI工程师，手头拿到客户需求类的BUG时 ，这些东西也是能帮助你快速debug的手册。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">话不多说，这些小的知识点，都是我在平常的工作中总结出来的，有的是通用的，有的是在特定平台中才会用的到的，仅供各位参考，开阔一下思路而已，这篇博文我会不定时更新，分享更多以后项目中遇到的一些通用参数配置的修改。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">1. 去掉“亮度”中的自动调节</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">第一步、修改frameworks/base/core/res/res/values/config.xml中的</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;bool name=&quot;config_automatic_brightness_available&quot;&gt;false&lt;/bool&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">第二步、在Marvell1908平台中，没有根据此property来确定“自动”按钮的显示还是隐藏，所以还需在SystemUI中动态确定该CheckBox的显示与否:</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">BrightnessController.java中添加如下方法</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    private void updateAutomaticButton(boolean automatic) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        android.util.Log.d(TAG, &quot; Automatic button aviliable: &quot; + automatic);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        if(null != mControl) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            mControl.setAutomaticAvailable(automatic);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        }</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    }</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">在updateMode()中调用该方法:</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">private void updateMode() {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// … …</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">} else {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            mControl.setChecked(false);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            updateIcon(false /*automatic*/);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">   }</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"></p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">updateAutomaticButton(mAutomaticAvailable);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">在ToggleSlider.java中添加接口：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    public void setAutomaticAvailable(boolean autoBrightness) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        if(null != mToggle) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            //mToggle.setWidth(autoBrightness ? 48: 0);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            mToggle.getLayoutParams().width = autoBrightness ? 48: 0;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            mToggle.setOnCheckedChangeListener(autoBrightness ? this : null);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        }</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    }</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Tip:</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">不支持光感设备去掉“自动调节亮度”需要考虑 桌面小部件、下拉状态栏、亮度调节Dialog以及第三方apk这四个方面的Icon的显示问题。如果修改boolean property还不能达到效果，就需要考虑第二步。</p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">2. 修改“亮度”的最值、默认值、半暗值</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">修改frameworks/base/core/res/res/values/config.xml中的</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;integer name=&quot;config_screenBrightnessSettingMinimum&quot;&gt;10&lt;/integer&gt;&lt;!—最暗值 --&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;integer name=&quot;config_screenBrightnessSettingMaximum&quot;&gt;255&lt;/integer&gt;&lt;!—最亮值--&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;integer name=&quot;config_screenBrightnessSettingDefault&quot;&gt;102&lt;/integer&gt;&lt;!—默认值--&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;integer name=&quot;config_screenBrightnessDim&quot;&gt;10&lt;/integer&gt;&lt;!—长时间不操作时屏幕会突然变暗但并不灭屏时的亮度--&gt;</p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">3. 修改开机时的默认亮度</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">修改frameworks/base/packages/SettingsProvider/res/values/defaults.xml中的</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    &lt;!-- Default screen brightness, from 0 to 255.  102 is 40%. --&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    &lt;integer name=&quot;def_screen_brightness&quot;&gt;51&lt;/integer&gt;</p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">4. 修改开关机铃声</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">开关机动画相关所在路径是在frameworks/base/cmds/bootanimation/中去操作的(不同平台略有不同)；</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Android设备的铃声资源都是在frameworks/base/data/sounds中</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Marvell 平台是在frameworks/base/cmds/bootanimation/BootAudio.cpp</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">#define USER_BOOTMUSIC_FILE &quot;/data/local/bootupmusic.mp3&quot;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">#define SYSTEM_BOOTMUSIC_FILE &quot;/system/media/bootupmusic.mp3&quot;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">#define USER_SHUTDOWNMUSIC_FILE &quot;/data/local/shutdownmusic.mp3&quot;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">#define SYSTEM_SHUTDOWNMUSIC_FILE &quot;/system/media/shutdownmusic.mp3&quot;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">用需要替换的开关机铃声overlay 对应的文件 /system/media/bootupmusic.mp3 和 /system/media/shutdownmusic.mp3 即可，注意资源名称要一致，改为对应的bootupmusic.mp3 或者 shutdownmusic.mp3</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Qualcomm平台是在frameworks/base/cmds/bootanimation/ bootanimation_main.cpp中</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">void BootAnimation::playBackgroundMusic(void)</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">{</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    char bootAudioFile[] = &quot;/system/media/boot.wav&quot;;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    char shutdownAudioFile[] = &quot;/system/media/shutdown.wav&quot;;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// … …</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">需要将替换的资源overlay下boot.wav shutdown.wav 注意名称一致，格式也必须一致。或者直接修改这里的cpp代码。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">5. 修改Android默认壁纸</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Overlay掉frameworks/base/core/res/res/drawable-nodpi/ default_wallpaper.jpg即可</p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">6. 编译版本时不生成odex</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">一般odex化是在4.0以后的版本中有的功能，odex化可以使系统的启动和程序运行速度大大提高，稳定性不变。但是编译时生成odex包会大大增加system.img的体积，不利于ota升级，t卡升级，所以在编译时可以去odex。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">需要在.mk文件中添加属性：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">#remove odex</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">DISABLE_DEXPREOPT:=true</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">7. 修改默认来电铃声、通知铃声</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">首先需要检查要修改的资源是否在frameworks/base/data/sounds/下的notifications/和ringtones/中，如果没有，需要添加上去，将资源在该目录下的.mk中按照其他的资源的方式添加进去。然后在device下的.mk中添加属性：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">ADDITIONAL_BUILD_PROPERTIES += /</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">ro.config.ringtone = Andromeda.ogg /</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">ro.config.notification_sound=Heaven.ogg </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">注意，在不同的平台中properties的宏定义可能有所不同，在Marvell中ADDITIONAL_BUILD_PROPERTIES为property的overlay property而在Qualcomm中 build peoperty的宏 为PRODUCT_PROPERTY_OVERRIDES；要预置的铃声资源需要在设备中存在，不然默认铃声就为“无”，这个可以去frameworks/base/data/sounds/下面查看，然后对应修改AllAudio.mkl文件即可。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">8. 修改语言列表、默认语言</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">在.mk中修改属性：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"># only use zh_CN ,us  and default CN</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">PRODUCT_LOCALES += zh_CN en_US</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">PRODUCT_PROPERTY_OVERRIDES += /</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    persist.sys.language=zh /</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    persist.sys.country=CN /</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    ro.product.locale.language=zh /</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    ro.product.locale.region=CN</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">注意是 += 而不是 :=</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">:= 覆盖前面的值</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">+= 添加=后面的值</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">?= 如果没有被赋值，就赋值于=后面的值</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">在这里就是将这些属性全部覆盖之前的定义。可以看到在这里定义了 默认语言为中文，默认地区为中国。并且只有 中文英文 两种。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">9. 修改默认时区</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">在.mk中添加：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">PRODUCT_PROPERTY_OVERRIDES += /</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">persist.sys.timezone= Asia/Shanghai</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">另外还有一种方法：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    在 init.rc 中添加</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">#set default timezone</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">setprop persist.sys.timezone Asia/Shanghai</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">直接在底层修改默认时区（如果不熟悉，最好让驱动工程师来修改）</p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">10. 修改开关机动画</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">与修改开关机铃声一样，开关机动画相关代码都是在frameworks/base/cmds/bootanimation/中，需要我们根据代码去制作动画。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">一般在Android设备中，开关机动画都是通过帧动画来实现的。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">以Marvell平台为参考：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">frameworks/base/cmds/bootanimation/BootAnimation.cpp</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">#define USER_BOOTANIMATION_FILE &quot;/data/local/bootanimation.zip&quot;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">#define SYSTEM_BOOTANIMATION_FILE &quot;/system/media/bootanimation.zip&quot;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">//add  shutdown animation</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">#define USER_SHUTDOWNANIMATION_FILE &quot;/data/local/shutdown.zip&quot;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">#define SYSTEM_SHUTDOWNANIMATION_FILE &quot;/system/media/shutdown.zip&quot;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">所以需要去overlay 资源 /system/media/bootanimation.zip 和/system/media/shutdown.zip，下面简单的介绍下开关机动画zip的制作：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">1) 建立bootanimation文件夹；</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">2) 在bootanimation/下添加开机图片，图片必须为.png格式；</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">3) 将图片按照start00001.png start00002.png ... ... start00049.png格式命名；</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">4) 按照个人需要将图片按序号放在文件夹part0 、part1 、part2下，具体几个partX文件夹，按照个人需求；</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">5) 在bootanimation/下添加动画属性描述文件desc.txt,他用来设置动画的像素、帧、闪烁次数、文件夹名称，</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">desc.txt 必须严格执行Makefile格式</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">我们看一个dest.txt:</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">320 480 15</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">p 1 0 part0</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">p 0 0 part1</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"></p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">320 480 15 --&gt; 320 像素宽度 480 像素高度 15 帧数</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">p 1 0 part --&gt; p 标识符 1 循环次数为1 0 阶段间隔时间为0 part0 对应文件夹，为第一阶段动画目录</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">p 0 0 part1 --&gt; p 标识符 0 本阶段无限循环 0 阶段间隔时间为0 part1 对应文件夹，为第二阶段动画</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">最后必须要有回车符，确保指令都已经完成。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">6) 开始打包，使用WinRAR压缩工具，打包为bootanimation.zip：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">需要选择“压缩文件格式”为 .zip;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">需要选择“压缩方式”为“存储”。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"></p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">制作完成。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">11. 修改状态栏透明</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">状态栏透明的属性是在andorid4.4上面出现的新特性，不过对于状态栏透明效果的设置要求比较高，一般是在运行内存&gt;=512M的设备上才能运行，因为要实现状态栏透明需要硬件加速来配合，不然动画效果十分卡顿。修改状态栏透明需要SystemUI与Launcher配合，才能达到效果。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">1) 修改SystemUI的一个属性</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/BarTransitions.java::</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">public static final boolean HIGH_END = ActivityManager.isHighEndGfx() ;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// ActivityManager.isHighEndGfx()是用来判断系统是否为大内存设备。将HIGH_END = true 让SystemUI默认为大内存设备</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">2) 在packages/apps/Launcher2/src/com/android/launcher2/style.xml中自定义一个状态栏透明的Theme属性节点：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;style name=&quot;TransparentTheme&quot; </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">parent=&quot;@android:style/Theme.Holo.Wallpaper.NoTitleBar&quot;&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">  &lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt; </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">  &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/transparent&lt;/item&gt; </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">  &lt;item name=&quot;android:colorBackgroundCacheHint&quot;&gt;@null&lt;/item&gt; </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">  &lt;item name=&quot;android:windowShowWallpaper&quot;&gt;true&lt;/item&gt; </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> &lt;/style&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">在android4.4以后framewok中Theme.xml中增加了以下两个属性节点：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        &lt;item name=&quot;windowTranslucentStatus&quot;&gt;false&lt;/item&gt;&lt;!—设置状态栏透明 --&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        &lt;item name=&quot;windowTranslucentNavigation&quot;&gt;false&lt;/item&gt;&lt;!—设置虚拟按键透明 --&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">由于Marvell项目中使用的是实体按键，所以就只覆盖了上面那个属性。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">3) 修改packages/apps/Launcher2/src/com/android/launcher2/Launcher2.java::</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    @Override</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    protected void onCreate(Bundle savedInstanceState) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        if(&quot;pxa1L88H3&quot;.equals(Build.DEVICE)) {//Added by hanhao for bug30425 20140902</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            setTheme(R.style.TransparentTheme);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        }</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">在Launcher的onCreate方法中使用自定义属性，或者直接在AndroidMainest.xml中通过android:theme=”@style/ TransparentTheme”节点来实现。</p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">12. 去掉桌面上的Google搜索框</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">一般这个需求是针对使用Google原生启动器Launcher2而言的。因为在Google原生代码里，有显示GoogleSearch的代码，主要是为了显示Google搜索，如果有GoogleVoice还可以显示语音搜索按钮，针对大陆手机来说，Google Search功能已经被和谐掉，所以要么制作成百度搜索，要么去掉。去掉Google搜索框的方法有很多。分两步走，第一，去掉Google搜索框；第二、调整Workspace布局，去掉Google搜索框在界面上的占位。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">第一、去掉Google搜索框</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">1. 简单粗暴式一</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">packages/apps/Launcher2/src/com/android/launcher2/Launcher.java::</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">private boolean updateGlobalSearchIcon() {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">final SearchManager searchManager =</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">                (SearchManager) getSystemService(Context.SEARCH_SERVICE);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">ComponentName activityName = searchManager.getGlobalSearchActivity();</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> /* Add by hanhao for bug30267 start 20140826 */</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">if(Build.DEVICE.equals(&quot;pxa1L88H3&quot;)) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        activityName = null;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">/* Add by hanhao for bug30267 end 20140826 */</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">if (activityName != null) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// … …</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">else {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            // We disable both search and voice search when there is no global search provider</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">在Launcher2进程启动时，onCreate和onResume中会更新GlobalSearch图标并保存在数组中，上面的修改 将逻辑修改成了在设备中永远默认没有GlobalSearch 应用，所以就走了下面的else分支，可保证桌面不显示Google搜索框，上面是根据项目名做判断，也可以直接这样：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">if (false &amp;&amp; activityName != null) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">2. 简单粗暴式二</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">在packages/apps/Launcher2/res/values/dimens.xml中修改节点</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;dimen name=&quot;search_bar_height&quot;&gt;0dp&lt;/dimen&gt;&lt;!—Google搜索框的高度--&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">这样也能保证永不显示Google搜索框</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">3. 修改QuickSearchBox模块</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">去掉AndroidManifest.xml的下面节点:</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;intent-filter&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;action android:name=&quot;android.search.action.GLOBAL_SEARCH&quot; /&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;/intent-filter&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">比较可取的是1、3这两种方法。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">第二、去掉Workspace的占位</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">主要是微调布局，修改values/dimens.xml，按需修改适当的数值，下面是几个亲测符合ho9021项目4.3寸屏的布局</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">调整cellLayout的布局+调整ShortcutIcon的间距，使其整体上移</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;dimen name=&quot;cell_layout_top_padding_port&quot;&gt;28dp&lt;/dimen&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;dimen name=&quot;cell_layout_bottom_padding_port&quot;&gt;48dp&lt;/dimen&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;dimen name=&quot;workspace_height_gap_port&quot;&gt;18dp&lt;/dimen&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">另外还可以通过设置Workspace的高度配合调整ShortcutIcon的间距也能实现：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;dimen name=&quot;workspace_cell_height_port&quot;&gt;100dp&lt;/dimen&gt;</p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">13. 在Launcher中隐藏掉某个App</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">在这里所说的Launcher都是Google原生的Launcher2应用。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">修改packages/apps/Launcher2/src/com/android/launcher2/LauncherModel.java::</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">private void loadAllAppsByBatch() {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// … …</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">apps = packageManager.queryIntentActivities(mainIntent, 0);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    if (DEBUG_LOADERS) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        Log.d(TAG, &quot;queryIntentActivities took &quot;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            + (SystemClock.uptimeMillis()-qiaTime) + &quot;ms&quot;);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">if (apps == null) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">return;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// Added for example code start </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">ResolveInfo removeApp = null;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    for(ResolveInfo info : apps) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">if(null！= info &amp;&amp; </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">info.activityInfo.packageName.equals(&quot;com.android.spare_parts&quot;)) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">removeApp = info;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">if(null != removeApp) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">apps.remove(removeApp);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// Added end</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">N = apps.size();</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// … …</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">上面的代码是在启动器启动时会通过一个List将各个app信息保存起来，然后再添加到桌布上，上面的代码就是遍历获取到的所有的符合条件的app，过滤掉我们不想显示的。当然该代码可以抽取出来成一个方法，或者放入油条包中，抽象成一个static的工具。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">那么如果要隐藏掉的app比较多的时候怎么办？ 其实可以新建一个tempArrayList,将查询信息符合反向查找条件的再add到apps中，该方法为如下patch：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">14. 在任务管理器“全部”中去掉某个App</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">任务管理器是Setting模块下的一个功能，其实也就是“设置—应用程序—全部”。需要修改packages/apps/settings/src/com/android/settings/applications/ManageApplications.java</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">static class ApplicationsAdapter::</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">ArrayList&lt;ApplicationsState.AppEntry&gt; applyPrefixFilter(CharSequence prefix,</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">ArrayList&lt;ApplicationsState.AppEntry&gt; origEntries) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// 此处设置过滤条件进行过滤筛选</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">if (prefix == null || prefix.length() == 0) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">                return origEntries;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">} else {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// … …</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">该需求的实现与隐藏掉Launcher中的某个App的逻辑相同。Patch如下：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"><img height="318" src="file:///C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/ksohtml/wps152.tmp.jpg" style="border: 0px; margin: 0px; padding: 10px 0px; vertical-align: middle;" width="570"></img></p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">15. 修改输入法列表、设置默认的输入法</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">默认输入法是在frameworks/base/packages/SettingsProvider/res/values/defaults.xml中的节点，只需要在.mk中去overlay即可。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;!-- Default input mothod --&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;string name=&quot;def_enable_input_methods&quot;&gt;com.android.inputmethod.latin/ .LatinIME:com.baidu.input/.ImeService:com.baidu.input/com.baidu.input.IME &lt;/string&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;string name=&quot;def_input_method&quot;&gt; &gt;com.baidu.input/.ImeService &lt;/string&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">其中def_enable_input_methods是要显示到输入法列表中的默认输入法，可以看到这个节点中默认的有两个输入法，Android键盘和百度输入法；</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">def_input_method是默认被选中的那个输入法，可以看到这个节点中默认被选中的输入法是百度输入法。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">com.baidu.input -&gt;在AndroidManifest.xml中的 pachakename</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">.ImeService -&gt;在AndroidManifest.xml中的 service name</p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">16. 修改默认不锁屏</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">1.在.mk 下如果有属性 ro.lockscreen.disable.default = true 则注释掉；</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">2.Overlay SettingsProvider下的一个属性:</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">frameworks/base/packages/SettingsProvider/res/values/defaults.xml:</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;bool name=&quot;def_lockscreen_disabled&quot;&gt;false&lt;/bool&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;!—改为true 就默认锁屏方式“无”--&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">因为在frameworks/base/packages/settingsprovider/src/com/android/providers/settings/ DatabaseHelper.java::</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            if (SystemProperties.getBoolean(&quot;ro.lockscreen.disable.default&quot;, false) == true) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">                loadSetting(stmt, Settings.System.LOCKSCREEN_DISABLED, &quot;1&quot;);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            } else {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">                loadBooleanSetting(stmt, Settings.System.LOCKSCREEN_DISABLED,</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">                        R.bool.def_lockscreen_disabled);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            }</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">如果设置了 property属性，那么就直接设置为默认有锁屏，忽略default.xml下的节点。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">17. 设置第一次开机时的默认Launcher</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">该需求是在Marvell的ho_9021上做的，在9021上除了Google原生Launcher之外，还预置了一个宾果桌面，那么在第一次开机时，由于没有设置preferred Activity 这就导致在第一次开机时候首先会弹出一个选项框让用户选择launcher。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">这个需求是在第一次开机时，直接进入默认的Launcher，不弹出选项框，当用户从“设置—应用—全部”，选择正在使用的Launcher，并点击“清除默认设置”；就能去掉Launcher的preferred 属性，当再次回到桌面，则正常弹出选项框。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">该需求修改的前提是系统没有开机向导，使用Android默认的开机向导。在Android源码会有有个packages/apps/Provision模块，很少有人注意到他。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"><img height="174" src="file:///C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/ksohtml/wps153.tmp.jpg" style="border: 0px; margin: 0px; padding: 10px 0px; vertical-align: middle;" width="554"></img></p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">从他的AndroidManifest.xml中从category 可以看到他也是一个Launcher，同时他的priority=”1”说明他的优先级是最高的，也就是系统第一次启动时，启动的第一个Launcher就是他DefaultActivity。对这里感兴趣的同学，可以看一下这个模块，功能非常简单，就是仅仅在第一次开机时完成一些开机向导类的工作。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">下面就步入正题，分析一下怎么设置默认launcher，首先有两个关键点：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">1. 设置默认Application需要加上权限：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;uses-permission android:name=&quot;android.permission.SET_PREFERRED_APPLICATIONS&quot; /&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">2. 需要在DefaultActivity.java的下面这段代码之前做操作：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">ComponentName name = new ComponentName(this, DefaultActivity.class);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">pm.setComponentEnabledSetting(name,PackageManager.COMPONENT_ENABLED_STATE_DISABLED,PackageManager.DONT_KILL_APP);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">这段代码是将Provision Application从PackageManager中移除。如果在这段代码之后操作，就会报错，或者失败。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">设置默认Luancher：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">1. 获取注册到系统中的所有Launcher：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            Intent intent = new Intent(Intent.ACTION_MAIN);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            intent.addCategory(Intent.CATEGORY_HOME);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            List&lt;ResolveInfo&gt; resolveInfoList = pm.queryIntentActivities(intent, 0);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Tips:</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">在此处获取系统中Launcher的List时不能使用pckageManager的</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">getHomeActivities(List&lt;ResolveInfo&gt; outActivities)；方法，通过这种方法会导致设置失败，具体原因我还不太知道。<br/></p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">2. 将Pervision从resolveInfoList中过滤掉：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">int size = resolveInfoList.size();</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">for(int i = 0; i &lt; size; ) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">final ResolveInfo resolveInfo = resolveInfoList.get(i);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">final ActivityInfo activityInfo = resolveInfo.activityInfo;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">if(null != activityInfo &amp;&amp; activityInfo.packageName.equals(this.getPackageName())) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">resolveInfoList.remove(i);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">size -= 1;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">} else {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">i++;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    }</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> }</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">3. 获取要设置为默认Launcher的 match(系统匹配度)</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">ComponentName[] set = new ComponentName[size];</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">ComponentName defaultLauncher = new ComponentName(&quot;com.android.bglauncher&quot;,</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&quot;com.ibingo.launcher2.Launcher&quot;);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">int defaultMatch = 0;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">for(int i = 0; i &lt; size; i++) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">final ResolveInfo resolveInfo = resolveInfoList.get(i);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">final ActivityInfo activityInfo = resolveInfo.activityInfo;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">if(null == activityInfo) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">continue;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">                    </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">set[i] = new ComponentName(activityInfo.packageName, activityInfo.name);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">if(defaultLauncher.getClassName().equals(activityInfo.name)) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    defaultMatch = resolveInfo.match;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    }</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Slog.d(TAG, &quot; candidate launcher:&quot; + resolveInfo.toString());</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">4. 使用PackageManager的addPreferredActivity方法设置默认Launcher</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">IntentFilter filter = new IntentFilter();</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">filter.addAction(Intent.ACTION_MAIN);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">filter.addCategory(Intent.CATEGORY_HOME);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">filter.addCategory(Intent.CATEGORY_DEFAULT);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">pm.clearPackagePreferredActivities(defaultLauncher.getPackageName());</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">pm.addPreferredActivity(filter, defaultMatch, set, defaultLauncher);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Slog.d(TAG, &quot; set default Launcher succesfully!&quot;);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">我们可以看到第2、3步骤都是在为PackageManager的addPreferredActivity方法获取参数，主要的设置preferred Activity的方法就是先清除application之前的默认属性，然后再将该Application设置为所有符合IntentFilter条件的Applications中的默认值。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Tips:</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">在整个添加的代码中需要加上try-catch保护</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">那么我们再来看一下addPreferredActivity这个方法：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"><img height="305" src="file:///C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/ksohtml/wps154.tmp.jpg" style="border: 0px; margin: 0px; padding: 10px 0px; vertical-align: middle;" width="554"></img></p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Filter是过滤条件，也就是Application中满足filter的参数配置的Activity才会被操作；</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Match 是过滤条件filter与被操作的Application的匹配度值</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Set 作用是被操作的Application会在set集合中的这些Application中才有效</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Activity 就是被操作的Application</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">了解了这个方法之后，不仅是默认Launcher，我们同样也可以从满足一定filter条件的Applications中选择一个，设置成默认值。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"><img align="left" height="487" hspace="12" src="file:///C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/ksohtml/wps156.tmp.jpg" style="border: 0px; margin: 0px; padding: 10px 0px; vertical-align: middle;" width="533"></img></p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"><img align="left" height="480" hspace="12" src="file:///C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/ksohtml/wps157.tmp.jpg" style="border: 0px; margin: 0px; padding: 10px 0px; vertical-align: middle;" width="532"></img></p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;"> </h3><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;"> </h3><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;"> </h3><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;"> </h3><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;"> </h3><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;"> </h3><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;"> </h3><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;"> </h3><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;"> </h3><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;"> </h3><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;"> </h3><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;"> </h3><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">18. 修改Wifi便携式热点的默认SSID名称</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">frameworks/base/wifi/java/android/net/wifi/WifiApConfigStore.java中的</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">setDefaultApConfiguration() {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// … …</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">config.SSID = mContext.getString(R.string.wifi_tether_configure_ssid_default);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// … …</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">两种方法:</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">1. 添加String，替换资源</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">2. 添加”ro.settings.wifi.ssid ”属性，替换为</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">config.SSID = SystemProperties.get(&quot;ro.settings.wifi.ssid&quot;,</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">mContext.getString(R.string.wifi_tether_configure_ssid_default));</p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">19. 修改Wifi Direct 的默认名字</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">1. 修改”ro.settings.wifi_p2p_name = Default Name” 如果没有该属性，则覆盖；</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">2. frameworks/base/packages/settingsprovider/src/com/android/providers/settings/</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">DatabaseHelper.java中添加：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">loadGlobalSettings(SQLiteDatabase db) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// … …</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">loadSetting(stmt,Settings.Global.WIFI_P2P_DEVICE_NAME,</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">SystemProperties.get(&quot;ro.settings.wifi_p2p_name&quot;,&quot;&quot;));</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// … …</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">3. 按需修改frameworks/base/wifi/java/android/net/wifi/p2p/ WifiP2pService.java中</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">getPersistedDeviceName() {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">String deviceName = Settings.Global.getString(mContext.getContentResolver(),</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">                Settings.Global.WIFI_P2P_DEVICE_NAME);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// … …</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">if (deviceName == null) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// 按需修改此处的返回值</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// … …</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">一般情况下正常修改，第1第2步就行了，比较规范，如果再添加上第3步的修改，更加保险，逻辑紧密，无懈可击；如果只在第3步的getPersistedDeviceName() 中去操作，虽然也能达到目的，但是不严谨。</p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">20. 修改WIFI热点中默认网络SSID名称AndroidAP</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">请修改frameworks/base/core/res/res/values/Strings.xml文件中的如下默认字符：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;!-- Do not translate. Default access point SSID used for tethering --&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;string name=&quot;wifi_tether_configure_ssid_default&quot; translatable=&quot;false&quot;&gt;AndroidAP&lt;/string&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">修改为需要的字符串；</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">21. 修改声音（来电、短信、通知、音乐、通话、蓝牙、FM等）的默认大小</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">修改frameworks/base/media/java/android/media/ AudioManager.java中的</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">/**  @hide Default volume index values for audio streams */ </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">public static final int[] DEFAULT_STREAM_VOLUME = new int[] {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        5,  // STREAM_VOICE_CALL</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        7,  // STREAM_SYSTEM</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        7,  // STREAM_RING</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        15, // STREAM_MUSIC</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        6,  // STREAM_ALARM</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        5,  // STREAM_NOTIFICATION</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        7,  // STREAM_BLUETOOTH_SCO</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        7,  // STREAM_SYSTEM_ENFORCED</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        11, // STREAM_DTMF</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        11,  // STREAM_TTS</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        11  //STREAM_FM</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">};</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Tip：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">在AudioService.java中设置了各个音源的最大值。</p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">22. 修改锁屏提示音大小</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">请修改framework/base/core/res/res/values/config.xml 中可设置锁屏默认音量</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;integer name=&quot;config_lockSoundVolumeDb&quot;&gt;-6&lt;/integer&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">可修改为-6～0之间，默认值为-6,0为最大音量，通过修改此值可以达到调节锁屏音量目的。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Tip：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">要注意Keyguard中是否用了此值，如果没有用此值的话，就需要修改音源文件的音量。</p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">23. 修改状态栏透明</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">在Android Kitkat之后Google加入了原生的状态栏透明的效果。但是这一效果在SystemUI中，有一个property限制使其只能在大内存设备中有用。要修改状态栏透明，需要修改SystemUI和App。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">1.修改frameworks/base/packages/systemui/src/com/android/systemui/statusbar/phone/ BarTransitions.java::{</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">public static final boolean HIGH_END = ActivityManager.isHighEndGfx() || true;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">强制HIGH_END为true，才能使用透明效果（如果应用要求Status透明的话），可实现Google默认的透明效果（有从上到下的灰色阴影渐变效果）。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">2.如果有客户要求状态栏完全透明，则继续修改</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">frameworks/base/packages/systemui/src/com/android/systemui/statusbar/phone/ BarTransitions.java:: BarBackgroundDrawable-&gt;draw(Canvas canvas){</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">      if (mGradientAlpha &gt; 0 &amp;&amp; false ) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">                mGradient.setAlpha(mGradientAlpha);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">                mGradient.draw(canvas);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            }</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">取消状态栏的渐变效果。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">3. Launcher修改：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">法一：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">1.如果希望维持ActionBar的存在，那么需要Style.xml中定义Theme继承一般的主题并加入下面两个属性：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;style name=&quot;TransparentTheme&quot; parent=&quot;@android:style/Theme.Holo.Wallpaper.NoTitleBar&quot;&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/transparent&lt;/item&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;item name=&quot;android:colorBackgroundCacheHint&quot;&gt;@null&lt;/item&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;item name=&quot;android:windowShowWallpaper&quot;&gt;true&lt;/item&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;item name=&quot;android:windowTranslucentNavigation&quot;&gt;true&lt;/item&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;/style&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">2.AndroidManifest.xml中对Activity设置Theme节点</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            android:theme=&quot;@style/ TransparentTheme &quot;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">法二：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">packages/apps/launcher2/src/com/android/launcher2/ Launcher.java-&gt;onCreate() {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// 判断版本号，防止出错(在apk开发中很有必要这样判断一下)</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">getWindow().setFlags(</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS,</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// 如果有底部虚拟导航栏，也设置为透明</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">window.setFlags(</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION,</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">法三：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Style.xml中自定义主题，并设置父类为</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Theme.Holo.Light.NoActionBar.TranslucentDecor</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Theme.Holo.NoActionBar.TranslucentDecor</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">这两种主题都能实现app全屏的效果，前提是Device支持状态栏透明。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Tip：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">对于其他apk，如果要在应用中设置状态栏透明，以达到所谓的沉浸式状态栏，那么推荐的方法是在Java代码中去写。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">如果设置了StatusBar透明时，App的内容会被上拉到从StatusBar开始，这时候需要在Layout(XML)中最最外边那一层的布局加上一个属性android:fitsSystemWindows=&quot;true&quot;在界面的根层加入了这个属性，app的内容就可以从ActionBar的下方开始展现了。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">24. 修改关机时的振动时长</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">修改frameworks/base/services/java/com/android/server/power/ ShutdownThread.java下的</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    // length of vibration before shutting down</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">private static final int SHUTDOWN_VIBRATE_MS = 500; // Android 原生默认500毫秒</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">25. 修改Launcher的应用菜单的背景</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">修改Google原生Launcher2的app list的透明度，只需要修改</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">packages/apps/launcher2/res/layout/ Apps_customize_pane.xml下的</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">android:background=&quot;#00000000” &lt;!-- App list 背景透明 --&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">26. 修改Launcher应用菜单背景透明</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">请修改Launcher.java 中的方法</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    void updateWallpaperVisibility(boolean visible) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        visible = true; // always show wallpaper</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// … …</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">或者在所有调用updateWallpaperVisibility(boolean)方法的地方，传参数都为true</p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">27. 默认关闭GPS（比较省电）</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">在做Qualcomm MSM8610平台项目时有这个需求.修改此项的前提是在首次开机时，没有开机向导，如果有的话，不保证能修改成功，通常会提示打开GPS以提供给Google更精准的定位以提供更好的服务，巴拉巴拉….</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">只需要在device下覆盖属性：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">frameworks/base/packages/SettingsProvider/res/values/defaults.xml下的节点：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;string name=&quot;def_location_providers_allowed&quot; translatable=&quot;false&quot;&gt;gps&lt;/string&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">将gps去掉就行，</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Tip：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">   一般有 @null | gps | gps,network 这三种情况</p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">28. 修改截屏保存位置、截屏声音、图片的命名</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Android 4.4中，关于截屏的创建与保存的逻辑是在SystemUI中的，源码路径在frameworks/base/packages/systemui/src/com/android/systemui/screenshot/ 下。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">修改截屏声音：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">frameworks/base/packages/systemui/src/com/android/systemui/screenshot/GlobalScreenshot.java</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">请修改构造函数中的</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        // Setup the Camera shutter sound</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        mCameraSound = new MediaActionSound();</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        mCameraSound.load(MediaActionSound.SHUTTER_CLICK);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">不要直接修改frameworks/base/media/java/android/media/MediaActionSound.java</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"></p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">修改截屏保存路径与命名：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">frameworks/base/packages/systemui/src/com/android/systemui/screenshot/GlobalScreenshot.java：：SaveImageInBackgroundTask</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">请修改构造函数中的下面代码：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">  // Prepare all the output metadata</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">mImageTime = System.currentTimeMillis();</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">String imageDate = new SimpleDateFormat(&quot;yyyy-MM-dd-HH-mm-ss&quot;)</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">.format(new Date(mImageTime));</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">mImageFileName = String.format(SCREENSHOT_FILE_NAME_TEMPLATE, imageDate); </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">mScreenshotDir = new File(Environment.getExternalStoragePublicDirectory(</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Environment.DIRECTORY_PICTURES),SCREENSHOTS_DIR_NAME);        mImageFilePath = new File(mScreenshotDir, mImageFileName).getAbsolutePath();</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">29. 修改字体大小默认为最大</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">请修改</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">frameworks/base/core/java/android/content/res/Configuration.java:: setToDefaults() {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">//fontScale = 1;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">fontScale = 1.05;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">需要检查设置—显示—字体大小 中的 value—array：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    &lt;string-array name=&quot;entryvalues_font_size&quot; translatable=&quot;false&quot;&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        &lt;item&gt;0.85&lt;/item&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        &lt;item&gt;1.0&lt;/item&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        &lt;item&gt;1.05&lt;/item&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        &lt;item&gt;1.10&lt;/item&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;/string-array&gt; </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">与设置—显示—字体大小—最大 对应的放大倍数保持一致。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Tip：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">要整体修改字体大小则需要考虑三方面的一致：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">1. entryvalues_font_size array中的数组要排序（从小到大）</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">2. com.android.settings.accessibility.AccessibilitySettings.java中的LARGE_FONT_SCALE要和array中的最大值一致(辅助功能—大号字体)</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">3. Configuration.java中的fontScale要和数组的第二个值一致，即“普通”的值一致</p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">30. 设置中默认打开未知来源</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">请修改frameworks/base/packages/SettingsProvider/res/values/defaults.xml</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;bool name=&quot;def_install_non_market_apps&quot;&gt;true&lt;/bool&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">有两种方法：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">1. 直接在device/project/overlay该属性节点</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">2. 不overlay，直接在项目中添加property属性，在代码中来控制</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">在.mk中添加ADDITIONAL_BUILD_PROPERTIE += ro.settings.install.nomarket = 1 </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">在frameworks/base/packages/SettingsProvider/src/com/android/providers/settings/DatabaseHelper.java中</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">loadBooleanSetting(stmt,Settings.Global.INSTALL_NON_MARKET_APPS,</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">R.bool.def_install_non_market_apps);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">修改为</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">int nomarket</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">=  SystemProperties.getInt(&quot;ro.settings.install.nomarket&quot;,</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">         mContext.getResources().getBoolean(R.bool.def_install_non_market_apps) ? 1 : 0); loadSetting(stmt, Settings.Global.INSTALL_NON_MARKET_APPS,nomarket);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">方法二的好处是，做差分时不用每次都去overlay，而是用过property控制，这样比较省资源，推荐第二种方法。</p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">31. 默认使用24小时制</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">请在frameworks/base/packages/SettingsProvider/res/values/defaults.xml中添加节点</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;string name=&quot;def_hour_format&quot;&gt;12&lt;/string&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">请添加DatabaseHelper.java:: loadSystemSettings(SQLiteDatabase db){</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// … …</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">loadSetting(stmt, Settings.System.TIME_12_24, </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">mContext.getResources().getString(R.string.def_hour_format));</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// … … </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">32. 修改默认蓝牙名称</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">请修改external/Bluetooth/bluedroid/btif/src/btit_dm.c::</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">static char btif_default_local_name[DEFAULT_LOCAL_NAME_MAX+1] = {'/0'};</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">修改为</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">static char btif_default_local_name[DEFAULT_LOCAL_NAME_MAX+1] = {'Laboo T2'};</p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">33. Launcher让应用程序列表背景透明或半透明</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">请修改packages/apps/Launcher2/res/layout/apps_customize_pane.xml</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">1.&lt;com.android.launcher2.AppsCustomizeTabHost/&gt; 的android:background为</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">android:background=&quot;@android:color/transparent&quot;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">2.id为android:id=&quot;@+id/animation_buffer”的</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">FrameLayout节点中android:background=&quot;@android:color/transparent&quot;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">3. packages/apps/Launcher2/src/com/android/launcher2/Launcher.java中</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">   updateWallpaperVisibility(boolean visible) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">visible = true;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// … …</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">如果以上设置不成功，或者效果不好，还要继续check</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">setWorkspaceBackground(boolean workspace);方法是否有影响，如果有的话，可以直接在此处修改</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        mLauncherView.setBackground(workspace ?</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">                mWorkspaceBackgroundDrawable : null);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">为</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        mLauncherView.setBackgroundColor(android.R.color.transparent);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">34. 默认显示“开发者选项”</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">请修改packages/apps/Settings/src/com/android/settings/Settings.java</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">private void updateHeaderList(List&lt;Header&gt; target)       </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> /*final boolean showDev = mDevelopmentPreferences.getBoolean(</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">                DevelopmentSettings.PREF_SHOW,</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">                android.os.Build.TYPE.equals(&quot;eng&quot;));*/</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">修改为             boolean  showDev = true;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">35. 修改日历的默认提醒时间</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">请修改packages/apps/calendar/res/xml/ General_preferences.xml </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">android:defaultValue=&quot;@string/preferences_default_reminder_default&quot;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">36. 提高输入法、虚拟按键的振动效果</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">1、首先，确认震动器是否是好的。如：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    a、开机时候有没震动</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    b、写个小例子，调用如下代码</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        Vibrator vibrator = (Vibrator) getSystemService(VIBRATOR_SERVICE);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        vibrator.vibrate(200);// 手机振动(200毫秒)</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">2、如果如上都没效果，说明振动器问题，需要驱动查下</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">3、如果如上有效果，那么就很可能是设置的震动效果太弱了，可以跟随代码查下最终调用vibrator.vibrate(200)的地方括号中的值是多少，适当加大即可</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">输入法键盘的值（其他类型的也有）定义在config.xml中，可以看到是40，如下：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    &lt;!-- Vibrator pattern for a very short but reliable vibration for soft keyboard tap --&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    &lt;integer-array name=&quot;config_keyboardTapVibePattern&quot;&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        &lt;item&gt;40&lt;/item&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;/integer-array&gt;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">37. 显示虚拟按键</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">请修改frameworks/base/core/res/res/values/config.xml文件中</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&lt;bool name=“config_showNavigationBar”&gt;true&lt;/bool&gt; //将这个属性设置为true</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">如果开不了机，就需要判断底层是否支持了；</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">100%有效果的方法是修改</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">frameworks/base/packages/systemui/src/com/android/systemui/statusbar/phone/ PhoneStatusBar.java中的</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">protected PhoneStatusBarView makeStatusBarView();</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">//boolean showNav = mWindowManagerService.hasNavigationBar();</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">boolean showNav = true;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Tip:</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">虚拟按键目前我们做的项目还没有使用过，上面两种方法都是我自己在ho9021的marvell项目中亲测通过的。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">PhoneWindowManager.java中:</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">mHasNavigationBar = </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">res.getBoolean(com.android.internal.R.bool.config_showNavigationBar);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        // Allow a system property to override this. Used by the emulator.</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        // See also hasNavigationBar().</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        String navBarOverride = SystemProperties.get(&quot;qemu.hw.mainkeys&quot;);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        if (&quot;1&quot;.equals(navBarOverride)) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            mHasNavigationBar = false;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        } else if (&quot;0&quot;.equals(navBarOverride)) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            mHasNavigationBar = true;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        }</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">38. 修改USB默认选中PTP</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">请修改device/marvell/common/common.mk中</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">persist.sys.usb.config=rndis,acm,marvell_diag</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">修改为</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">persist.sys.usb.config=ptp</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Tip:</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">修改此需求，请务必与驱动工程师沟通。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">39. 默认关闭数据连接</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">请查看下面代码</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">frameworks/base/packages/SettingsProvider/src/com/android/providers/settings/DatabaseHelper.java中</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">public class DatabaseHelper extends SQLiteOpenHelper {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// Mobile Data default, based on build</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">String sim1Default, sim2Default;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">sim1Default = &quot;true&quot;;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">sim2Default = &quot;false&quot;;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">loadSetting(stmt, Settings.Global.MOBILE_DATA,</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&quot;true&quot;.equalsIgnoreCase(</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    SystemProperties.get(&quot;ro.com.android.mobiledata&quot;,sim1Default))</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">? 1 : 0);}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">loadSetting(stmt, Settings.Global.MOBILE2_DATA,</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">&quot;true&quot;.equalsIgnoreCase(</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">SystemProperties.get(&quot;ro.com.android.mobiledata2&quot;,sim2Default))</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">? 1 : 0);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">所以需要在device下覆盖这两个property:</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">ADDITIONAL_BUILD_PROPERTIES += /</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    ro.com.android.mobiledata = false /</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">ro.com.android.mobiledata2 = false /</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">40. 插入耳机时禁止状态栏显示图标</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">请修改</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">/frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/PhoneStatusBarPolicy.java的updateHeadSet方法中，</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">修改前：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">mService.setIconVisibility(&quot;headset&quot;, visiable);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">修改后：</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">mService.setIconVisibility(&quot;headset&quot;, false);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><h3 style="border: medium none; margin: 0px; padding: 0px; font-size: 14px;">41. 选择USB大容量存储模式时，直接挂载t卡到PC</h3><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">第一、首先检查SystemUIService.java 在初始化时是否有对</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">com.android.systemui.usb.StorageNotification.class 的反射。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">如果有，则去掉;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    private final Class&lt;?&gt;[] SERVICES = new Class[] {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            com.android.systemui.recent.Recents.class,</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            com.android.systemui.statusbar.SystemBars.class,</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            //com.android.systemui.usb.StorageNotification.class,</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            com.android.systemui.power.PowerUI.class,</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            com.android.systemui.media.RingtonePlayer.class,</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            com.android.systemui.settings.SettingsUI.class,</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        };</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">StorageNotification控制跳转到USB大容量存储界面的Notification的发送。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">第二、修改UsbDeviceManager.java 这是UsbManager的代理</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">Usb连接状态改变时会监听到/sys/class/android_usb/android0/state 变化最终调用</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">UsbDeviceManager:: updateState(String.class)通过handler更新Usb状态到UI。</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">@Override</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        public void handleMessage(Message msg) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">            switch (msg.what) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">                case MSG_UPDATE_STATE:</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">                    mConnected = (msg.arg1 == 1);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">                    mConfigured = (msg.arg2 == 1);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// 在此处添加针对Mass_storage的更新</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">updateMassStorageState(mConnected);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">                    updateUsbNotification();</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">                    updateAdbNotification();</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">// 添加如下方法</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">private void updateMassStorageState(boolean connected) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">StorageManager storageMgr=</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">(StorageManager) mContext.getSystemService(Context.STORAGE_SERVICE);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">    if (storageMgr == null) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">     Log.w(TAG, &quot;Failed to get StorageManager&quot;);</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">        return;</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">  }</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;"> </p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">if(connected &amp;&amp; UsbManager.USB_FUNCTION_MASS_STORAGE</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">     .equals(new UsbManager(null, null).getDefaultFunction())) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">     if(!storageMgr.isUsbMassStorageEnabled()) {</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">         storageMgr.enableUsbMassStorage();</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">       }</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">} else if(storageMgr.isUsbMassStorageConnected()){</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">storageMgr.disableUsbMassStorage();</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p><p style="border: medium none; margin: 15px auto 0px; padding: 0px;">}</p></div><div style="margin-top: 15px; width: 570px; padding-left: 10px; padding-right: 10px; height: 27px; margin-left: auto; margin-right: auto; color: rgb(1, 1, 1); font-family: 宋体, tahoma, Srial, helvetica, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(233, 241, 255);"><div style="padding-left: 35px; float: left; background-image: url(http://www.th7.cn/sandag/img/tag.gif); background-position: 0% 50%; background-repeat: no-repeat;"><a href="http://www.th7.cn/e/tags/?tagname=Android" style="text-decoration: none; color: rgb(51, 51, 51); margin-left: 5px; margin-right: 5px;" target="_blank">Android</a></div></div><div style="width: 590px; margin-left: auto; margin-right: auto; padding-top: 20px; padding-bottom: 15px; color: rgb(1, 1, 1); font-family: 宋体, tahoma, Srial, helvetica, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="display: block; margin: 0px; padding: 0px; float: none; clear: none; overflow: hidden; position: relative; border: 0px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; text-align: left; box-sizing: content-box; left: -99999px; background: none;"><div style="display: block; margin: 0px; padding: 0px; float: none; clear: none; overflow: hidden; position: relative; border: 0px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; text-align: left; box-sizing: content-box; width: 590px; height: 313px; background: none;"><div style="box-sizing: content-box; margin: 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 1px solid rgb(204, 226, 253); width: 544px; height: 311px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; background: none rgb(255, 255, 255);"><div style="box-sizing: content-box; margin: 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: auto; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background: none;"><div style="box-sizing: content-box; margin: 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: auto; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background: none;"><ul style="box-sizing: content-box; margin: 0px 12px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: auto; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; background: none;"><li style="box-sizing: content-box; margin: 12px 0px 0px; padding: 0px; float: left; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: 130px; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; display: list-item; text-align: left; list-style: square inside; background: none;"><a href="http://www.th7.cn/Program/Android/201401/168546.shtml" style="display: block; box-sizing: content-box; margin: auto; padding: 0px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 1px solid rgb(206, 219, 235); width: 120px; height: 90px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; background: none;" target="_blank" title="Android Phonebook编写联系人UI加载及联系人保存流程（三）"><img src="http://t12.baidu.com/it/u=1202762381,739967006%26amp;fm=72" style="box-sizing: content-box; margin: 0px 0px 0px -21.2903px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: none; width: 162.581px; height: 90px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background: none;"></img></a><a href="http://www.th7.cn/Program/Android/201401/168546.shtml" style="display: block; box-sizing: content-box; margin: 6px auto auto; padding: 0px; float: none; clear: none; overflow: hidden; white-space: normal; word-wrap: normal; border: 0px; width: 120px; height: 32px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); color: rgb(51, 51, 51); font-family: arial, SimSun, sans-serif; font-size: 12px; font-weight: normal; text-decoration: none; visibility: visible; background: none;" target="_blank" title="Android Phonebook编写联系人UI加载及联系人保存流程（三）">Android Phonebook编写联系人UI加载及联系人保存流程（三）</a></li><li style="box-sizing: content-box; margin: 12px 0px 0px; padding: 0px; float: left; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: 130px; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; display: list-item; text-align: left; list-style: square inside; background: none;"><a href="http://www.th7.cn/Program/Android/201301/122945.shtml" style="display: block; box-sizing: content-box; margin: auto; padding: 0px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 1px solid rgb(206, 219, 235); width: 120px; height: 90px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; background: none;" target="_blank" title="MTK Android 修改默认日期时间-Android-第七城市"><img src="http://t11.baidu.com/it/u=3099964723,1688150284%26amp;fm=72" style="box-sizing: content-box; margin: -5.05976px 0px 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: none; width: 120px; height: 105.179px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background: none;"></img></a><a href="http://www.th7.cn/Program/Android/201301/122945.shtml" style="display: block; box-sizing: content-box; margin: 6px auto auto; padding: 0px; float: none; clear: none; overflow: hidden; white-space: normal; word-wrap: normal; border: 0px; width: 120px; height: 32px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); color: rgb(51, 51, 51); font-family: arial, SimSun, sans-serif; font-size: 12px; font-weight: normal; text-decoration: none; visibility: visible; background: none;" target="_blank" title="MTK Android 修改默认日期时间-Android-第七城市">MTK Android 修改默认日期时间-Android-第七城市</a></li><li style="box-sizing: content-box; margin: 12px 0px 0px; padding: 0px; float: left; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: 130px; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; display: list-item; text-align: left; list-style: square inside; background: none;"><a href="http://www.th7.cn/Program/Android/201405/212053.shtml" style="display: block; box-sizing: content-box; margin: auto; padding: 0px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 1px solid rgb(206, 219, 235); width: 120px; height: 90px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; background: none;" target="_blank" title="使用proguard混淆android代码-Android-第七城市"><img src="http://t10.baidu.com/it/u=3044610960,1473327413%26amp;fm=72" style="box-sizing: content-box; margin: 0px 0px 0px -137.802px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: none; width: 395.604px; height: 90px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background: none;"></img></a><a href="http://www.th7.cn/Program/Android/201405/212053.shtml" style="display: block; box-sizing: content-box; margin: 6px auto auto; padding: 0px; float: none; clear: none; overflow: hidden; white-space: normal; word-wrap: normal; border: 0px; width: 120px; height: 32px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); color: rgb(51, 51, 51); font-family: arial, SimSun, sans-serif; font-size: 12px; font-weight: normal; text-decoration: none; visibility: visible; background: none;" target="_blank" title="使用proguard混淆android代码-Android-第七城市">使用proguard混淆android代码-Android-第七城市</a></li><li style="box-sizing: content-box; margin: 12px 0px 0px; padding: 0px; float: left; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: 130px; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; display: list-item; text-align: left; list-style: square inside; background: none;"><a href="http://www.th7.cn/Program/Android/201503/410706.shtml" style="display: block; box-sizing: content-box; margin: auto; padding: 0px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 1px solid rgb(206, 219, 235); width: 120px; height: 90px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; background: none;" target="_blank" title="Android5.0全透明状态栏效果"><img src="http://t11.baidu.com/it/u=2574657433,1103139165%26amp;fm=72" style="box-sizing: content-box; margin: -41.5447px 0px 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: none; width: 120px; height: 214.634px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background: none;"></img></a><a href="http://www.th7.cn/Program/Android/201503/410706.shtml" style="display: block; box-sizing: content-box; margin: 6px auto auto; padding: 0px; float: none; clear: none; overflow: hidden; white-space: normal; word-wrap: normal; border: 0px; width: 120px; height: 32px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); color: rgb(51, 51, 51); font-family: arial, SimSun, sans-serif; font-size: 12px; font-weight: normal; text-decoration: none; visibility: visible; background: none;" target="_blank" title="Android5.0全透明状态栏效果">Android5.0全透明状态栏效果</a></li></ul><ul style="box-sizing: content-box; margin: 0px; padding: 12px 12px 0px 0px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: auto; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; background: none;"><li style="box-sizing: content-box; margin: 0px; padding: 0px; float: left; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: 266px; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; display: list-item; text-align: left; list-style: square inside; background: none;"><div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 20px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: auto; height: 22px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background: url(http://ecma.bdimg.com/holmes/t-list-styles.svg) 12px 9px no-repeat, none;"><a href="http://www.th7.cn/Program/Android/201210/106777.shtml" style="display: -webkit-box; box-sizing: content-box; margin: 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: normal; word-wrap: normal; border: 0px; width: auto; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); text-overflow: ellipsis; -webkit-line-clamp: 1; -webkit-box-orient: vertical; color: rgb(51, 51, 51); font-family: arial, SimSun, sans-serif; font-size: 12px; font-weight: normal; text-decoration: none; background: none;" target="_blank" title="在代码中实现按下Home键的效果-Android-第七城市">在代码中实现按下Home键的效果-Android-第七城市</a></div></li><li style="box-sizing: content-box; margin: 0px; padding: 0px; float: left; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: 266px; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; display: list-item; text-align: left; list-style: square inside; background: none;"><div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 20px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: auto; height: 22px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background: url(http://ecma.bdimg.com/holmes/t-list-styles.svg) 12px 9px no-repeat, none;"><a href="http://www.th7.cn/Program/Android/201507/517442.shtml" style="display: -webkit-box; box-sizing: content-box; margin: 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: normal; word-wrap: normal; border: 0px; width: auto; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); text-overflow: ellipsis; -webkit-line-clamp: 1; -webkit-box-orient: vertical; color: rgb(51, 51, 51); font-family: arial, SimSun, sans-serif; font-size: 12px; font-weight: normal; text-decoration: none; background: none;" target="_blank" title="Android代码资源的国际化-Android-第七城市">Android代码资源的国际化-Android-第七城市</a></div></li><li style="box-sizing: content-box; margin: 0px; padding: 0px; float: left; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: 266px; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; display: list-item; text-align: left; list-style: square inside; background: none;"><div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 20px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: auto; height: 22px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background: url(http://ecma.bdimg.com/holmes/t-list-styles.svg) 12px 9px no-repeat, none;"><a href="http://www.th7.cn/Program/Android/201503/419872.shtml" style="display: -webkit-box; box-sizing: content-box; margin: 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: normal; word-wrap: normal; border: 0px; width: auto; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); text-overflow: ellipsis; -webkit-line-clamp: 1; -webkit-box-orient: vertical; color: rgb(51, 51, 51); font-family: arial, SimSun, sans-serif; font-size: 12px; font-weight: normal; text-decoration: none; background: none;" target="_blank" title="Android framework系统默认设置修改">Android framework系统默认设置修改</a></div></li><li style="box-sizing: content-box; margin: 0px; padding: 0px; float: left; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: 266px; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; display: list-item; text-align: left; list-style: square inside; background: none;"><div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 20px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: auto; height: 22px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background: url(http://ecma.bdimg.com/holmes/t-list-styles.svg) 12px 9px no-repeat, none;"><a href="http://www.th7.cn/Program/Android/201505/459650.shtml" style="display: -webkit-box; box-sizing: content-box; margin: 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: normal; word-wrap: normal; border: 0px; width: auto; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); text-overflow: ellipsis; -webkit-line-clamp: 1; -webkit-box-orient: vertical; color: rgb(51, 51, 51); font-family: arial, SimSun, sans-serif; font-size: 12px; font-weight: normal; text-decoration: none; background: none;" target="_blank" title="Android Studio设置代码风格-Android-第七城市">Android Studio设置代码风格-Android-第七城市</a></div></li><li style="box-sizing: content-box; margin: 0px; padding: 0px; float: left; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: 266px; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; display: list-item; text-align: left; list-style: square inside; background: none;"><div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 20px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: auto; height: 22px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background: url(http://ecma.bdimg.com/holmes/t-list-styles.svg) 12px 9px no-repeat, none;"><a href="http://www.th7.cn/Program/Android/201412/327251.shtml" style="display: -webkit-box; box-sizing: content-box; margin: 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: normal; word-wrap: normal; border: 0px; width: auto; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); text-overflow: ellipsis; -webkit-line-clamp: 1; -webkit-box-orient: vertical; color: rgb(51, 51, 51); font-family: arial, SimSun, sans-serif; font-size: 12px; font-weight: normal; text-decoration: none; background: none;" target="_blank" title="android Launcher主菜单的每一屏修改为x*x的布局">android Launcher主菜单的每一屏修改为x*x的布局</a></div></li><li style="box-sizing: content-box; margin: 0px; padding: 0px; float: left; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: 266px; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; display: list-item; text-align: left; list-style: square inside; background: none;"><div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 20px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: auto; height: 22px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background: url(http://ecma.bdimg.com/holmes/t-list-styles.svg) 12px 9px no-repeat, none;"><a href="http://www.th7.cn/Program/Android/201408/272074.shtml" style="display: -webkit-box; box-sizing: content-box; margin: 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: normal; word-wrap: normal; border: 0px; width: auto; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); text-overflow: ellipsis; -webkit-line-clamp: 1; -webkit-box-orient: vertical; color: rgb(51, 51, 51); font-family: arial, SimSun, sans-serif; font-size: 12px; font-weight: normal; text-decoration: none; background: none;" target="_blank" title="Android调用系统相机、自定义相机、处理大图片">Android调用系统相机、自定义相机、处理大图片</a></div></li><li style="box-sizing: content-box; margin: 0px; padding: 0px; float: left; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: 266px; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; display: list-item; text-align: left; list-style: square inside; background: none;"><div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 20px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: auto; height: 22px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background: url(http://ecma.bdimg.com/holmes/t-list-styles.svg) 12px 9px no-repeat, none;"><a href="http://www.th7.cn/Program/Android/201411/322997.shtml" style="display: -webkit-box; box-sizing: content-box; margin: 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: normal; word-wrap: normal; border: 0px; width: auto; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); text-overflow: ellipsis; -webkit-line-clamp: 1; -webkit-box-orient: vertical; color: rgb(51, 51, 51); font-family: arial, SimSun, sans-serif; font-size: 12px; font-weight: normal; text-decoration: none; background: none;" target="_blank" title="Android如何实现对系统自带对话框标题栏进行修改-Android-第七城市">Android如何实现对系统自带对话框标题栏进行修改-Android-第七城市</a></div></li><li style="box-sizing: content-box; margin: 0px; padding: 0px; float: left; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: 266px; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; display: list-item; text-align: left; list-style: square inside; background: none;"><div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 20px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: auto; height: 22px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background: url(http://ecma.bdimg.com/holmes/t-list-styles.svg) 12px 9px no-repeat, none;"><a href="http://www.th7.cn/Program/Python/201412/326871.shtml" style="display: -webkit-box; box-sizing: content-box; margin: 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: normal; word-wrap: normal; border: 0px; width: auto; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); text-overflow: ellipsis; -webkit-line-clamp: 1; -webkit-box-orient: vertical; color: rgb(51, 51, 51); font-family: arial, SimSun, sans-serif; font-size: 12px; font-weight: normal; text-decoration: none; background: none;" target="_blank" title="Python - 在定义函数时，为什么默认参数不能放在必选参数前面？">Python - 在定义函数时，为什么默认参数不能放在必选参数前面？</a></div></li><li style="box-sizing: content-box; margin: 0px; padding: 0px; float: left; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: 266px; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; display: list-item; text-align: left; list-style: square inside; background: none;"><div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 20px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: auto; height: 22px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background: url(http://ecma.bdimg.com/holmes/t-list-styles.svg) 12px 9px no-repeat, none;"><a href="http://www.th7.cn/system/lin/201304/38699.shtml" style="display: -webkit-box; box-sizing: content-box; margin: 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: normal; word-wrap: normal; border: 0px; width: auto; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); text-overflow: ellipsis; -webkit-line-clamp: 1; -webkit-box-orient: vertical; color: rgb(51, 51, 51); font-family: arial, SimSun, sans-serif; font-size: 12px; font-weight: normal; text-decoration: none; background: none;" target="_blank" title="变量和参数的介绍-Linux-第七城市">变量和参数的介绍-Linux-第七城市</a></div></li><li style="box-sizing: content-box; margin: 0px; padding: 0px; float: left; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: 266px; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; display: list-item; text-align: left; list-style: square inside; background: none;"><div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 20px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: auto; height: 22px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background: url(http://ecma.bdimg.com/holmes/t-list-styles.svg) 12px 9px no-repeat, none;"><a href="http://www.th7.cn/Program/Android/201509/572808.shtml" style="display: -webkit-box; box-sizing: content-box; margin: 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: normal; word-wrap: normal; border: 0px; width: auto; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); text-overflow: ellipsis; -webkit-line-clamp: 1; -webkit-box-orient: vertical; color: rgb(51, 51, 51); font-family: arial, SimSun, sans-serif; font-size: 12px; font-weight: normal; text-decoration: none; background: none;" target="_blank" title="android 状态栏一体化实现_Android_第七城市">android 状态栏一体化实现_Android_第七城市</a></div></li><li style="box-sizing: content-box; margin: 0px; padding: 0px; float: left; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: 266px; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; display: list-item; text-align: left; list-style: square inside; background: none;"><div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 20px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: auto; height: 22px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background: url(http://ecma.bdimg.com/holmes/t-list-styles.svg) 12px 9px no-repeat, none;"><a href="http://www.th7.cn/Program/Android/2011/07/29/36059.shtml" style="display: -webkit-box; box-sizing: content-box; margin: 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: normal; word-wrap: normal; border: 0px; width: auto; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); text-overflow: ellipsis; -webkit-line-clamp: 1; -webkit-box-orient: vertical; color: rgb(51, 51, 51); font-family: arial, SimSun, sans-serif; font-size: 12px; font-weight: normal; text-decoration: none; background: none;" target="_blank" title="Android使用ksoap2调用C#webservice体会(转)-Android-第七城市">Android使用ksoap2调用C#webservice体会(转)-Android-第七城市</a></div></li><li style="box-sizing: content-box; margin: 0px; padding: 0px; float: left; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: 266px; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; display: list-item; text-align: left; list-style: square inside; background: none;"><div style="box-sizing: content-box; margin: 0px; padding: 0px 0px 0px 20px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: auto; height: 22px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background: url(http://ecma.bdimg.com/holmes/t-list-styles.svg) 12px 9px no-repeat, none;"><a href="http://www.th7.cn/Program/Python/201407/234192.shtml" style="display: -webkit-box; box-sizing: content-box; margin: 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: normal; word-wrap: normal; border: 0px; width: auto; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); text-overflow: ellipsis; -webkit-line-clamp: 1; -webkit-box-orient: vertical; color: rgb(51, 51, 51); font-family: arial, SimSun, sans-serif; font-size: 12px; font-weight: normal; text-decoration: none; background: none;" target="_blank" title="使用Python获取Linux系统的各种信息-Python-第七城市">使用Python获取Linux系统的各种信息-Python-第七城市</a></div></li></ul></div><div style="box-sizing: content-box; margin: 5px 0px 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: auto; height: 22px; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: relative; background: none;"><a href="http://tuijian.baidu.com/" style="display: inline-block; box-sizing: content-box; margin: 0px; padding: 0px; float: none; clear: none; overflow: hidden; white-space: nowrap; word-wrap: normal; border: 0px; width: auto; height: auto; max-width: none; max-height: none; border-radius: 0px; box-shadow: none; transition: none; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); position: absolute; top: 0px; right: 5px; font-family: arial, sans-serif; font-size: 12px; color: rgb(174, 174, 174); text-decoration: none; background: none;" target="_blank">百度推荐</a></div></div></div></div></div></div><div style="width: 590px; margin-left: auto; margin-right: auto; padding-top: 20px; padding-bottom: 15px; color: rgb(1, 1, 1); font-family: 宋体, tahoma, Srial, helvetica, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><h3 style="border: medium none; margin: 0px; padding: 0px 0px 0px 20px; font-size: 14px; height: 30px; background-image: url(http://www.th7.cn/sandag/img/newsico.png); background-position: 0% 50%; background-repeat: no-repeat;">相关文章</h3><ul style="border: medium none; margin: 0px; padding: 0px; list-style: none;"><li style="border: medium none; margin: 0px 0px 0px 20px; padding: 0px 0px 0px 7px; font-size: 14px; background-image: url(http://www.th7.cn/sandag/img/dian.png); background-position: 0% 50%; background-repeat: no-repeat;"><a href="http://www.th7.cn/Program/Android/201507/518391.shtml" style="text-decoration: none; color: rgb(51, 51, 51);" title="Android&amp;nbsp;开发有哪些新技术出现？&amp;nbsp;">Android&amp;nbsp;开发有哪些新技术出现？&amp;nbsp;</a></li><li style="border: medium none; margin: 0px 0px 0px 20px; padding: 0px 0px 0px 7px; font-size: 14px; background-image: url(http://www.th7.cn/sandag/img/dian.png); background-position: 0% 50%; background-repeat: no-repeat;"><a href="http://www.th7.cn/Program/Android/201507/518177.shtml" style="text-decoration: none; color: rgb(51, 51, 51);" title="android开发环境 国内镜像 及Android SDK manager使用国内服务器方法">android开发环境 国内镜像 及Android SDK manager使用</a></li><li style="border: medium none; margin: 0px 0px 0px 20px; padding: 0px 0px 0px 7px; font-size: 14px; background-image: url(http://www.th7.cn/sandag/img/dian.png); background-position: 0% 50%; background-repeat: no-repeat;"><a href="http://www.th7.cn/Program/Android/201507/518176.shtml" style="text-decoration: none; color: rgb(51, 51, 51);" title="Android猜歌游戏学习总结——软件设计篇">Android猜歌游戏学习总结——软件设计篇</a></li><li style="border: medium none; margin: 0px 0px 0px 20px; padding: 0px 0px 0px 7px; font-size: 14px; background-image: url(http://www.th7.cn/sandag/img/dian.png); background-position: 0% 50%; background-repeat: no-repeat;"><a href="http://www.th7.cn/Program/Android/201507/518175.shtml" style="text-decoration: none; color: rgb(51, 51, 51);" title="Android ContentObserver 监听图库变化">Android ContentObserver 监听图库变化</a></li><li style="border: medium none; margin: 0px 0px 0px 20px; padding: 0px 0px 0px 7px; font-size: 14px; background-image: url(http://www.th7.cn/sandag/img/dian.png); background-position: 0% 50%; background-repeat: no-repeat;"><a href="http://www.th7.cn/Program/Android/201507/518174.shtml" style="text-decoration: none; color: rgb(51, 51, 51);" title="android基础画板的实现（surfaceView）">android基础画板的实现（surfaceView）</a></li><li style="border: medium none; margin: 0px 0px 0px 20px; padding: 0px 0px 0px 7px; font-size: 14px; background-image: url(http://www.th7.cn/sandag/img/dian.png); background-position: 0% 50%; background-repeat: no-repeat;"><a href="http://www.th7.cn/Program/Android/201507/518088.shtml" style="text-decoration: none; color: rgb(51, 51, 51);" title="实现android按键震动按键声音的机制">实现android按键震动按键声音的机制</a></li><li style="border: medium none; margin: 0px 0px 0px 20px; padding: 0px 0px 0px 7px; font-size: 14px; background-image: url(http://www.th7.cn/sandag/img/dian.png); background-position: 0% 50%; background-repeat: no-repeat;"><a href="http://www.th7.cn/Program/Android/201507/518172.shtml" style="text-decoration: none; color: rgb(51, 51, 51);" title="Android中Parcelable和Serializable接口用法">Android中Parcelable和Serializable接口用法</a></li><li style="border: medium none; margin: 0px 0px 0px 20px; padding: 0px 0px 0px 7px; font-size: 14px; background-image: url(http://www.th7.cn/sandag/img/dian.png); background-position: 0% 50%; background-repeat: no-repeat;"><a href="http://www.th7.cn/Program/Android/201507/518169.shtml" style="text-decoration: none; color: rgb(51, 51, 51);" title="Android获取手机配置信息">Android获取手机配置信息</a></li><li style="border: medium none; margin: 0px 0px 0px 20px; padding: 0px 0px 0px 7px; font-size: 14px; background-image: url(http://www.th7.cn/sandag/img/dian.png); background-position: 0% 50%; background-repeat: no-repeat;"><a href="http://www.th7.cn/Program/Android/201507/518167.shtml" style="text-decoration: none; color: rgb(51, 51, 51);" title="Android安卓获取网络状态">Android安卓获取网络状态</a></li><li style="border: medium none; margin: 0px 0px 0px 20px; padding: 0px 0px 0px 7px; font-size: 14px; background-image: url(http://www.th7.cn/sandag/img/dian.png); background-position: 0% 50%; background-repeat: no-repeat;"><a href="http://www.th7.cn/Program/Android/201507/518165.shtml" style="text-decoration: none; color: rgb(51, 51, 51);" title="ANDROID TEXTVIEW 设置字体颜色">ANDROID TEXTVIEW 设置字体颜色</a></li></ul></div><div><br/></div></div></div></div></span>
</div></body></html> 