<html>
<head>
  <title>Java进阶1 —— 对象的创建与销毁</title>
  <basefont face="Microsoft YaHei" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/301769 (zh-CN); Windows/6.3.9600 (Win64);"/>
  <style>
    body, td {
      font-family: Microsoft YaHei;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1357"/>
<h1>Java进阶1 —— 对象的创建与销毁</h1>

<div>
<span><div style="box-sizing: border-box; position: relative; z-index: 3; color: rgb(51, 51, 51); font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><h1 style="box-sizing: border-box; font-size: 36px; margin: 0px; font-family: inherit; font-weight: 500; color: inherit; float: left;"><a href="https://segmentfault.com/" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; float: left; display: block; height: 54px; width: 188px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/logo-b.svg) 0% 50% / auto 32px no-repeat;">SegmentFault</a></h1><ul style="box-sizing: border-box; margin: 12px 0px 0px 23px; float: left !important; padding-left: 0px; list-style: none;"><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/questions" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">问答</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/blogs" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">文章</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/user/note" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">笔记</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/jobs" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">职位</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/events" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">活动</a></li></ul><ul style="box-sizing: border-box; margin: 12px 0px 0px; float: right !important; padding-left: 0px; list-style: none;"><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px; vertical-align: middle; color: rgb(102, 102, 102); width: 36px; height: 30px;"><a href="https://segmentfault.com/tour" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;" target="_blank"><span style="box-sizing: border-box; position: absolute; width: 1px; height: 1px; margin: -1px; padding: 0px; overflow: hidden; clip: rect(0px 0px 0px 0px); border: 0px;">消息</span></a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/user/login" style="box-sizing: border-box; color: rgb(255, 255, 255); text-decoration: none; outline: 0px; margin-left: 10px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; box-shadow: rgba(0, 0, 0, 0.2) 0px 1px 2px; background: rgb(0, 154, 97);">注册 · 登录</a></li></ul></div><div style="box-sizing: border-box; box-shadow: rgba(0, 0, 0, 0.239216) 0px 1px 2px 0px; color: rgb(51, 51, 51); font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(0, 95, 60);"><div style="box-sizing: border-box; margin-right: auto; margin-left: auto; padding-left: 15px; padding-right: 15px; width: 1140px;"><ul style="box-sizing: border-box; margin: 0px; height: 34px; overflow: hidden; list-style: none; padding: 0px;"><li style="box-sizing: border-box; display: inline-block; padding: 0px;"><a href="https://segmentfault.com/" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px 10px 10px 0px; white-space: nowrap; background: transparent;">home</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px;"><a href="https://segmentfault.com/timeline" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">feed</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px;"><a style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;"></a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/javascript" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">javascript</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/php" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">php</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/python" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">python</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/java" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">java</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/mysql" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">mysql</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/ios" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">ios</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/android" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">android</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/node.js" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">node.js</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/html5" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">html5</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/linux" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">linux</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/c%2B%2B" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">c++</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/css3" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">css3</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/git" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">git</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/golang" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">golang</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/ruby" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">ruby</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/vim" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">vim</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/docker" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">docker</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/mongodb" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">mongodb</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: absolute; top: 0px; right: 0px; height: 34px; width: 34px; background-color: rgb(0, 95, 60);"><a href="https://segmentfault.com/tags" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;"></a></li></ul></div></div><div style="box-sizing: border-box; padding-bottom: 30px; position: relative; color: rgb(51, 51, 51); font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding: 20px 0px; background: rgb(246, 246, 246);"><div style="box-sizing: border-box; margin-right: auto; margin-left: auto; padding-left: 15px; padding-right: 15px; width: 1140px;"><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 855px;"><span style="box-sizing: border-box; vertical-align: top; text-align: center; display: block; float: left; border: 1px solid rgb(0, 154, 97); border-radius: 50%; font-size: 16px; padding: 4px; width: 28px; height: 28px; color: rgb(0, 154, 97); font-weight: 400; margin-right: 10px; background: rgba(0, 154, 96, 0);">文</span><div style="box-sizing: border-box; color: rgb(153, 153, 153); margin-left: 40px; margin-bottom: -5px;"><h1 style="box-sizing: border-box; font-size: 24px; margin: 0px 0px 15px; font-family: inherit; font-weight: 500; color: inherit;"><a href="https://segmentfault.com/a/1190000004390247" style="box-sizing: border-box; color: rgb(51, 51, 51); text-decoration: none; outline: 0px; background: transparent;">Java进阶1 —— 对象的创建与销毁</a></h1><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; display: inline-block; margin-right: 10px; list-style: none; padding: 0px; font-size: 0px;"><li style="box-sizing: border-box; margin-bottom: 5px; padding: 0px; font-size: 13px; display: inline-block; margin-right: 0px;"><a href="https://segmentfault.com/t/java/blogs" style="box-sizing: border-box; color: rgb(1, 126, 102); text-decoration: none; outline: 0px; display: inline-block; padding: 0px 8px; height: 24px; font-weight: 400; font-size: 13px; text-align: center; background: rgba(1, 126, 102, 0.0784314);">java</a></li></ul>
 
<div style="box-sizing: border-box; display: inline-block;"><a href="https://segmentfault.com/u/enjiex" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 5px; background: transparent;"><strong style="box-sizing: border-box; font-weight: 700;">牧曦之晨</strong></a> 1月30日发布</div></div></div><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 285px;"><ul style="box-sizing: border-box; margin: 0px; padding-left: 0px; list-style: none; color: rgb(153, 153, 153);"><li style="box-sizing: border-box; margin-top: 0px;"> <strong style="box-sizing: border-box; font-weight: 700; color: rgb(51, 51, 51);">1</strong> 推荐</li><li style="box-sizing: border-box; margin-top: 10px;"> <strong style="box-sizing: border-box; font-weight: 700; color: rgb(51, 51, 51);">20</strong> 收藏，<strong style="box-sizing: border-box; font-weight: 400; color: rgb(51, 51, 51);">694</strong> 浏览</li></ul></div></div></div></div><div style="box-sizing: border-box; margin-right: auto; margin-left: auto; padding-left: 15px; padding-right: 15px; width: 1140px; margin-top: 30px;"><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 855px;"><div style="box-sizing: border-box; word-wrap: break-word;"><blockquote style="box-sizing: border-box; padding: 10.5px 21px; margin: 0px 0px 1.5em; font-size: 1em; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(0, 154, 97); color: rgb(85, 85, 85); background: rgb(246, 246, 246);"><p style="box-sizing: border-box; margin: 0px;">原文链接：<a href="http://www.javacodegeeks.com/2015/09/how-to-create-and-destroy-objects.html" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">http://www.javacodegeeks.com/2015/09/how-to-create-and-destroy-objects.html</a></p></blockquote><p style="box-sizing: border-box; margin: 1.5em 0px;">本文是Java进阶课程的第一部分。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">本课程的目标是帮你更有效的使用Java。其中讨论了一些高级主题，包括对象的创建、并发、序列化、反射以及其他高级特性。本课程将为你的精通Java的旅程提供指导。</p><h4 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px; font-size: 1.25em;">内容提纲</h4><ol style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px;"><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">引言</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">实例构造</a><br style="box-sizing: border-box;"/>
2.1 <a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">隐式(产生的)构造方法</a> <br style="box-sizing: border-box;"/>
2.2 <a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">无参构造方法 </a><br style="box-sizing: border-box;"/>
2.3 <a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">有参构造方法</a> <br style="box-sizing: border-box;"/>
2.4 <a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">初始化代码块</a> <br style="box-sizing: border-box;"/>
2.5 <a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">保证构造默认值</a> <br style="box-sizing: border-box;"/>
2.6 <a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">可见性</a> <br style="box-sizing: border-box;"/>
2.7 <a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">垃圾回收</a> <br style="box-sizing: border-box;"/>
2.8 <a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">对象终结器</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">静态初始化</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">构造器模式</a> <br style="box-sizing: border-box;"/>
4.1 <a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">单例模式</a> <br style="box-sizing: border-box;"/>
4.2 <a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">工具类/辅助类</a> <br style="box-sizing: border-box;"/>
4.3 <a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">工厂模式</a> <br style="box-sizing: border-box;"/>
4.4 <a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">依赖注入</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">源码下载</a></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">下章概要</a></p></li></ol><p style="box-sizing: border-box; margin: 1.5em 0px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;">1. 引言</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">在<a href="http://www.tiobe.com/index.php/content/paperinfo/tpci/index.html" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">TIOBE 编程语言排名</a>中，Sun 公司于1995年开发的Java语言是世界上使用最广泛的编程语言之一。作为一种通用编程语言，因为强大的工具包和运行时环境、简单的语法、丰富的平台支持(一次编写，到处运行)以及的异常活跃的社区支持，Java语言对软件开发工程师极具吸引力。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">在这一系列的文章中，涵盖了Java相关的高级内容，因此假设读者已具有基本语言知识。这并不是一个完整的参考手册，而是让你的技能更上一层楼的详尽指南。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">本课程中包含了大量的代码片段，在有些对方为了做对比，会同时提供Java 7和Java 8的示例。</p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a>2. 实例构造</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">作为一种面向对象语言，对象的创建也许就是Java语言中最重要的概念之一。构造方法是在对象实例初始化过程中具有举足轻重的地位，并且Java提供了多种方式来定义构造方法。</p><h3 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.5em;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a>2.1 隐式(产生的)构造方法</h3><p style="box-sizing: border-box; margin: 1.5em 0px;">Java允许在定义类时不声明任何的构造方法，并这并不代表类没有构造方法。我们看下面类的定义：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.construction;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">NoConstructor</span> </span>{
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">这个类未定义构造方法，但是Java编译器会为其隐式生成一个，从而使我们可以使用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">new</code>关键字来创建新的对象实例。</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: initial; overflow-wrap: normal; word-break: break-word; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> NoConstructor noConstructorInstance = <span style="box-sizing: border-box; color: rgb(133, 153, 0);">new</span> NoConstructor();</code></pre><h3 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.5em;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a>2.2 无参构造方法</h3><p style="box-sizing: border-box; margin: 1.5em 0px;">无参构造方法是最简单的通过显式声明来替代Java编译生成构造方法的方式。</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.construction;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">NoArgConstructor</span> </span>{
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">NoArgConstructor</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Constructor body here</span>
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">在使用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">new</code>关键字创建新的对象实例时，上面的构造方法就会被调用。</p><h3 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.5em;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a>2.3 有参构造方法</h3><p style="box-sizing: border-box; margin: 1.5em 0px;">有参构造方法最有意思并且广泛使用，通过指定参数来定制新实例的创建。下面的例子中定义了一个有两个参数的构造方法。</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.construction;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">ConstructorWithArguments</span> </span>{
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">ConstructorWithArguments</span><span style="box-sizing: border-box;">(<span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> String arg1,<span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> String arg2)</span> </span>{
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Constructor body here</span>
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">这种场景中，当使用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">new</code>关键字来创建实例时，需要同时提供构造方法上定义的两个参数。</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> ConstructorWithArguments constructorWithArguments = 
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">new</span> ConstructorWithArguments( <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;arg1&quot;</span>, <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;arg2&quot;</span> );</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">有趣的是构造方法之间可以通过<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">this</code>关键字互相调用。在实践中，推荐通过使用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">this</code>把多个构造方法链起来以减少代码重复，并从基础上使对象具有单一的初始化入口。作为示例，下面的代码中定义了只有一个参数的构造方法。</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">ConstructorWithArguments</span><span style="box-sizing: border-box;">(<span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> String arg1)</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">this</span>(arg1, <span style="box-sizing: border-box; color: rgb(133, 153, 0);">null</span>);
}</code></pre><h3 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.5em;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a>2.4 初始化代码块</h3><p style="box-sizing: border-box; margin: 1.5em 0px;">除了构造方法，Java还提供了通过初始化代码块进行初始化的逻辑。这种用法虽然少见，但多了解一些也没害处。</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.construction;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">InitializationBlock</span> </span>{
    {
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// initialization code here</span>
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">另一方面，初始化代码块也可被看作是无参的隐式构造方法。在一个具体的类中可以定义多个初始化代码块，在执行的时候按照他们在代码中的位置顺序被调用，如下面的代码所示：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.construction;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">InitializationBlocks</span> </span>{
    {
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// initialization code here</span>
    }

    {
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// initialization code here</span>
    }

}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">实始化代码块并不是为了取代构造方法，相反它们可以同时出现。但是要记住，初始化代码快会在构造方法调用之前被执行。</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.construction;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">InitializationBlockAndConstructor</span> </span>{
    {
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// initialization code here</span>
    }
    
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">InitializationBlockAndConstructor</span><span style="box-sizing: border-box;">()</span> </span>{
    }
}</code></pre><h3 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.5em;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a>2.5 保证构造默认值</h3><p style="box-sizing: border-box; margin: 1.5em 0px;">Java提供了确定的初始化保证，程序员可以直接使用初始化结果。未初始化的实例以及类变量(static)会自动初始化为相应的默认值。</p><div style="box-sizing: border-box; overflow-x: auto;"><table style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; margin: 1.5em 0px; width: 825px; background-color: transparent;"><thead style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><th style="box-sizing: border-box; padding: 5px 8px; text-align: left; border: 1px solid rgb(230, 230, 230); word-break: normal; background: rgb(243, 243, 243);">类型</th><th style="box-sizing: border-box; padding: 5px 8px; text-align: left; border: 1px solid rgb(230, 230, 230); word-break: normal; background: rgb(243, 243, 243);">默认值</th></tr></thead><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">boolean</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">False</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">byte</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">0</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">short</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">0</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">int</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">0</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">long</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">0L</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">char</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">\u0000</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">float</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">0.0f</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">double</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">0.0d</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">对象引用</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">null</td></tr></tbody></table></div><p style="box-sizing: border-box; margin: 1.5em 0px;"><strong style="box-sizing: border-box; font-weight: 700;">表 1</strong></p><p style="box-sizing: border-box; margin: 1.5em 0px;">我们通过下面的例子来验证上表中的默认值：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;">package com.javacodegeeks.advanced.construction;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">InitializationWithDefaults</span> {
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> boolean booleanMember;
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">byte</span> byteMember;
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">short</span> shortMember;
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">int</span> intMember;
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">long</span> longMember;
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">char</span> charMember;
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">float</span> floatMember;
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">double</span> doubleMember;
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> Object referenceMember;

    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">InitializationWithDefaults</span><span style="box-sizing: border-box;">()</span> </span>{     
        System.<span style="box-sizing: border-box; color: rgb(133, 153, 0);">out</span>.println( <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;booleanMember = &quot;</span> + booleanMember );
        System.<span style="box-sizing: border-box; color: rgb(133, 153, 0);">out</span>.println( <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;byteMember = &quot;</span> + byteMember );
        System.<span style="box-sizing: border-box; color: rgb(133, 153, 0);">out</span>.println( <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;shortMember = &quot;</span> + shortMember );
        System.<span style="box-sizing: border-box; color: rgb(133, 153, 0);">out</span>.println( <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;intMember = &quot;</span> + intMember );
        System.<span style="box-sizing: border-box; color: rgb(133, 153, 0);">out</span>.println( <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;longMember = &quot;</span> + longMember );
        System.<span style="box-sizing: border-box; color: rgb(133, 153, 0);">out</span>.println( <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;charMember = &quot;</span> + 
            Character.codePointAt( <span style="box-sizing: border-box; color: rgb(133, 153, 0);">new</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">char</span>[] { charMember }, <span style="box-sizing: border-box; color: rgb(42, 161, 152);">0</span>  ) );
        System.<span style="box-sizing: border-box; color: rgb(133, 153, 0);">out</span>.println( <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;floatMember = &quot;</span> + floatMember );
        System.<span style="box-sizing: border-box; color: rgb(133, 153, 0);">out</span>.println( <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;doubleMember = &quot;</span> + doubleMember );
        System.<span style="box-sizing: border-box; color: rgb(133, 153, 0);">out</span>.println( <span style="box-sizing: border-box; color: rgb(42, 161, 152);">&quot;referenceMember = &quot;</span> + referenceMember );
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">当使用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">new</code>关键字实例化对象之后：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: initial; overflow-wrap: normal; word-break: break-word; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> InitializationWithDefaults initializationWithDefaults = <span style="box-sizing: border-box; color: rgb(133, 153, 0);">new</span> InitializationWithDefaults(),</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">可从控制台中看到输出结果如下：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box;">booleanMember = <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">false</span></span></span><span style="box-sizing: border-box;">byteMember = <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(42, 161, 152);">0</span></span></span><span style="box-sizing: border-box;">shortMember = <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(42, 161, 152);">0</span></span></span><span style="box-sizing: border-box;">intMember = <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(42, 161, 152);">0</span></span></span><span style="box-sizing: border-box;">longMember = <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(42, 161, 152);">0</span></span></span><span style="box-sizing: border-box;">charMember = <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(42, 161, 152);">0</span></span></span><span style="box-sizing: border-box;">floatMember = <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(42, 161, 152);">0.0</span></span></span><span style="box-sizing: border-box;">doubleMember = <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(42, 161, 152);">0.0</span></span></span><span style="box-sizing: border-box;">referenceMember = <span style="box-sizing: border-box;">null</span></span></code></pre><h3 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.5em;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a>2.6 可见性</h3><p style="box-sizing: border-box; margin: 1.5em 0px;">构造方法遵从Java的可见性规则，并且可以通过访问控制修饰符决定在其他类中是否能调用该构造方法。</p><div style="box-sizing: border-box; overflow-x: auto;"><table style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; margin: 1.5em 0px; width: 825px; background-color: transparent;"><thead style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><th style="box-sizing: border-box; padding: 5px 8px; text-align: left; border: 1px solid rgb(230, 230, 230); word-break: normal; background: rgb(243, 243, 243);">修饰符</th><th style="box-sizing: border-box; padding: 5px 8px; text-align: left; border: 1px solid rgb(230, 230, 230); word-break: normal; background: rgb(243, 243, 243);">包可见性</th><th style="box-sizing: border-box; padding: 5px 8px; text-align: left; border: 1px solid rgb(230, 230, 230); word-break: normal; background: rgb(243, 243, 243);">子类可见性</th><th style="box-sizing: border-box; padding: 5px 8px; text-align: left; border: 1px solid rgb(230, 230, 230); word-break: normal; background: rgb(243, 243, 243);">公开可见性</th></tr></thead><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">public</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">可见</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">可见</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">可见</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">protected</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">可见</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">可见</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">不可见</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">&lt;无修饰符&gt;</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">可见</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">不可见</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">不可见</td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">private</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">不可见</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">不可见</td><td style="box-sizing: border-box; padding: 5px 8px; border: 1px solid rgb(230, 230, 230); word-break: normal;">不可见</td></tr></tbody></table></div><p style="box-sizing: border-box; margin: 1.5em 0px;"><strong style="box-sizing: border-box; font-weight: 700;">表2</strong></p><h3 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.5em;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a>2.7 垃圾回收</h3><p style="box-sizing: border-box; margin: 1.5em 0px;">Java(准确的说是JVM)拥有自动的垃圾回收机制。简单来讲，当有新对象创建时，会自动为其分配内在；然后当对象不再被引用后，他们会被自动销毁，相应的内存也会被回收。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">Java垃圾回收采用分代回收的机制，并基于&quot;大多数对象生命短暂&quot;的假设(即在对象创建之后很快就不会被再引用，所以可以被安全的销毁)。大多程序员习惯性的认为Java中对象创建的效率很低所以要尽可能避免新对象的创建。事实上，这种认识是不对的。在Java中创建对象的开销是相当低的，并且速度很快。真正代来巨大开销的是不必要的长期存活的对象，因此他们最终会被迁移到老年代，并导致stop-the-world发生。</p><h3 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.5em;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a>2.8 对象终结器(Finalizers)</h3><p style="box-sizing: border-box; margin: 1.5em 0px;">前面我们讲述的都是构造方法和对象初始化相关的主题，但还未提及他们的反面：对象销毁。主要是因为Java使用垃圾回收机制来管理对象的生命周期，所以销毁不必要的对象并释放所需内存就成了垃圾回收的职责了。</p><p style="box-sizing: border-box; margin: 1.5em 0px;">不过，Java还是提供了另外一种类似于析构函数的<strong style="box-sizing: border-box; font-weight: 700;">终结器(finalizer)</strong>的特性，担任多种资源清理的责任。<strong style="box-sizing: border-box; font-weight: 700;">Finalizer</strong>一般被看作是危险的事情（因为它会带来多种副作用和性能问题）。通常并不需要finalizer因此要尽量避免使用它(除了极少见的包含大量本地对象(native objects)的场景)。Java 7中引入的<strong style="box-sizing: border-box; font-weight: 700;">try-with-resources</strong>语法和<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">AutoCloseable</code>接口可当作<strong style="box-sizing: border-box; font-weight: 700;">finalizer</strong>的替代选择，并可写出如下简洁的代码：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">try</span> ( final InputStream <span style="box-sizing: border-box; color: rgb(133, 153, 0);">in</span> = Files.newInputStream( path ) ) {
    <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// code here</span>
}</code></pre><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a>3. 静态初始化</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">上面我们学习了类实例的构造与初始化，除此之外，Java还支持类级别的初始化构造，称作<strong style="box-sizing: border-box; font-weight: 700;">静态初始化</strong>。静态初始化与上面介绍的初始化代码块类似，只是多了额外的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">static</code>关键字修饰。需要注意的是静态初始化只会在类加载时执行一次。示例如下：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.construction;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">StaticInitializationBlock</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">static</span> {
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// static initialization code here</span>
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">与初始化代码块类似，可以在类中定义多个静态初始化块，它们在类中的位置决定在初始化时执行的顺序。示例如下;</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.construction;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">StaticInitializationBlocks</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">static</span> {
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// static initialization code here</span>
    }

    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">static</span> {
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// static initialization code here</span>
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">因为静态初始化块可以被多个并行执行的线程触发(当类被初始加载时)，JVM运行时保证初始化的代码以线程安全的方式只被执行一次。</p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a>4. 构造器模式</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">这些年多种容易理解的构造器(创建者)模式被引入到Java社区。下面我们会学习其中比较流行的几个：单例模式、辅助类模式、工厂模式以及依赖注入(也称为控制反转)。</p><h3 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.5em;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a>4.1 单例模式</h3><p style="box-sizing: border-box; margin: 1.5em 0px;">单例是一种历史悠久却在软件开发社区中饱受争议的模式。单例模式的核心理念是保证在任何时候给定的类只有一个对象被创建。虽然听起来很简单，但人们对如何以正确且线程安全的方式创建对象进行了大量的讨论。下面的代码中展示了简单版本的单例模式实现：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.construction.patterns;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">NaiveSingleton</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">static</span> NaiveSingleton instance;
    
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">NaiveSingleton</span><span style="box-sizing: border-box;">()</span> </span>{        
    }
    
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">static</span> NaiveSingleton <span style="box-sizing: border-box; color: rgb(38, 139, 210);">getInstance</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">if</span>( instance == <span style="box-sizing: border-box; color: rgb(133, 153, 0);">null</span> ) {
            instance = <span style="box-sizing: border-box; color: rgb(133, 153, 0);">new</span> NaiveSingleton();
        }
        
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> instance;
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">上面的代码至少有一个问题：在多线程并发场景中可能会创建出多个对象。一种合理的实现方式(但不能延迟加载)是使用类的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">static</code>`final`属性。如下：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> property of the <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span>.
<span style="box-sizing: border-box; color: rgb(181, 137, 0);">package</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">com</span>.<span style="box-sizing: border-box; color: rgb(181, 137, 0);">javacodegeeks</span>.<span style="box-sizing: border-box; color: rgb(181, 137, 0);">advanced</span>.<span style="box-sizing: border-box; color: rgb(181, 137, 0);">construction</span>.<span style="box-sizing: border-box; color: rgb(181, 137, 0);">patterns</span></span>;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">EagerSingleton</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">static</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> EagerSingleton instance = <span style="box-sizing: border-box; color: rgb(133, 153, 0);">new</span> EagerSingleton();
    
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">EagerSingleton</span><span style="box-sizing: border-box;">()</span> </span>{        
    }
    
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">static</span> EagerSingleton <span style="box-sizing: border-box; color: rgb(38, 139, 210);">getInstance</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> instance;
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">如果你不想浪费宝贵的资源，希望单例对象只在真正需要的时候才被创建，那么就要使用显式的同步方式，不可这种方法可能会降低多线程环境下的并发性(更多关于Java并发的细节将会在Java进阶9-并发最佳实践中详细介绍)。</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.construction.patterns;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">LazySingleton</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">static</span> LazySingleton instance;
    
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">LazySingleton</span><span style="box-sizing: border-box;">()</span> </span>{        
    }
    
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">static</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">synchronized</span> LazySingleton <span style="box-sizing: border-box; color: rgb(38, 139, 210);">getInstance</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">if</span>( instance == <span style="box-sizing: border-box; color: rgb(133, 153, 0);">null</span> ) {
            instance = <span style="box-sizing: border-box; color: rgb(133, 153, 0);">new</span> LazySingleton();
        }
        
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> instance;
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">现在，在很多场景下单例模式不再被认为是一种好的选择，因为他们会使代码不易于测试。另外依赖注入模式的产生也使单例模式变得不再必要。</p><h3 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.5em;">4.2 <a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a>工具类/辅助类</h3><p style="box-sizing: border-box; margin: 1.5em 0px;">工具类/辅助类模式在Java开发者当中相当流行。它的核心理念就是使用不可实例化的类(通过声明<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">private</code>构造方法)、可选的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">final</code>(更多关于声明<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">final</code>类的细节将会在Java进阶3-类和接口的设计中详细介绍)关键字以及静态方法。示例如下：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.construction.patterns;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">HelperClass</span> </span>{
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">HelperClass</span><span style="box-sizing: border-box;">()</span> </span>{        
    }
    
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">static</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">helperMethod1</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Method body here</span>
    }
    
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">static</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">void</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">helperMethod2</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(147, 161, 161);">// Method body here</span>
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">很多经验丰富的开发者认为这种模式会让工具类成为各种不相关方法的容器。因为有些方法没有合适的放置位置却需要被其他类使用，就会被误放入工具类中。在大多数场景中也应该避免这种设计：总会有更好的功能复用的方式，保持代码清晰简洁。</p><h3 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.5em;">4.3 <a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a>工厂模式</h3><p style="box-sizing: border-box; margin: 1.5em 0px;">工厂模式被证明是开发者的极其强大的利器，在Java中有多种实现方式：<strong style="box-sizing: border-box; font-weight: 700;">工厂方法</strong>和<strong style="box-sizing: border-box; font-weight: 700;">抽象工厂</strong>。最简单的例子就是使用<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">static</code>方法返回特定类的实例(<strong style="box-sizing: border-box; font-weight: 700;">工厂方法</strong>)，如下：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.construction.patterns;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Book</span> </span>{
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">Book</span><span style="box-sizing: border-box;">( <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> String title)</span> </span>{
    }     

    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">static</span> Book <span style="box-sizing: border-box; color: rgb(38, 139, 210);">newBook</span><span style="box-sizing: border-box;">( <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> String title )</span> </span>{ 
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">new</span> Book( title );
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">虽然使用这种方法能提高代码的可读性，但经常争议的一点是难以给<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">newBook</code><strong style="box-sizing: border-box; font-weight: 700;">工厂方法</strong>赋予更丰富的场景。另外一种实现工厂模式的方法是采用接口或抽象类(<strong style="box-sizing: border-box; font-weight: 700;">抽象工厂</strong>)。如下，我们定义一个<strong style="box-sizing: border-box; font-weight: 700;">工厂接口</strong>：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">interface</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">BookFactory</span> {
    <span style="box-sizing: border-box;">Book <span style="box-sizing: border-box; color: rgb(38, 139, 210);">newBook</span><span style="box-sizing: border-box;">()</span></span>;
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">根据图片馆的不同，我们可以有多种不同的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">newBook</code>实现：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Library</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">implements</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">BookFactory</span> </span>{
    <span style="box-sizing: border-box;">@Override</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> Book <span style="box-sizing: border-box; color: rgb(38, 139, 210);">newBook</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">new</span> PaperBook();
    }
}

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">KindleLibrary</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">implements</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">BookFactory</span> </span>{
    <span style="box-sizing: border-box;">@Override</span>
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> Book <span style="box-sizing: border-box; color: rgb(38, 139, 210);">newBook</span><span style="box-sizing: border-box;">()</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">new</span> KindleBook();
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">现在，<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">BookFactory</code>的不同实现屏蔽掉了具体<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Book</code>的不同，却提供了通用的<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">newBook</code>的方法。</p><h3 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.5em;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a>4.4 依赖注入</h3><p style="box-sizing: border-box; margin: 1.5em 0px;">依赖注入(也称为控制反转)被类设计者认为是一种良好的设计实践：如果一些类实例依赖其他类的实例，那些被依赖的实例应该通过构造方法(或者setter方法、策略等方式)提供(注入)，而不应该是由实例自己去创建。先看一下下面的代码：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.construction.patterns;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">import</span> java.text.DateFormat;
<span style="box-sizing: border-box; color: rgb(133, 153, 0);">import</span> java.util.Date;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Dependant</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> DateFormat format = DateFormat.getDateInstance();
    
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> String <span style="box-sizing: border-box; color: rgb(38, 139, 210);">format</span><span style="box-sizing: border-box;">( <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> Date date )</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> format.format( date );
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Dependant</code>类需要一个DateFormat类的实例并通过在实例化对象时通过<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">DateFormat.getDateInstance()</code>的方式获得。更好的方式应该通过构造方法的参数来完成同样的事情：</p><pre style="box-sizing: border-box; overflow: auto; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; display: block; padding: 1em; margin: 1.5em 0px; word-break: break-all; word-wrap: break-word; color: rgb(101, 123, 131); border: none; border-radius: 3px; max-height: 35em; position: relative; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/blueprint.png) rgb(246, 246, 246);"><code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 1em; color: inherit; padding: 0px; border-radius: 0px; white-space: inherit; overflow-wrap: normal; background: none;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">package</span> com.javacodegeeks.advanced.construction.patterns;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">import</span> java.text.DateFormat;
<span style="box-sizing: border-box; color: rgb(133, 153, 0);">import</span> java.util.Date;

<span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">class</span> <span style="box-sizing: border-box; color: rgb(181, 137, 0);">Dependant</span> </span>{
    <span style="box-sizing: border-box; color: rgb(133, 153, 0);">private</span> <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> DateFormat format;
    
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> <span style="box-sizing: border-box; color: rgb(38, 139, 210);">Dependant</span><span style="box-sizing: border-box;">( <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> DateFormat format )</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">this</span>.format = format;
    }
    
    <span style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(133, 153, 0);">public</span> String <span style="box-sizing: border-box; color: rgb(38, 139, 210);">format</span><span style="box-sizing: border-box;">( <span style="box-sizing: border-box; color: rgb(133, 153, 0);">final</span> Date date )</span> </span>{
        <span style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> format.format( date );
    }
}</code></pre><p style="box-sizing: border-box; margin: 1.5em 0px;">在上面的例子中，类实例的所有依赖都由外部提供，这样就很容易调整DateFormat，并易于编写测试代码。</p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a>5. 源码下载</h2><p style="box-sizing: border-box; margin: 1.5em 0px;">可以从这里下载本文中的源码：<a href="http://a3ab771892fd198a96736e50.javacodegeeks.netdna-cdn.com/wp-content/uploads/2015/09/com.javacodegeeks.advanced.java_.zip" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">com.javacodegeeks.advanced.java</a></p><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); padding-bottom: 10px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"></a>6. 下章概要</h2><p style="box-sizing: border-box; margin: 1.5em 0px 0px;">在本章中我们学习了类及类实例的构造和初始化技术，以及相关的几种设计模式。下一章中将对<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">Object</code>类做深入分析，并介绍其中的几个重要方法的用法：<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">equals</code>, <code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">hashcCode</code>, <code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">toString</code>和<code style="box-sizing: border-box; font-family: &apos;Source Code Pro&apos;, Consolas, Menlo, Monaco, &apos;Courier New&apos;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); padding: 2px 4px; border-radius: 3px; white-space: pre; background-color: rgb(249, 242, 244);">clone</code>。</p></div><div style="box-sizing: border-box; margin-top: 10px;"><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10.5px; float: left !important; padding-left: 0px; list-style: none; margin-left: -5px;"><li style="box-sizing: border-box; display: inline-block; padding-left: 5px; padding-right: 5px;"><a href="https://segmentfault.com/a/1190000004390247" style="box-sizing: border-box; color: rgb(119, 119, 119); text-decoration: none; outline: 0px; background: transparent;">1月30日发布</a></li></ul></div><div style="box-sizing: border-box; text-align: center; margin-top: 10px;"> </div><div style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); margin-top: 40px; margin-bottom: 30px; padding-top: 30px;"><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 570px;"><h4 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin-top: 0px; margin-bottom: 10.5px; font-size: 18px;">你可能感兴趣的文章</h4><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10.5px; padding-left: 0px; list-style: none;"><li style="box-sizing: border-box; margin-bottom: 8px;"><a href="https://segmentfault.com/a/1190000004446304" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 6px; word-break: break-word; background: transparent;" title="关于Java传值">关于Java传值</a> <small style="box-sizing: border-box; font-size: 13px; color: rgb(119, 119, 119); display: inline-block;">68 浏览</small></li><li style="box-sizing: border-box; margin-bottom: 8px;"><a href="https://segmentfault.com/a/1190000002626076" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 6px; word-break: break-word; background: transparent;" title="java代码优化">java代码优化</a> <small style="box-sizing: border-box; font-size: 13px; color: rgb(119, 119, 119); display: inline-block;">2 收藏，478 浏览</small></li><li style="box-sizing: border-box; margin-bottom: 8px;"><a href="https://segmentfault.com/a/1190000003933582" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 6px; word-break: break-word; background: transparent;" title="Java 序列化和反序列化">Java 序列化和反序列化</a> <small style="box-sizing: border-box; font-size: 13px; color: rgb(119, 119, 119); display: inline-block;">281 浏览</small></li></ul></div><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 284.984px;"><div style="box-sizing: border-box;"><div style="box-sizing: border-box; color: rgb(119, 119, 119);">本文采用 <a href="http://creativecommons.org/licenses/by/3.0/cn" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">知识共享署名 3.0 中国大陆许可协议</a>，可自由转载、引用，但需署名作者且注明文章出处 。</div></div></div></div></div><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin-top: 10.5px; margin-bottom: 15px; font-size: 18px; padding-top: 20px; border-top-width: 2px; border-top-style: solid; border-top-color: rgb(204, 204, 204);">讨论区</h2><div style="box-sizing: border-box; list-style: none; margin: 0px 0px 15px; font-size: 13px; color: rgb(102, 102, 102); padding: 10px; border-radius: 2px; background-color: rgb(246, 246, 246);"><div style="box-sizing: border-box; margin-bottom: 10px; transition-duration: 1s; background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAYAAAD5PA/NAAAAEUlEQVQIHWO4e/fufxBmgAIAWVEHLYEgi9EAAAAASUVORK5CYII=) 50% 100% repeat-x;"><div style="box-sizing: border-box; position: relative; text-align: center; float: left; margin: 5px 10px 0px 0px; width: 20px; height: 30px; font-size: 12px; box-shadow: none; background: transparent;"><span style="box-sizing: border-box;"> </span></div><div style="box-sizing: border-box; word-break: break-all; overflow: auto;"><div style="box-sizing: border-box; word-wrap: break-word; font-size: 13px;"><p style="box-sizing: border-box; margin: 0px 0px 10px;">什么时候更新</p></div><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(153, 153, 153);"><a href="https://segmentfault.com/c/1050000004392432" style="box-sizing: border-box; color: rgb(119, 119, 119); text-decoration: none; outline: 0px; background: transparent;"></a> <a href="https://segmentfault.com/u/wangxufire" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"><strong style="box-sizing: border-box; font-weight: 700;">wangxufire</strong></a> · <span style="box-sizing: border-box;">1月30日</span><span style="box-sizing: border-box; float: right !important; visibility: hidden; transition-delay: 0.4s;"><a href="https://segmentfault.com/a/1190000004390247#" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 5px; background: transparent;"></a><a href="https://segmentfault.com/a/1190000004390247#911" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-left: 10px; background: transparent;" title="举报"></a></span></p></div></div><div style="box-sizing: border-box; margin-bottom: 10px; transition-duration: 1s; background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAYAAAD5PA/NAAAAEUlEQVQIHWO4e/fufxBmgAIAWVEHLYEgi9EAAAAASUVORK5CYII=) 50% 100% repeat-x;"><div style="box-sizing: border-box; position: relative; text-align: center; float: left; margin: 5px 10px 0px 0px; width: 20px; height: 30px; font-size: 12px; box-shadow: none; background: transparent;"><span style="box-sizing: border-box;"> </span></div><div style="box-sizing: border-box; word-break: break-all; overflow: auto;"><span style="box-sizing: border-box;">回复 <a href="https://segmentfault.com/u/wangxufire" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">wangxufire</a>：</span><div style="box-sizing: border-box; word-wrap: break-word; font-size: 13px;"><p style="box-sizing: border-box; margin: 0px 0px 10px;">参考前几篇文章的频率</p></div><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(153, 153, 153);"><a href="https://segmentfault.com/c/1050000004393417" style="box-sizing: border-box; color: rgb(119, 119, 119); text-decoration: none; outline: 0px; background: transparent;"></a> <a href="https://segmentfault.com/u/enjiex" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"><strong style="box-sizing: border-box; font-weight: 700;">牧曦之晨</strong></a> · <span style="box-sizing: border-box;">1月30日</span><span style="box-sizing: border-box; float: right !important; visibility: hidden; transition-delay: 0.4s;"><a href="https://segmentfault.com/a/1190000004390247#" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 5px; background: transparent;"></a><a href="https://segmentfault.com/a/1190000004390247#911" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-left: 10px; background: transparent;" title="举报"></a></span></p></div></div><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 835px;">请先 <a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">登录</a> 后评论</div></div></div></div><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 285px;"><div style="box-sizing: border-box;"><div style="box-sizing: border-box;"><ins style="box-sizing: border-box;"><a href="https://sponsor.segmentfault.com/ck.php?oaparams=2__bannerid=8__zoneid=2__cb=9e1df60ab6__oadest=http%3A%2F%2Fclick.aliyun.com%2Fm%2F4199%2F" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank"><img border="0" height="165" src="https://sf-sponsor.b0.upaiyun.com/ffac41177fb10928e7400657819f00a0.jpg" style="box-sizing: border-box; border: 0px; vertical-align: middle; margin-bottom: 25px;" width="255"></img></a><div style="box-sizing: border-box; position: absolute; left: 0px; top: 0px; visibility: hidden;"><ins style="box-sizing: border-box;"><ins style="box-sizing: border-box;"><img height="0" src="https://sponsor.segmentfault.com/lg.php?bannerid=8&amp;campaignid=1&amp;zoneid=2&amp;loc=https%3A%2F%2Fsegmentfault.com%2Fa%2F1190000004390247&amp;referer=http%3A%2F%2Fweibo.com%2F1746493725%2Fprofile%3Ftopnav%3D1%26wvr%3D6%26is_all%3D1%26sudaref%3Dpassport.weibo.com&amp;cb=9e1df60ab6" style="box-sizing: border-box; border: 0px; vertical-align: middle; width: 0px; height: 0px;" width="0"></img></ins></ins></div></ins></div></div><div style="box-sizing: border-box; margin: 0px 0px 25px; padding-top: 0px; border: none;"><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(119, 119, 119);">本文隶属于专栏</p><h4 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin-top: 10.5px; margin-bottom: 10.5px; font-size: 16px;"><a href="https://segmentfault.com/blog/utopiar" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">牧曦之晨</a></h4><p style="box-sizing: border-box; margin: 0px 0px 10.5px; word-break: break-word;">Life is too short to wait !</p><div style="box-sizing: border-box;"><a href="https://segmentfault.com/u/enjiex" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; background: transparent;"><img src="Java进阶1 —— 对象的创建与销毁_files/Image.jpg" type="image/jpeg" alt="牧曦之晨" style="box-sizing: border-box; border: 0px; vertical-align: middle; border-radius: 50%; width: 40px; height: 40px; float: left; margin-right: 10px;"/><span style="box-sizing: border-box;">牧曦之晨</span></a><span style="box-sizing: border-box; color: rgb(119, 119, 119);">作者</span></div></div><div style="box-sizing: border-box; margin: 0px 0px 25px; padding-top: 25px; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(238, 238, 238);"><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 0px 0px 20px; font-size: 16px;">系列文章</h2><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10.5px; padding-left: 0px; list-style: none;"><li style="box-sizing: border-box; margin-bottom: 8px;"><a href="https://segmentfault.com/a/1190000004420059" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 6px; word-break: break-word; background: transparent;" title="Java进阶2 —— 使用Object的通用方法">Java进阶2 —— 使用Object的通用方法</a><small style="box-sizing: border-box; font-size: 13px; color: rgb(119, 119, 119); display: inline-block;">17 收藏， 391 浏览</small></li><li style="box-sizing: border-box; margin-bottom: 8px;"><a href="https://segmentfault.com/a/1190000004454893" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 6px; word-break: break-word; background: transparent;" title="Java进阶3 —— 类和接口设计原则">Java进阶3 —— 类和接口设计原则</a><small style="box-sizing: border-box; font-size: 13px; color: rgb(119, 119, 119); display: inline-block;">13 收藏， 409 浏览</small></li></ul></div><div style="box-sizing: border-box; margin-bottom: 20px;"><div style="box-sizing: border-box; margin-bottom: 10px;">分享扩散：</div><div style="box-sizing: border-box; float: left; color: rgb(153, 153, 153); font-size: 13px; display: block;"><ul style="box-sizing: border-box; margin: 0px; list-style: none; display: inline; padding: 0px; vertical-align: text-bottom;"><li style="box-sizing: border-box; display: inline-block; margin-right: 5px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: inline-block; width: 28px; height: 28px; vertical-align: middle; border-radius: 2px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/social-icons/icon-sn.svg) -56px -28px / auto 56px no-repeat transparent;">新浪微博</a></li><li style="box-sizing: border-box; display: inline-block; margin-right: 5px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: inline-block; width: 28px; height: 28px; vertical-align: middle; border-radius: 2px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/social-icons/icon-sn.svg) -252px -28px / auto 56px no-repeat transparent;">微信</a></li><li style="box-sizing: border-box; display: inline-block; margin-right: 5px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: inline-block; width: 28px; height: 28px; vertical-align: middle; border-radius: 2px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/social-icons/icon-sn.svg) -112px -28px / auto 56px no-repeat transparent;">Twitter</a></li><li style="box-sizing: border-box; display: inline-block; margin-right: 5px;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: inline-block; width: 28px; height: 28px; vertical-align: middle; border-radius: 2px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/social-icons/icon-sn.svg) -140px -28px / auto 56px no-repeat transparent;">Facebook</a></li></ul></div><a style="box-sizing: border-box; color: rgb(255, 255, 255); text-decoration: none; outline: 0px; display: inline-block; margin-bottom: 0px; font-weight: 400; text-align: center; vertical-align: middle; cursor: pointer; border: none; white-space: nowrap; padding: 0px; font-size: 12px; border-radius: 3px; box-shadow: none; background: none transparent;" type="button"></a></div><div style="box-sizing: border-box; display: block; padding: 10px 0px; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(238, 238, 238); width: 255px; top: 0px; background: rgb(255, 255, 255);"><div style="box-sizing: border-box; margin: 0px; border: none; border-radius: 3px; box-shadow: rgb(255, 255, 255) 0px 0px 0px; top: 0px; position: relative; max-width: 250px; background-color: rgb(255, 255, 255);"><div style="box-sizing: border-box; padding: 8px 12px; border: none; border-top-right-radius: 2px; border-top-left-radius: 2px; color: rgb(51, 51, 51); font-weight: 700; cursor: initial; font-size: 16px; background-color: rgb(255, 255, 255);">文章目录</div><div style="box-sizing: border-box; padding: 0px 0px 10px; max-height: inherit; overflow: hidden; transition: all 0.2s ease; position: relative; z-index: 2;"><div style="box-sizing: border-box; position: relative; padding: 0px 12px; top: 0px;"><ul style="box-sizing: border-box; margin: 0px; position: relative; z-index: 2; padding-left: 18px; list-style-type: square;"><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004390247#articleHeader0" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">1. 引言</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004390247#articleHeader1" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">2. 实例构造</a></li><li style="list-style: none; display: inline"><ul style="box-sizing: border-box; margin: 0px; padding-left: 18px; list-style-type: square;"><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004390247#articleHeader2" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">2.1 隐式(产生的)构造方法</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004390247#articleHeader3" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">2.2 无参构造方法</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004390247#articleHeader4" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">2.3 有参构造方法</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004390247#articleHeader5" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">2.4 初始化代码块</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004390247#articleHeader6" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">2.5 保证构造默认值</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004390247#articleHeader7" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">2.6 可见性</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004390247#articleHeader8" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">2.7 垃圾回收</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004390247#articleHeader9" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">2.8 对象终结器(Finalizers)</a></li></ul></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004390247#articleHeader10" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">3. 静态初始化</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004390247#articleHeader11" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">4. 构造器模式</a></li><li style="list-style: none; display: inline"><ul style="box-sizing: border-box; margin: 0px; padding-left: 18px; list-style-type: square;"><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004390247#articleHeader12" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">4.1 单例模式</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004390247#articleHeader13" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">4.2 工具类/辅助类</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004390247#articleHeader14" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">4.3 工厂模式</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004390247#articleHeader15" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">4.4 依赖注入</a></li></ul></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004390247#articleHeader16" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">5. 源码下载</a></li><li style="box-sizing: border-box;"><a href="https://segmentfault.com/a/1190000004390247#articleHeader17" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">6. 下章概要</a></li></ul></div></div></div></div></div></div></div></div><div style="box-sizing: border-box; margin-right: auto; margin-left: auto; padding-left: 15px; padding-right: 15px; width: 1140px;"><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 190px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">网站相关</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/about" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">关于我们</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/tos" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">服务条款</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/faq" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">帮助中心</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/repu" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">声望与权限</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/markdown" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">编辑器语法</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://weekly.segmentfault.com/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">每周精选</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/app" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">App 下载</a></dd></dl><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 190px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">联系合作</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/contact" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">联系我们</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/hiring" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">加入我们</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/link" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">合作伙伴</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/press" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">媒体报道</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://board.segmentfault.com/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">建议反馈</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="http://pan.baidu.com/share/link?shareid=604288&amp;uk=839272106" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">Logo 下载</a></dd></dl><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 190px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">常用链接</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://chrome.google.com/webstore/detail/segmentfault-%E7%AC%94%E8%AE%B0/pjklfdmleagfaekibdccmhlhellefcfo" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">笔记插件: Chrome</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://addons.mozilla.org/zh-CN/firefox/addon/sf-note-ext/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">笔记插件: Firefox</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;">订阅：<a href="https://segmentfault.com/feeds" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">问答</a> / <a href="https://segmentfault.com/feeds/blogs" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">文章</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://mirrors.segmentfault.com/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">SF 文档镜像</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/interview" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">SF 社区访谈</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/d-day" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">技术沙龙D-DAY</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/hackathon" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">黑客马拉松Hackathon</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://namebeta.com/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">域名搜索注册</a></dd></dl><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 190px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">关注我们</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://github.com/SegmentFault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">Github</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://twitter.com/segment_fault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">Twitter</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://weibo.com/segmentfault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">新浪微博</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/segmentfault_team" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">SF 团队日志</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/segmentfault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">产品技术日志</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/community_admin" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">社区运营日志</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/segmentfault_news" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">市场运营日志</a></dd></dl><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 379.984px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">内容许可</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;">除特别说明外，用户内容均采用 <a href="http://creativecommons.org/licenses/by-sa/3.0/cn/" rel="license" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">知识共享署名-相同方式共享 3.0 中国大陆许可协议</a> 进行许可</dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;">本站由 <a href="https://www.upyun.com/?utm_source=segmentfault&amp;utm_medium=link&amp;utm_campaign=upyun&amp;md=segmentfault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">又拍云</a> 提供 CDN 存储服务</dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://mixpanel.com/f/partner" rel="nofollow" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;"><img alt="Mobile Analytics" height="24" src="https://cdn.mxpnl.com/site_media/images/partner/badge_light.png" style="box-sizing: border-box; border: 0px; vertical-align: middle;"></img></a></dd></dl></div><div style="box-sizing: border-box; text-align: center; font-size: 13px;">Copyright © 2011-2016 SegmentFault. 当前呈现版本 16.03.22<br style="box-sizing: border-box;"/><a href="http://www.miibeian.gov.cn/" rel="nofollow" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">浙ICP备15005796号-2</a></div><p style="box-sizing: border-box; margin: 0px 0px 10.5px; text-align: center;"></p></div><div style="box-sizing: border-box; right: 40px; bottom: 40px; border: 1px solid rgb(221, 221, 221); width: 36px; text-align: center; border-radius: 2px; z-index: 1000; color: rgb(51, 51, 51); font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: rgb(255, 255, 255);position:relative;"><div style="box-sizing: border-box; position: relative;"><div><br/></div></div></div></span>
</div></body></html> 