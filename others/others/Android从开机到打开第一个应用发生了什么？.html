<html>
<head>
  <title>Android从开机到打开第一个应用发生了什么？</title>
  <basefont face="Microsoft YaHei" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/301769 (zh-CN); Windows/6.3.9600 (Win64);"/>
  <style>
    body, td {
      font-family: Microsoft YaHei;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1716"/>
<h1>Android从开机到打开第一个应用发生了什么？</h1>

<div>
<span><div style="box-sizing: border-box; position: relative; z-index: 3; color: rgb(51, 51, 51); font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><h1 style="box-sizing: border-box; font-size: 36px; margin: 0px; font-family: inherit; font-weight: 500; color: inherit; float: left;"><a href="https://segmentfault.com/" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; float: left; display: block; height: 54px; width: 188px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/logo-b.svg) 0% 50% / auto 32px no-repeat;">SegmentFault</a></h1><ul style="box-sizing: border-box; margin: 12px 0px 0px 23px; float: left !important; padding-left: 0px; list-style: none;"><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/questions" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">问答</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/blogs" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">文章</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/user/note" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">笔记</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/jobs" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">职位</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/events" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;">活动</a></li></ul><ul style="box-sizing: border-box; margin: 12px 0px 0px; float: right !important; padding-left: 0px; list-style: none;"><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px; vertical-align: middle; color: rgb(102, 102, 102); width: 36px; height: 30px;"><a href="https://segmentfault.com/tour" style="box-sizing: border-box; color: rgb(102, 102, 102); text-decoration: none; outline: 0px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; background: transparent;" target="_blank"><span style="box-sizing: border-box; position: absolute; width: 1px; height: 1px; margin: -1px; padding: 0px; overflow: hidden; clip: rect(0px 0px 0px 0px); border: 0px;">消息</span></a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: relative; margin: 0px 0px 0px 5px; vertical-align: middle; color: rgb(102, 102, 102);"><a href="https://segmentfault.com/user/login" style="box-sizing: border-box; color: rgb(255, 255, 255); text-decoration: none; outline: 0px; margin-left: 10px; font-size: 16px; display: inline-block; padding: 0px 13px; height: 30px; border-radius: 2px; box-shadow: rgba(0, 0, 0, 0.2) 0px 1px 2px; background: rgb(0, 154, 97);">注册 · 登录</a></li></ul></div><div style="box-sizing: border-box; box-shadow: rgba(0, 0, 0, 0.239216) 0px 1px 2px 0px; color: rgb(51, 51, 51); font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(0, 95, 60);"><div style="box-sizing: border-box; margin-right: auto; margin-left: auto; padding-left: 15px; padding-right: 15px; width: 1140px;"><ul style="box-sizing: border-box; margin: 0px; height: 34px; overflow: hidden; list-style: none; padding: 0px;"><li style="box-sizing: border-box; display: inline-block; padding: 0px;"><a href="https://segmentfault.com/" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px 10px 10px 0px; white-space: nowrap; background: transparent;">home</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px;"><a href="https://segmentfault.com/timeline" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">feed</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px;"><a style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;"></a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/javascript" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">javascript</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/php" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">php</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/python" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">python</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/java" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">java</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/mysql" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">mysql</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/ios" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">ios</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/android" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">android</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/node.js" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">node.js</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/html5" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">html5</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/linux" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">linux</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/c%2B%2B" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">c++</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/css3" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">css3</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/git" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">git</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/golang" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">golang</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/ruby" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">ruby</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/vim" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">vim</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/docker" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">docker</a></li><li style="box-sizing: border-box; padding: 0px; display: inline-block;"><a href="https://segmentfault.com/t/mongodb" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;">mongodb</a></li><li style="box-sizing: border-box; display: inline-block; padding: 0px; position: absolute; top: 0px; right: 0px; height: 34px; width: 34px; background-color: rgb(0, 95, 60);"><a href="https://segmentfault.com/tags" style="box-sizing: border-box; color: rgb(157, 204, 182); text-decoration: none; outline: 0px; display: block; padding: 10px; white-space: nowrap; background: transparent;"></a></li></ul></div></div><div style="box-sizing: border-box; padding-bottom: 30px; position: relative; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding: 20px 0px; background: rgb(246, 246, 246);"><div style="box-sizing: border-box; margin-right: auto; margin-left: auto; padding-left: 15px; padding-right: 15px; width: 1140px;"><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 855px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><span style="box-sizing: border-box; vertical-align: top; text-align: center; display: block; float: left; border: 1px solid rgb(0, 154, 97); border-radius: 50%; font-size: 16px; padding: 4px; width: 28px; height: 28px; color: rgb(0, 154, 97); font-weight: 400; margin-right: 10px; background: rgba(0, 154, 96, 0);">文</span></span></span></span><div style="box-sizing: border-box; color: rgb(153, 153, 153); margin-left: 40px; margin-bottom: -5px;"><h1 style="box-sizing: border-box; font-size: 24px; margin: 0px 0px 15px; font-family: inherit; font-weight: 500; color: inherit;"><a href="https://segmentfault.com/a/1190000004676352" style="box-sizing: border-box; color: rgb(51, 51, 51); text-decoration: none; outline: 0px; background: transparent;">Android从开机到打开第一个应用发生了什么？</a></h1><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; display: inline-block; margin-right: 10px; list-style: none; padding: 0px; font-size: 0px;"><li style="box-sizing: border-box; margin-bottom: 5px; padding: 0px; font-size: 13px; display: inline-block; margin-right: 0px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><a href="https://segmentfault.com/t/android/blogs" style="box-sizing: border-box; color: rgb(1, 126, 102); text-decoration: none; outline: 0px; display: inline-block; padding: 0px 8px; height: 24px; font-weight: 400; font-size: 13px; text-align: center; background: rgba(1, 126, 102, 0.0784314);">android</a></span></li></ul><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"> </span></span><div style="box-sizing: border-box; display: inline-block;"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><a href="https://segmentfault.com/u/jensenczx" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 5px; background: transparent;"><strong style="box-sizing: border-box; font-weight: 700;">Jensea</strong></a> 5 天前发布</span></span></div></div></div><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 285px;"><ul style="box-sizing: border-box; margin: 0px; padding-left: 0px; list-style: none; color: rgb(153, 153, 153);"><li style="box-sizing: border-box; margin-top: 0px;"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"> <strong style="box-sizing: border-box; font-weight: 700; color: rgb(51, 51, 51);">6</strong> 推荐</span></span></li><li style="box-sizing: border-box; margin-top: 10px;"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"> <strong style="box-sizing: border-box; font-weight: 700; color: rgb(51, 51, 51);">26</strong> 收藏，<strong style="box-sizing: border-box; font-weight: 400; color: rgb(51, 51, 51);">1.1k</strong> 浏览</span></span></li></ul></div></div></div></div><div style="box-sizing: border-box; margin-right: auto; margin-left: auto; padding-left: 15px; padding-right: 15px; width: 1140px; margin-top: 30px;"><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 855px;"><div style="box-sizing: border-box; word-wrap: break-word;"><h3 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 0px; font-size: 1.5em;">序言</h3><p style="box-sizing: border-box; margin: 1.5em 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">昨日阿里二面，跪的很惨，项目，算法，计算机基础不问，问Linux内核，我是投的android实习岗，要求是对于android底层有很深厚的基础，问了binder的实现机制，activity栈的管理回退等等，这都是android高级工程师进阶的书里才会讲的东西，这让我很慌呀。啃底层，再战。<br style="box-sizing: border-box;"/>
讲底层，先从系统启动流程开始，这个过程发生了什么，然后逐步分析这个每个流程又做了些什么，在我们的系统中起到一个什么作用。不打算深入代码细节去看，当然能力也是不够的，从整体上有个森林。</span></span></span></p><h3 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.5em;">启动过程</h3><p style="box-sizing: border-box; margin: 1.5em 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><img src="https://segmentfault.com/img/bVtLVk" style="box-sizing: border-box; border: 1px solid rgb(221, 221, 221); vertical-align: middle; max-width: 100%; position: static !important; padding: 3px; cursor: pointer; display: inline; height: auto;"></img></span></span></span></p><p style="box-sizing: border-box; margin: 1.5em 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">先对启动的过程来一个概览，因为android是基于Linux，所以这里从Linux内核的启动开始到android中的相应服务的启动，对于具体应用的开启下面讲。</span></span></span></p><p style="box-sizing: border-box; margin: 1.5em 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">根据这个图，讲一下整个流程。</span></span></span></p><ol style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px;"><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">当我们开机的时候，此时通电了，这个时候就会触发CMOS（ROM的一种），上面的代码是基本输入输出系统，BIOS得到执行。</span></span></span></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">BIOS从我们的磁盘中寻找我们操作系统引导程序，将引导程序加载到内存中，执行，然后将我们的Linux内核加载到内存中。</span></span></span></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">启动init进程，这个进程是用户态所有进程的祖先，内核态是叫做内核线程和用户进程差不多。</span></span></span></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">init进程首先通过fork创建子进程，首先是Daemon进程也就是守护进程，包括USB守护进程，Debug进程，无线通信连接守护进程。</span></span></span></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">fork出Context Manager，通过上图我们可以看出，android系统提供的服务都要向其进行注册，然后其它的进程才可以调用这个服务。</span></span></span></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">Media Server，这个服务是本地服务，不是Java服务，不需要再通过dalvik虚拟机装载执行，本地服务单独开启了一个进程。这里包括Audio Flinger和Camera Service。</span></span></span></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">Zygote，所有Android应用程序的祖先，其用来缩短应用程序的加载时间，具体怎么节省，下面详解。</span></span></span></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">System Server是android系统中的一个核心进程，提供了管理应用程序生命周期，地理位置信息等各种服务。同时其需要将自身注册到Context Manager.但是我们的服务管理器是基于C语言的，所以我们需要JNI本地编程接口。这个时候Activity Manager Service会运行HOME应用。</span></span></span></p></li></ol><p style="box-sizing: border-box; margin: 1.5em 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">大致我们已经了解了启动的流程Linux内核，init进程fork出多个进程，zygote用来孵化Java系统服务，同时孵化应用程序。接下来，我们再深入的去看一下。zygote是如何被创建出来的。</span></span></span></p><div><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><br/></span></span></span></div><div style="box-sizing: border-box; font-family: inherit; color: inherit; margin: 1.5em 0px 0px; font-weight: 500; font-size: 21px;"><div>Zygote创建过程</div></div><div><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><br/></span></span></span></div><div style="box-sizing: border-box; margin: 1.5em 0px;"><div><img src="Android从开机到打开第一个应用发生了什么？_files/Image.png" type="image/png"/></div></div><p style="box-sizing: border-box; margin: 1.5em 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">对于Service的创建，在后面讲到Service的时候单独再说，先讲Zygote，因为这是我们的所有应用开启的基石。因为zygote是Java代码，所以需要装载到Dalvik VM上执行，所以在启动Zygote之前要启动Dalvik VM，所以这里要分为两步了，第一步启动Dalvik VM，第二步是启动Zygote。</span></span></span></p><ol style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px;"><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">首先生成了一个AppRuntime对象，该类是继承自AndroidRuntime的，该类用来初始化并且运行Dalvik 虚拟机，为运行Android应用做好准备。接受main函数传递进来的参数，然后初始化虚拟机。</span></span></span></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">虚拟机初始化之后，运行ZygoteInit类，通过路径查找找到，现在程序的执行转向了虚拟机Java代码的执行，首先执行器main函数，接下来就是Zygote的作用过程了，在下面部分。</span></span></span></p></li></ol><h3 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin: 1.5em 0px 0px; font-size: 1.5em;">Zygote启动应用过程</h3><div><br/></div><div style="box-sizing: border-box; margin: 1.5em 0px;"><div><img src="Android从开机到打开第一个应用发生了什么？_files/Image [1].png" type="image/png"/></div></div><ol style="box-sizing: border-box; margin: 1.5em 0px 1.5em 3em; padding-left: 0px;"><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">Zygote执行之后，首先是绑定一个套接字，用来接收从Activity Manager来的应用启动请求（这里我们可以想到网络通讯中的Socket通信）</span></span></span></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">将应用程序框架中的类，平台资源（图像，XML信息，字符串）预先加载到内存中，借此提升程序的执行速度。Android也是通过在Zygote创建的时候加载资源，生成信息链接等，以后再有应用启动，fork出一个子进程和父进程共享这些信息，而不需要重新加载，同时也共享虚拟机，因为虚拟机在初始化和创建的过程是很耗时的。</span></span></span></p></li><li style="box-sizing: border-box; margin: 0.3em 0px;"><p style="box-sizing: border-box; margin: 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">前面也提到过一些system server也是java的，而且我们的应用启动等需要这些server的参与，所以在启动应用之前先启动了这些System server，然后启动Server Thread来执行android framework的服务，同时这些服务在启动的时候都是需要通过JNI向服务管理器Context Manager注册。<br style="box-sizing: border-box;"/>
经历了上述步骤的zygote处在轮询监听Socket，当有请求到达，读取请求，fork出子进程，加载进程所需要的类，然后执行要执行程序的main函数，代码转给了Dalvik Vm，我们的应用程序也就启动起来了。这个时候，将关闭套接字，删除请求描述符，防止出现重复启动。</span></span></span></p></li></ol><div><br/></div><div style="box-sizing: border-box; margin: 1.5em 0px;"><div><img src="Android从开机到打开第一个应用发生了什么？_files/Image [2].png" type="image/png"/></div></div><p style="box-sizing: border-box; margin: 1.5em 0px 0px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">上面只是对整体流程进行了一个概述，细节涉及不深，这里再提一下，虚拟机，究竟是什么呢？这里的虚拟机可以理解成，可以解析Java字节码的内存上的一条条指令，各个应用共享这个虚拟机，也就是都是知道虚拟机的内存中地址，传递进java字节码，然后解析字节码，将字节码实际代表的操作反应出来，多个应用程序可以交替使用，通过寄存器记录彼此执行后的状态。fork出一个进程之后，我们装载应用程序相应的类，然后执行。</span></span></span></p></div><div style="box-sizing: border-box; margin-top: 10px;"><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10.5px; float: left !important; padding-left: 0px; list-style: none; margin-left: -5px;"><li style="box-sizing: border-box; display: inline-block; padding-left: 5px; padding-right: 5px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><a href="https://segmentfault.com/a/1190000004676352" style="box-sizing: border-box; color: rgb(119, 119, 119); text-decoration: none; outline: 0px; background: transparent;">5 天前发布</a></span></span></span></li></ul></div><div style="box-sizing: border-box; text-align: center; margin-top: 10px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"> </span></span></span></div><div style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); margin-top: 40px; margin-bottom: 30px; padding-top: 30px;"><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 570px;"><h4 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin-top: 0px; margin-bottom: 10.5px; font-size: 18px;">你可能感兴趣的文章</h4><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10.5px; padding-left: 0px; list-style: none;"><li style="box-sizing: border-box; margin-bottom: 8px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><a href="https://segmentfault.com/a/1190000003029860" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 6px; word-break: break-word; background: transparent;" title="Android Dev Bookmarks">Android Dev Bookmarks</a> <small style="box-sizing: border-box; font-size: 13px; color: rgb(119, 119, 119); display: inline-block;">4 收藏，376 浏览</small></span></span></span></li><li style="box-sizing: border-box; margin-bottom: 8px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><a href="https://segmentfault.com/a/1190000000688315" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 6px; word-break: break-word; background: transparent;" title="Android Studio突然没有语法检测，还原Android Studio设置">Android Studio突然没有语法检测，还原Android Studio设置</a> <small style="box-sizing: border-box; font-size: 13px; color: rgb(119, 119, 119); display: inline-block;">1 收藏，1.4k 浏览</small></span></span></span></li><li style="box-sizing: border-box; margin-bottom: 8px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><a href="https://segmentfault.com/a/1190000002594697" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 6px; word-break: break-word; background: transparent;" title="android orientationchange的问题">android orientationchange的问题</a> <small style="box-sizing: border-box; font-size: 13px; color: rgb(119, 119, 119); display: inline-block;">659 浏览</small></span></span></span></li></ul></div><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 284.984px;"><div style="box-sizing: border-box;"><div style="box-sizing: border-box; color: rgb(119, 119, 119);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">本文采用 <a href="http://creativecommons.org/licenses/by-sa/3.0/cn" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;" target="_blank">知识共享署名-相同方式共享 3.0 中国大陆许可协议</a>，转载、引用前需联系作者，并署名作者且注明文章出处 。</span></span></div></div></div></div></div><h2 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin-top: 10.5px; margin-bottom: 15px; font-size: 18px; padding-top: 20px; border-top-width: 2px; border-top-style: solid; border-top-color: rgb(204, 204, 204);">讨论区</h2><div style="box-sizing: border-box; list-style: none; margin: 0px 0px 15px; font-size: 13px; color: rgb(102, 102, 102); padding: 10px; border-radius: 2px; background-color: rgb(246, 246, 246);"><div style="box-sizing: border-box; margin-bottom: 10px; transition-duration: 1s; background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAYAAAD5PA/NAAAAEUlEQVQIHWO4e/fufxBmgAIAWVEHLYEgi9EAAAAASUVORK5CYII=) 50% 100% repeat-x;"><div style="box-sizing: border-box; position: relative; text-align: center; float: left; margin: 5px 10px 0px 0px; width: 20px; height: 30px; font-size: 12px; box-shadow: none; background: transparent;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><span style="box-sizing: border-box;"> </span></span></div><div style="box-sizing: border-box; word-break: break-all; overflow: auto;"><div style="box-sizing: border-box; word-wrap: break-word; font-size: 13px;"><p style="box-sizing: border-box; margin: 0px 0px 10px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">加油</span></p></div><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(153, 153, 153);"><a href="https://segmentfault.com/c/1050000004683325" style="box-sizing: border-box; color: rgb(119, 119, 119); text-decoration: none; outline: 0px; background: transparent;"></a><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"> <a href="https://segmentfault.com/u/manxisuo" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"><strong style="box-sizing: border-box; font-weight: 700;">manxisuo</strong></a> · <span style="box-sizing: border-box;">4 天前</span><span style="box-sizing: border-box; float: right !important; visibility: hidden; transition-delay: 0.4s;"><a href="https://segmentfault.com/a/1190000004676352#" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 5px; background: transparent;"></a><a href="https://segmentfault.com/a/1190000004676352#911" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-left: 10px; background: transparent;" title="举报"></a></span></span></p></div></div><div style="box-sizing: border-box; margin-bottom: 10px; transition-duration: 1s; background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAYAAAD5PA/NAAAAEUlEQVQIHWO4e/fufxBmgAIAWVEHLYEgi9EAAAAASUVORK5CYII=) 50% 100% repeat-x;"><div style="box-sizing: border-box; position: relative; text-align: center; float: left; margin: 5px 10px 0px 0px; width: 20px; height: 30px; font-size: 12px; box-shadow: none; background: transparent;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><span style="box-sizing: border-box;"> </span></span></div><div style="box-sizing: border-box; word-break: break-all; overflow: auto;"><div style="box-sizing: border-box; word-wrap: break-word; font-size: 13px;"><p style="box-sizing: border-box; margin: 0px 0px 10px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">感觉Android这块找个好工作越来越难了！！！</span></p></div><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(153, 153, 153);"><a href="https://segmentfault.com/c/1050000004701456" style="box-sizing: border-box; color: rgb(119, 119, 119); text-decoration: none; outline: 0px; background: transparent;"></a><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"> <a href="https://segmentfault.com/u/luoguimu123" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;"><strong style="box-sizing: border-box; font-weight: 700;">luoguimu123</strong></a> · <span style="box-sizing: border-box;">1 天前</span><span style="box-sizing: border-box; float: right !important; visibility: hidden; transition-delay: 0.4s;"><a href="https://segmentfault.com/a/1190000004676352#" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-right: 5px; background: transparent;"></a><a href="https://segmentfault.com/a/1190000004676352#911" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; margin-left: 10px; background: transparent;" title="举报"></a></span></span></p></div></div><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 835px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">请先 <a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">登录</a> 后评论</span></div></div></div></div><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 285px;"><div style="box-sizing: border-box;"><div style="box-sizing: border-box;"><ins style="box-sizing: border-box;"></ins></div></div><div style="box-sizing: border-box; margin: 0px 0px 25px; padding-top: 0px; border: none;"><p style="box-sizing: border-box; margin: 0px 0px 10.5px; color: rgb(119, 119, 119);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">本文隶属于专栏</span></span></p><h4 style="box-sizing: border-box; font-family: inherit; font-weight: 500; color: inherit; margin-top: 10.5px; margin-bottom: 10.5px; font-size: 16px;"><a href="https://segmentfault.com/blog/xiaodiankuzou" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; background: transparent;">Everyday</a></h4><p style="box-sizing: border-box; margin: 0px 0px 10.5px; word-break: break-word;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">Java/Python/Flask/Android/OS/Algorithms/Networking/Design pattern/Software Engineering/Shell/Linux/Git/Source code/C/Mysql/React native/JS/LintCode</span></span></span></p><div style="box-sizing: border-box;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><a href="https://segmentfault.com/u/jensenczx" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; background: transparent;"><img src="Android从开机到打开第一个应用发生了什么？_files/Image.jpg" type="image/jpeg" alt="Jensea" style="box-sizing: border-box; border: 0px; vertical-align: middle; border-top-left-radius: 50%; border-top-right-radius: 50%; border-bottom-right-radius: 50%; border-bottom-left-radius: 50%; width: 40px; float: left; margin-right: 10px; height: auto;"/><span style="box-sizing: border-box;">Jensea</span></a><span style="box-sizing: border-box; color: rgb(119, 119, 119);">作者</span></span></span></span></div></div><div style="box-sizing: border-box; margin-bottom: 20px;"><div style="box-sizing: border-box; margin-bottom: 10px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">分享扩散：</span></span></span></div><div style="box-sizing: border-box; float: left; color: rgb(153, 153, 153); font-size: 13px; display: block;"><ul style="box-sizing: border-box; margin: 0px; list-style: none; display: inline; padding: 0px; vertical-align: text-bottom;"><li style="box-sizing: border-box; display: inline-block; margin-right: 5px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: inline-block; width: 28px; height: 28px; vertical-align: middle; border-radius: 2px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/social-icons/icon-sn.svg) -56px -28px / auto 56px no-repeat transparent;">新浪微博</a></span></li><li style="box-sizing: border-box; display: inline-block; margin-right: 5px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: inline-block; width: 28px; height: 28px; vertical-align: middle; border-radius: 2px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/social-icons/icon-sn.svg) -252px -28px / auto 56px no-repeat transparent;">微信</a></span></li><li style="box-sizing: border-box; display: inline-block; margin-right: 5px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: inline-block; width: 28px; height: 28px; vertical-align: middle; border-radius: 2px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/social-icons/icon-sn.svg) -112px -28px / auto 56px no-repeat transparent;">Twitter</a></span></li><li style="box-sizing: border-box; display: inline-block; margin-right: 5px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><a style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: inline-block; width: 28px; height: 28px; vertical-align: middle; border-radius: 2px; text-indent: 110%; white-space: nowrap; overflow: hidden; text-transform: capitalize; background: url(https://sf-static.b0.upaiyun.com/v-56fa5b80/global/img/social-icons/icon-sn.svg) -140px -28px / auto 56px no-repeat transparent;">Facebook</a></span></li></ul></div><a style="box-sizing: border-box; color: rgb(255, 255, 255); text-decoration: none; outline: 0px; display: inline-block; margin-bottom: 0px; font-weight: 400; text-align: center; vertical-align: middle; cursor: pointer; border: none; white-space: nowrap; padding: 0px; font-size: 12px; border-radius: 3px; box-shadow: none; background: none transparent;" type="button"></a></div><div style="box-sizing: border-box; display: block; padding: 10px 0px; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(238, 238, 238); width: 255px; top: 0px; background: rgb(255, 255, 255);"><div style="box-sizing: border-box; margin: 0px; border: none; border-radius: 3px; box-shadow: rgb(255, 255, 255) 0px 0px 0px; top: 0px; position: relative; max-width: 250px; background-color: rgb(255, 255, 255);"><div style="box-sizing: border-box; padding: 8px 12px; border: none; border-top-right-radius: 2px; border-top-left-radius: 2px; color: rgb(51, 51, 51); font-weight: 700; cursor: initial; font-size: 16px; background-color: rgb(255, 255, 255);"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;">文章目录</span></div><div style="box-sizing: border-box; padding: 0px 0px 10px; max-height: inherit; overflow: hidden; transition: all 0.2s ease; position: relative; z-index: 2;"><div style="box-sizing: border-box; position: relative; padding: 0px 12px; top: 0px;"><ul style="box-sizing: border-box; margin: 0px; position: relative; z-index: 2; padding-left: 18px; list-style-type: square;"><li style="box-sizing: border-box;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><a href="https://segmentfault.com/a/1190000004676352#articleHeader0" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">序言</a></span></span></span></li><li style="box-sizing: border-box;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><a href="https://segmentfault.com/a/1190000004676352#articleHeader1" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">启动过程</a></span></span></span></li><li style="box-sizing: border-box;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><a href="https://segmentfault.com/a/1190000004676352#articleHeader2" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">Zygote创建过程</a></span></span></span></li><li style="box-sizing: border-box;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 14px;"><span style="font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif;"><a href="https://segmentfault.com/a/1190000004676352#articleHeader3" style="box-sizing: border-box; color: rgb(0, 154, 97); text-decoration: none; outline: 0px; display: block; padding: 3px 0px; background: transparent;">Zygote启动应用过程</a></span></span></span></li></ul></div></div></div></div></div></div></div></div><div style="box-sizing: border-box; margin-right: auto; margin-left: auto; padding-left: 15px; padding-right: 15px; width: 1140px;"><div style="box-sizing: border-box; margin-left: -15px; margin-right: -15px;"><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 190px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">网站相关</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/about" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">关于我们</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/tos" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">服务条款</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/faq" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">帮助中心</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/repu" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">声望与权限</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/markdown" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">编辑器语法</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://weekly.segmentfault.com/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">每周精选</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/app" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">App 下载</a></dd></dl><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 190px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">联系合作</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/contact" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">联系我们</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/hiring" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">加入我们</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/link" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">合作伙伴</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/press" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">媒体报道</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://board.segmentfault.com/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">建议反馈</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="http://pan.baidu.com/share/link?shareid=604288&amp;uk=839272106" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">Logo 下载</a></dd></dl><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 190px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">常用链接</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://chrome.google.com/webstore/detail/segmentfault-%E7%AC%94%E8%AE%B0/pjklfdmleagfaekibdccmhlhellefcfo" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">笔记插件: Chrome</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://addons.mozilla.org/zh-CN/firefox/addon/sf-note-ext/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">笔记插件: Firefox</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;">订阅：<a href="https://segmentfault.com/feeds" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">问答</a> / <a href="https://segmentfault.com/feeds/blogs" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">文章</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://mirrors.segmentfault.com/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">SF 文档镜像</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/interview" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">SF 社区访谈</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/d-day" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">技术沙龙D-DAY</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/hackathon" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">黑客马拉松Hackathon</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://namebeta.com/" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">域名搜索注册</a></dd></dl><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 190px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">关注我们</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://github.com/SegmentFault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">Github</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://twitter.com/segment_fault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">Twitter</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://weibo.com/segmentfault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">新浪微博</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/segmentfault_team" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">SF 团队日志</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/segmentfault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">产品技术日志</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/community_admin" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">社区运营日志</a></dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://segmentfault.com/blog/segmentfault_news" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">市场运营日志</a></dd></dl><dl style="box-sizing: border-box; margin: 0px 0px 40px; position: relative; min-height: 1px; padding-left: 15px; padding-right: 15px; float: left; width: 379.984px;"><dt style="box-sizing: border-box; font-weight: 700; margin-bottom: 20px; color: rgb(51, 51, 51);">内容许可</dt><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;">除特别说明外，用户内容均采用 <a href="http://creativecommons.org/licenses/by-sa/3.0/cn/" rel="license" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">知识共享署名-相同方式共享 3.0 中国大陆许可协议</a> 进行许可</dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;">本站由 <a href="https://www.upyun.com/?utm_source=segmentfault&amp;utm_medium=link&amp;utm_campaign=upyun&amp;md=segmentfault" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;" target="_blank">又拍云</a> 提供 CDN 存储服务</dd><dd style="box-sizing: border-box; margin: 5px 0px; font-size: 13px;"><a href="https://mixpanel.com/f/partner" rel="nofollow" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;"><img src="Android从开机到打开第一个应用发生了什么？_files/Image [3].png" type="image/png" alt="Mobile Analytics" height="24" style="box-sizing: border-box; border: 0px; vertical-align: middle;"/></a></dd></dl></div><div style="box-sizing: border-box; text-align: center; font-size: 13px;">Copyright © 2011-2016 SegmentFault. 当前呈现版本 16.03.22<br style="box-sizing: border-box;"/><a href="http://www.miibeian.gov.cn/" rel="nofollow" style="box-sizing: border-box; color: rgb(136, 136, 136); text-decoration: none; outline: 0px; background: transparent;">浙ICP备15005796号-2</a></div><p style="box-sizing: border-box; margin: 0px 0px 10.5px; text-align: center;"></p></div><div style="box-sizing: border-box; position: fixed; right: 40px; bottom: 40px; border: 1px solid rgb(221, 221, 221); width: 36px; text-align: center; border-radius: 2px; z-index: 1000; color: rgb(51, 51, 51); font-family: &apos;Helvetica Neue&apos;, Helvetica, Arial, &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;WenQuanYi Micro Hei&apos;, &apos;Microsoft Yahei&apos;, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: rgb(255, 255, 255);"><div style="box-sizing: border-box; position: relative;"><a href="https://segmentfault.com/app#qrcode" style="box-sizing: border-box; color: rgb(153, 153, 153); text-decoration: none; outline: 0px; padding: 10px; display: block; background: transparent;"></a></div></div><div><br/></div></span>
</div></body></html> 