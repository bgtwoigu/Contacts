<html>
<head>
  <title>52 [转] Android 中处理崩溃异常并重启程序</title>
  <basefont face="Microsoft YaHei" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/301769 (zh-CN); Windows/6.3.9600 (Win64);"/>
  <style>
    body, td {
      font-family: Microsoft YaHei;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="730"/>
<h1>52 [转] Android 中处理崩溃异常并重启程序</h1>

<div>
<span><div><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;">有时候由于测试不充分或者程序潜在的问题而导致程序异常崩溃，这个是令人无法接受的，在<a href="http://lib.csdn.net/base/15" style="color: rgb(223, 52, 52); text-decoration: none; font-weight: bold;" target="_blank" title="Android知识库">Android</a>中怎样捕获程序的异常崩溃，然后进行一些必要的处理或重新启动</p><div style="color: rgb(51, 51, 51); font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; font-size: 14px;"><div><br/></div></div><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;">首先捕获程序崩溃的异常就必须了解一下<a href="http://lib.csdn.net/base/17" style="color: rgb(223, 52, 52); text-decoration: none; font-weight: bold;" target="_blank" title="Java EE知识库">Java</a>中UncaughtExceptionHandler这个接口，android沿用了此接口，在android API中：</p><div style="color: rgb(51, 51, 51); font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; font-size: 14px;"><div><br/></div></div><div style="color: rgb(51, 51, 51); font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; font-size: 14px;"><div><img src="52 [转] Android 中处理崩溃异常并重启程序_files/Image.jpg" type="image/jpeg" style="height: auto;"/></div><div>通过实现此接口，能够处理线程被一个无法捕捉的异常所终止的情况。如上所述的情况，handler将会报告线程终止和不明原因异常这个情况，如果没有自定义handler，</div></div><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;">线程管理组就被默认为报告异常的handler。</p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;">ThreadGroup 这个类就是实现了UncaughtExceptionHandler这个接口，如果想捕获异常我们可以实现这个接口或者继承ThreadGroup，并重载uncaughtException方法。</p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;">在java API中对该接口描述的更详细：</p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;"><img src="52 [转] Android 中处理崩溃异常并重启程序_files/Image [1].jpg" type="image/jpeg" style="border: none; max-width: 100%; height: auto;"/><br/></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;">我就不翻译了，太吃力了....%&gt;_&lt;%。在实现UncaughtExceptionHandler时，必须重载uncaughtException(Thread thread, Throwable ex) ，如果我们没有实现该接口</p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;">也就是没有显示捕捉异常，则ex为空，否则ex不为空，thread 则为出异常的线程。</p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;">接下来上代码，实现UncaughtExceptionHandler接口，显示处理线程异常终止的情况：</p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;"></p><div style="font-family: Consolas, &apos;Courier New&apos;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 936.53125px; overflow: auto; padding-top: 1px; text-align: left; margin: 18px 0px !important; color: rgb(51, 51, 51); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="padding-left: 45px;"><div style="padding: 3px 8px 10px 10px; font-style: normal; font-variant: normal; font-weight: normal; font-size: 9px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left-width: 3px; border-left-style: solid; border-left-color: rgb(153, 153, 153);"><strong>[java]</strong> <a href="http://blog.csdn.net/zkw12358/article/details/11097649#" style="color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif); background-color: inherit; border: none; padding: 0px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;" target="_blank" title="view plain">view plain</a><a href="http://blog.csdn.net/zkw12358/article/details/11097649#" style="color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif); background-color: inherit; border: none; padding: 0px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;" target="_blank" title="copy">copy</a></div></div><ol start="1" style="margin: 0px 0px 1px 45px !important; padding: 0px; border: none; list-style: decimal; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">public</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">class</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> UnCeHandler </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">implements</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> UncaughtExceptionHandler {  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">      </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">private</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> Thread.UncaughtExceptionHandler mDefaultHandler;    </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">public</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">static</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">final</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> String TAG = </span><span style="margin: 0px; padding: 0px; border: none; color: red; background-color: inherit;">&quot;CatchExcep&quot;</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">;  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    CatchExcep application;  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">      </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">public</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> UnCeHandler(CatchExcep application){  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">         <span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//获取系统默认的UncaughtException处理器  </span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">         mDefaultHandler = Thread.getDefaultUncaughtExceptionHandler();  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">         <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">this</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">.application = application;  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    }  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">      </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: rgb(100, 100, 100); background-color: inherit;">@Override</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">public</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">void</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> uncaughtException(Thread thread, Throwable ex) {      </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">if</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">(!handleException(ex) &amp;&amp; mDefaultHandler != </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">null</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">){   </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            <span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//如果用户没有处理则让系统默认的异常处理器来处理  </span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            mDefaultHandler.uncaughtException(thread, ex);                </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        }<span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">else</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">{         </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">try</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">{    </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">                Thread.sleep(<span style="margin: 0px; padding: 0px; border: none; color: rgb(192, 0, 0); background-color: inherit;">2000</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">);    </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            }<span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">catch</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> (InterruptedException e){    </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">                Log.e(TAG, <span style="margin: 0px; padding: 0px; border: none; color: red; background-color: inherit;">&quot;error : &quot;</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">, e);    </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            }     </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            Intent intent = <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">new</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> Intent(application.getApplicationContext(), MainActivity.</span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">class</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">);  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            PendingIntent restartIntent = PendingIntent.getActivity(    </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">                    application.getApplicationContext(), <span style="margin: 0px; padding: 0px; border: none; color: rgb(192, 0, 0); background-color: inherit;">0</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">, intent,    </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">                    Intent.FLAG_ACTIVITY_NEW_TASK);                                                 </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            <span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//退出程序                                        </span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            AlarmManager mgr = (AlarmManager)application.getSystemService(Context.ALARM_SERVICE);    </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            mgr.set(AlarmManager.RTC, System.currentTimeMillis() + <span style="margin: 0px; padding: 0px; border: none; color: rgb(192, 0, 0); background-color: inherit;">1000</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">,    </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">                    restartIntent); <span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">// 1秒钟后重启应用 </span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            application.finishActivity();  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        }    </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    }  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">      </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">/** </span> </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">     * 自定义错误处理,收集错误信息 发送错误报告等操作均在此完成. </span> </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">     *  </span> </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">     * @param ex </span> </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">     * @return true:如果处理了该异常信息;否则返回false. </span> </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">     */</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">private</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">boolean</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> handleException(Throwable ex) {    </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">if</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> (ex == </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">null</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">) {    </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">return</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">false</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">;    </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        }    </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        <span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//使用Toast来显示异常信息  </span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">new</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> Thread(){    </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            <span style="margin: 0px; padding: 0px; border: none; color: rgb(100, 100, 100); background-color: inherit;">@Override</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">public</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">void</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> run() {    </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">                Looper.prepare();    </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">                Toast.makeText(application.getApplicationContext(), <span style="margin: 0px; padding: 0px; border: none; color: red; background-color: inherit;">&quot;很抱歉,程序出现异常,即将退出.&quot;</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">,   </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">                        Toast.LENGTH_SHORT).show();    </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">                Looper.loop();    </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            }   </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        }.start();    </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">return</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">true</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">;    </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    }    </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">}  </span></li></ol></div><br style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"/><span style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">通过在android Application 这个全局类中处理异常，如果不知道Application的作用请查看一下此链接：</span><a href="http://my.eoe.cn/cainiao1/archive/2355.html" style="color: rgb(202, 0, 0); text-decoration: none; font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);" target="_blank">Application 详解</a><span style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;"></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;"></p><div style="font-family: Consolas, &apos;Courier New&apos;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 936.53125px; overflow: auto; padding-top: 1px; text-align: left; margin: 18px 0px !important; color: rgb(51, 51, 51); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="padding-left: 45px;"><div style="padding: 3px 8px 10px 10px; font-style: normal; font-variant: normal; font-weight: normal; font-size: 9px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left-width: 3px; border-left-style: solid; border-left-color: rgb(153, 153, 153);"><strong>[java]</strong> <a href="http://blog.csdn.net/zkw12358/article/details/11097649#" style="color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif); background-color: inherit; border: none; padding: 0px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;" target="_blank" title="view plain">view plain</a><a href="http://blog.csdn.net/zkw12358/article/details/11097649#" style="color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif); background-color: inherit; border: none; padding: 0px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;" target="_blank" title="copy">copy</a></div></div><ol start="1" style="margin: 0px 0px 1px 45px !important; padding: 0px; border: none; list-style: decimal; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">public</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">class</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> CatchExcep </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">extends</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> Application{  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">      </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    ArrayList&lt;Activity&gt; list = <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">new</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> ArrayList&lt;Activity&gt;();  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">      </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">public</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">void</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> init(){  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        <span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//设置该CrashHandler为程序的默认处理器  </span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        UnCeHandler catchExcep = <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">new</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> UnCeHandler(</span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">this</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">);  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        Thread.setDefaultUncaughtExceptionHandler(catchExcep);   </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    }  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">      </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">/**</span> </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">     * Activity关闭时，删除Activity列表中的Activity对象*/</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">public</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">void</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> removeActivity(Activity a){  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        list.remove(a);  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    }  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">      </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">/**</span> </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">     * 向Activity列表中添加Activity对象*/</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">public</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">void</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> addActivity(Activity a){  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        list.add(a);  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    }  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">      </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">/**</span> </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">     * 关闭Activity列表中的所有Activity*/</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">public</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">void</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> finishActivity(){  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">for</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> (Activity activity : list) {    </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">if</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> (</span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">null</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> != activity) {    </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">                activity.finish();    </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            }    </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        }  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        <span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">//杀死该应用进程</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">       android.os.Process.killProcess(android.os.Process.myPid());    </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    }  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">}  </span></li></ol></div><br style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"/><span style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">然后人为制造一个异常：</span><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;"></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;"></p><div style="font-family: Consolas, &apos;Courier New&apos;, Courier, mono, serif; font-size: 12px; background-color: rgb(231, 229, 220); width: 936.53125px; overflow: auto; padding-top: 1px; text-align: left; margin: 18px 0px !important; color: rgb(51, 51, 51); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="padding-left: 45px;"><div style="padding: 3px 8px 10px 10px; font-style: normal; font-variant: normal; font-weight: normal; font-size: 9px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; color: silver; background-color: rgb(248, 248, 248); border-left-width: 3px; border-left-style: solid; border-left-color: rgb(153, 153, 153);"><strong>[java]</strong> <a href="http://blog.csdn.net/zkw12358/article/details/11097649#" style="color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif); background-color: inherit; border: none; padding: 0px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;" target="_blank" title="view plain">view plain</a><a href="http://blog.csdn.net/zkw12358/article/details/11097649#" style="color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif); background-color: inherit; border: none; padding: 0px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;" target="_blank" title="copy">copy</a></div></div><ol start="1" style="margin: 0px 0px 1px 45px !important; padding: 0px; border: none; list-style: decimal; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92);"><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    Button btn;  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    TextView tv;  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">private</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> CatchExcep application;  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: rgb(100, 100, 100); background-color: inherit;">@Override</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">protected</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">void</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> onCreate(Bundle savedInstanceState) {  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">super</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">.onCreate(savedInstanceState);  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        setContentView(R.layout.activity_main);  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">          </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        btn = (Button)findViewById(R.id.btn);  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        tv = (TextView)findViewById(R.id.tv);  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">          </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        application = (CatchExcep)getApplication();  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        application.init();  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        application.addActivity(<span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">this</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">);  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">          </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        btn.setOnClickListener(<span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">this</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">);         </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    }     </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">      </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">/**</span> </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: rgb(0, 130, 0); background-color: inherit;">     * 人为制造的异常*/</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">public</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">void</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> press(){  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">new</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> Thread(</span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">new</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> Runnable() {           </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            <span style="margin: 0px; padding: 0px; border: none; color: rgb(100, 100, 100); background-color: inherit;">@Override</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">public</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">void</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> run() {  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">                tv.setText(<span style="margin: 0px; padding: 0px; border: none; color: red; background-color: inherit;">&quot;dfsd&quot;</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">);  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">            }  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        }).start();  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    }  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: rgb(100, 100, 100); background-color: inherit;">@Override</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    <span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">public</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> </span><span style="margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit; font-weight: bold;">void</span><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;"> onClick(View v) {  </span></span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">        press();  </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: rgb(85, 85, 85);"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">    }     </span></li><li style="margin: 0px !important; padding: 0px 3px 0px 10px !important; border-style: none none none solid; border-left-width: 3px; border-left-color: rgb(153, 153, 153); list-style: decimal-leading-zero outside; background-color: rgb(245, 250, 226); color: inherit;"><span style="margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;">}  </span></li></ol></div><br style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"/><span style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">上诉代码就能够实现 应用出现无法捕捉的异常时，杀死当前进程，重新启动一个应用。</span><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;"></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;"><br/></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;">我之前困扰的地方：搜了很多资料，杀死异常进程，重新启动应用，网上应用都是通过Application对象调用startActivity(intent),然后杀死异常进程。但是我怎样试都不成功，</p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;">进程是杀死了，但是应用却没启动起来，如果不将异常进程杀死，那么关闭应用时就得关闭两次，显然不能够接受。网上的一些方法都是错误的：如下几篇博客：</p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;"><a href="http://blog.csdn.net/xianming01/article/details/7711160" style="color: rgb(202, 0, 0); text-decoration: none;" target="_blank">http://blog.csdn.net/xianming01/article/details/7711160</a><br/></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;"><a href="http://blog.csdn.net/ryantang03/article/details/9336295?reload" style="color: rgb(202, 0, 0); text-decoration: none;" target="_blank">http://blog.csdn.net/ryantang03/article/details/9336295?reload</a><br/></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;">他们的方法能够捕获异常，杀死异常进程，但是却不能够重新启动应用。</p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;">如何杀死异常进程，重启应用，就得使用PendingIntent，这个类是android中对Intent类的包装，具体了解我会在写一篇博客，自己也可以去查看android API。</p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;">通过AlarmManager 启动它，并且关闭打开的Activity杀死异常进程就能够实现重新启动应用。</p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;">参考链接：</p><div style="color: rgb(51, 51, 51); font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; font-size: 14px;"><div><a href="http://zheyiw.iteye.com/blog/1670990" style="color: rgb(202, 0, 0); text-decoration: none;" target="_blank">http://zheyiw.iteye.com/blog/1670990</a></div></div></div></span>
</div></body></html> 